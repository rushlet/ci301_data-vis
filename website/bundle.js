!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var i=l(n(1)),r=l(n(49)),o=l(n(50)),s=l(n(43)),a=l(n(4));n(51);var u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(45));l(n(46));function l(t){return t&&t.__esModule?t:{default:t}}var c,h;if(null!==document.getElementById("spotify-log-in"))document.getElementById("spotify-log-in").addEventListener("click",p,!1),document.getElementById("skip-log-in").addEventListener("click",function(){window.location.href="./project.html"},!1);else if(window.location.href.includes("access_token")){var f=window.location.href.match(/\#(?:access_token)\=([\S\s]*?)\&/)[1];localStorage.setItem("access_token",f),!0,document.querySelectorAll(".spotify-playlist").forEach(function(t){t.addEventListener("click",d,!1)}),c=new r.default,h={},c.setAccessToken(localStorage.getItem("access_token")),c.getMe().then(function(t){s.default.user_id=t.id},function(t){401===t.status&&console.log("error")}),c.getMyTopTracks("limit:10").then(function(t){t.items.forEach(function(t){h[t.name]={},h[t.name].title=t.name,h[t.name].spotify_id=t.id,c.getArtist(t.artists[0].id).then(function(e){h[t.name].artist=e.name},function(t){}),c.getAudioFeaturesForTrack(t.id).then(function(e){for(var n in e)h[t.name][n]=e[n]},function(t){401===t.status&&console.log("error")})}),s.default.user_top_tracks=h},function(t){401===t.status&&p()})}else{document.querySelectorAll(".spotify-playlist").forEach(function(t){t.style.display="none"})}function p(){var t="website/project.html";if("rushlet.github.io"===window.location.host)t="ci301_data-vis/website/project.html";var e="https://accounts.spotify.com/authorize/?client_id=ddba468408e2427090e0d79450f3d535&response_type=token&redirect_uri="+(window.location.protocol+"//"+window.location.host+"/"+t)+"&scope=user-read-private%20user-top-read%20playlist-modify-public";window.location.href=e}function d(){(new r.default).followPlaylist(s.default.user_id,"6DNZV1L405XpElhIAUHaKZ").then(function(t){g("Success","Playlist followed!")},function(t){g("Error","Oops, we couldn't follow the playlist at this time. Error: "+t)})}function g(t,e){(0,a.default)("<div></div>").html(e).dialog({title:t,resizable:!1,modal:!0,dialogClass:"alert",buttons:{Okay:function(){(0,a.default)(this).dialog("close")}}})}a.default.getJSON("./assets/data/fixed_data_for_analysis.json",function(t){s.default.dataset=t,(0,o.default)(),u.meanData(),new i.default})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(2)),o=c(n(3)),s=c(n(42)),a=c(n(44)),u=c(n(43)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(48));function c(t){return t&&t.__esModule?t:{default:t}}var h=void 0,f=void 0,p=void 0,d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=(0,r.default)();null!==document.getElementById("project-page")&&((h=new o.default).swarmChart(),p=new s.default,new a.default,e.setup({step:".scroll__text .step",container:".scroll",graphic:".scroll__graphic",offset:.33,debug:!1}).onStepEnter(this.handleStepEnter).onStepExit(this.handleStepExit),f=document.querySelectorAll(".artist-name"))}return i(t,[{key:"handleStepEnter",value:function(t,e){var n=t.element;switch(n.classList.add("is-active"),n.dataset.step){case"swarm--intro":l.zoomReset("swarm-chart"),l.removeAllAnnotations("swarm-chart");break;case"swarm--longest":l.zoomAndPan("swarm-chart",-1950,150,5.5),l.removeAllAnnotations("swarm-chart"),l.annotate("swarm-chart","Beatles",758,212,15,40),l.annotate("swarm-chart","Elvis",850,210,-15,42);break;case"swarm--successful":l.zoomAndPan("swarm-chart",225,75,3),l.removeAllAnnotations("swarm-chart"),l.annotate("swarm-chart","Cliff Richard",500,218,-15,33),l.annotate("swarm-chart","Madonna",320,205,0,46),l.annotate("swarm-chart","Westlife",250,180,15,-20);break;case"swarm--frankie-laine":l.zoomAndPan("swarm-chart",650,350,8),l.removeAllAnnotations("swarm-chart"),l.annotate("swarm-chart","Frankie Laine",370,199,15,30);break;case"swarm--wet-wet-wet":l.zoomAndPan("swarm-chart",1200,300,7.5),l.removeAllAnnotations("swarm-chart"),l.annotate("swarm-chart","Wet Wet Wet",265,212,13,20);break;case"swarm--bieber":l.zoomAndPan("swarm-chart",700,300,7),l.removeAllAnnotations("swarm-chart"),l.annotate("swarm-chart","Justin Bieber",360,210,15,24),l.annotate("swarm-chart","Madonna",320,205,-5,20),l.annotate("swarm-chart","Take That",360,180,20,-3),l.disableExplore("line-chart");break;case"swarm--explore":l.zoomReset("swarm-chart"),l.removeAllAnnotations("swarm-chart"),l.explore("swarm-chart");break;case"line-chart--intro":!0===u.default.lineChartBuilt?"up"===t.direction&&(p.addLines(["danceability","valence","energy"]),p.removeLines(["liveness","instrumentalness","speechiness"])):p.buildMainGraph(),p.buildMainGraph();break;case"line-chart--duration-intro":p.buildDurationGraph();break;case"line-chart--duration-longest":case"line-chart--reset":l.zoomReset("line-chart");break;case"line-chart--acousticness-intro":p.removeLines(["danceability","valence","energy"]),l.removeAllAnnotations("line-chart"),l.zoomReset("line-chart");break;case"line-chart--acousticness-low":l.zoomAndPan("line-chart",-950,-1e3,7),l.annotate("line-chart","2009",615,470,-20,0);break;case"line-chart--acousticness-high":l.zoomAndPan("line-chart",-1400,-800,7),l.annotate("line-chart","2015",670,388,-20,0),"up"===t.direction&&(p.removeLines(["danceability"]),p.addLines(["acousticness"]));break;case"line-chart--danceability-intro":p.removeLines(["acousticness"]),l.removeAllAnnotations("line-chart"),p.addLines(["danceability"]),l.zoomReset("line-chart");break;case"line-chart--danceability-high":l.zoomAndPan("line-chart",400,500,6),l.annotate("line-chart","1983",375,220,-20,-10);break;case"line-chart--danceability-low":l.zoomAndPan("line-chart",1400,-100,6),l.annotate("line-chart","1967",227,330,-20,5),"up"===t.direction&&(p.removeLines(["valence"]),p.addLines(["danceability"]));break;case"line-chart--valence-intro":l.removeAllAnnotations("line-chart"),p.removeLines(["danceability"]),p.addLines(["valence"]),l.zoomReset("line-chart");break;case"line-chart--valence-high":l.zoomAndPan("line-chart",1400,600,6),l.annotate("line-chart","1963",193,177,15,0);break;case"line-chart--valence-low-1954":l.zoomAndPan("line-chart",1800,0,6),l.annotate("line-chart","1954",110,315,20,5);break;case"line-chart--valence-low-1996":p.removeLines(["danceability","acousticness","energy"]),l.zoomAndPan("line-chart",-400,-50,6),l.annotate("line-chart","1996",495,310,0,20),l.disableExplore("line-chart");break;case"line-chart--explore":l.zoomReset("line-chart"),l.removeAllAnnotations("line-chart"),p.addLines(["danceability","acousticness","energy"]),p.addCheckboxListeners(),l.explore("line-chart")}}},{key:"handleStepExit",value:function(t,e){t.element.classList.remove("is-active")}},{key:"resetArtists",value:function(t){t.forEach(function(t){f.forEach(function(e){e.textContent.includes(capitalize(t))&&(e.style.color="#000")}),h.annotate(t,"#000")})}},{key:"capitalize",value:function(t){return t.toLowerCase().split(" ").map(function(t){return t[0].toUpperCase()+t.substr(1)}).join(" ")}}]),t}();e.default=d},function(t,e,n){var i;i=function(){"use strict";function t(t){for(var e=t.length,n=[],i=0;i<e;i+=1)n.push(t[i]);return n}function e(t){return t instanceof Element?t:"string"==typeof t?document.querySelector(t):null}function n(t){return"scrollama__debug-step--"+t.id+"-"+t.i}function i(t){return"scrollama__debug-offset--"+t.id}function r(t){var e=t.id,r=t.offsetVal,o=t.stepEl,s=o[0].getAttribute("class");o.forEach(function(t,i){return function(t){var e=n({id:t.id,i:t.i}),i=document.createElement("div");i.setAttribute("id",e+"_above"),i.setAttribute("class","scrollama__debug-step"),i.style.position="fixed",i.style.left="0",i.style.width="100%",i.style.backgroundImage="repeating-linear-gradient(45deg, green 0, green 2px, white 0, white 40px)",i.style.border="2px solid green",i.style.opacity="0.33",i.style.zIndex="9999",i.style.display="none",document.body.appendChild(i);var r=document.createElement("div");r.setAttribute("id",e+"_below"),r.setAttribute("class","scrollama__debug-step"),r.style.position="fixed",r.style.left="0",r.style.width="100%",r.style.backgroundImage="repeating-linear-gradient(135deg, orange 0, orange 2px, white 0, white 40px)",r.style.border="2px solid orange",r.style.opacity="0.33",r.style.zIndex="9999",r.style.display="none",document.body.appendChild(r)}({id:e,i:i})}),function(t){var e=t.id,n=t.offsetVal,r=t.stepClass,o=document.createElement("div");o.setAttribute("id",i({id:e})),o.setAttribute("class","scrollama__debug-offset"),o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0px",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var s=document.createElement("p");s.innerText='".'+r+'" trigger: '+n,s.style.fontSize="12px",s.style.fontFamily="monospace",s.style.color="black",s.style.margin="0",s.style.padding="6px",o.appendChild(s),document.body.appendChild(o)}({id:e,offsetVal:r,stepClass:s})}function o(t){var e=t.id,r=t.stepOffsetHeight,o=t.offsetMargin;t.offsetVal;r.forEach(function(t,i){return function(t){var e=t.id,i=t.h,r=t.i,o=t.offsetMargin,s=n({id:e,i:r}),a=document.querySelector("#"+s+"_above");a.style.height=i+"px",a.style.top=o-i+"px";var u=document.querySelector("#"+s+"_below");u.style.height=i+"px",u.style.top=o+"px"}({id:e,h:t,i:i,offsetMargin:o})}),function(t){var e=t.id,n=t.offsetMargin,r=(t.offsetVal,i({id:e}));document.querySelector("#"+r).style.top=n+"px"}({id:e,offsetMargin:o})}function s(t){var e=t.id,i=t.index,r=t.state,o=n({id:e,i:i}),s=document.querySelector("#"+o+"_above"),a=document.querySelector("#"+o+"_below"),u="enter"===r?"block":"none";s&&(s.style.display=u),a&&(a.style.display=u)}return function(){var n=1,i={},a={},u=null,l=null,c=null,h=null,f=0,p=0,d=0,g=0,v=null,y=null,m=null,_=!1,b=!1,x=!1,w=!1,k=0,M=!1,T=!1,C=null,S=null,E=-1,A=null,N=[];function P(t){var e=0;if(t.offsetParent)do{e+=t.offsetTop,t=t.offsetParent}while(t);return e<0?0:e}function O(t){return+t.getAttribute("data-scrollama-index")}function D(){window.pageYOffset>E?A="down":window.pageYOffset<E&&(A="up"),E=window.pageYOffset}function z(){var t,e;d=window.innerHeight,t=document.body,e=document.documentElement,g=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),m=l?l.getBoundingClientRect():null,p=f*d,v=c?c.map(function(t){return t.offsetHeight}):[],y=c?c.map(P):[],b&&_&&K(),x&&o({id:h,stepOffsetHeight:v,offsetMargin:p,offsetVal:f})}function j(t){t&&!b?(_&&K(),b=!0):t||(a.top&&a.top.disconnect(),a.bottom&&a.bottom.disconnect(),a.stepAbove&&a.stepAbove.forEach(function(t){return t.disconnect()}),a.stepBelow&&a.stepBelow.forEach(function(t){return t.disconnect()}),a.stepProgress&&a.stepProgress.forEach(function(t){return t.disconnect()}),a.viewportAbove&&a.viewportAbove.forEach(function(t){return t.disconnect()}),a.viewportBelow&&a.viewportBelow.forEach(function(t){return t.disconnect()}),b=!1)}function L(t,e){if("above"===e)for(var n=0;n<t;n++){var i=C[n];"enter"===i.state&&R(c[n]),"up"===i.direction&&(I(c[n],"down"),R(c[n]))}else if("below"===e)for(var r=C.length-1;r>t;r--){var o=C[r];"enter"===o.state&&R(c[r]),"down"===o.direction&&(I(c[r],"up"),R(c[r]))}}function I(t,e){void 0===e&&(e=!0);var n=O(t),r={element:t,index:n,direction:A};C[n].direction=A,C[n].state="enter",M&&e&&"down"===A&&L(n,"above"),M&&e&&"up"===A&&L(n,"below"),i.stepEnter&&"function"==typeof i.stepEnter&&!N[n]&&(i.stepEnter(r,C),x&&s({id:h,index:n,state:"enter"}),T&&(N[n]=!0)),w&&H(t,"down"===A?0:1)}function R(t){var e=O(t),n={element:t,index:e,direction:A};C[e].direction=A,C[e].state="exit",w&&H(t,"down"===A?1:0),i.stepExit&&"function"==typeof i.stepExit&&(i.stepExit(n,C),x&&s({id:h,index:e,state:"exit"}))}function H(t,e){var n={element:t,index:O(t),progress:e};i.stepProgress&&"function"==typeof i.stepProgress&&i.stepProgress(n)}function q(){var t={direction:A};S.direction=A,S.state="enter",i.containerEnter&&"function"==typeof i.containerEnter&&i.containerEnter(t)}function F(){var t={direction:A};S.direction=A,S.state="exit",i.containerExit&&"function"==typeof i.containerExit&&i.containerExit(t)}function $(t){D(),t.forEach(function(t){var e=t.isIntersecting,i=t.boundingClientRect,r=t.target,o=i.bottom,s=i.height,a=o-p,u=O(r),l=C[u];a>=-n&&(e&&"down"===A&&"enter"!==l.state?I(r,A):e||"up"!==A||"enter"!==l.state?!e&&a>=s&&"down"===A&&"enter"===l.state&&R(r):R(r))})}function B(t){D(),t.forEach(function(t){var e=t.isIntersecting,i=t.boundingClientRect,r=t.target,o=i.bottom,s=i.height,a=o-p,u=O(r),l=C[u];a>=-n&&a<s&&e&&"up"===A&&"enter"!==l.state?I(r,A):a<=n&&!e&&"down"===A&&"enter"===l.state&&R(r)})}function W(t){D(),t.forEach(function(t){var e=t.isIntersecting,n=t.target,i=O(n),r=C[i];e&&"down"===A&&"enter"!==r.state&&"down"!==r.direction&&(I(n,"down"),R(n))})}function U(t){D(),t.forEach(function(t){var e=t.isIntersecting,n=t.target,i=O(n),r=C[i];e&&"up"===A&&"enter"!==r.state&&"up"!==r.direction&&(I(n,"up"),R(n))})}function Y(t){D(),t.forEach(function(t){var e=t.isIntersecting,i=t.intersectionRatio,r=t.boundingClientRect,o=t.target,s=r.bottom;e&&s-p>=-n&&H(o,+i.toFixed(3))})}function X(t){D();var e=t[0],i=e.isIntersecting,r=e.boundingClientRect;r.top,r.bottom>-n&&(i?q():"enter"===S.state&&F())}function V(t){D();var e=t[0],i=e.isIntersecting;e.boundingClientRect.top<n&&(i?q():"enter"===S.state&&F())}function G(){a.stepProgress&&a.stepProgress.forEach(function(t){return t.disconnect()}),a.stepProgress=c.map(function(t,e){var n=v[e]-p+"px 0px "+(-d+p)+"px 0px",i=function(t){for(var e=Math.ceil(t/k),n=[],i=1/e,r=0;r<e;r++)n.push(r*i);return n}(v[e]),r=new IntersectionObserver(Y,{root:null,rootMargin:n,threshold:i});return r.observe(t),r})}function K(){a.viewportAbove&&a.viewportAbove.forEach(function(t){return t.disconnect()}),a.viewportAbove=c.map(function(t,e){var n=y[e],i=-(d-p+v[e]),r=new IntersectionObserver(W,{root:null,rootMargin:n+"px 0px "+i+"px 0px",threshold:0});return r.observe(t),r}),a.viewportBelow&&a.viewportBelow.forEach(function(t){return t.disconnect()}),a.viewportBelow=c.map(function(t,e){var n=-(p+v[e]),i=g-y[e]-v[e]-p,r=new IntersectionObserver(U,{root:null,rootMargin:n+"px 0px "+i+"px 0px",threshold:0});return r.observe(t),r}),a.stepAbove&&a.stepAbove.forEach(function(t){return t.disconnect()}),a.stepAbove=c.map(function(t,e){var n=v[e],i=new IntersectionObserver($,{root:null,rootMargin:n+"px 0px "+(-d+p)+"px 0px",threshold:0});return i.observe(t),i}),a.stepBelow&&a.stepBelow.forEach(function(t){return t.disconnect()}),a.stepBelow=c.map(function(t,e){var n=-p,i=g-d+v[e]+p,r=new IntersectionObserver(B,{root:null,rootMargin:n+"px 0px "+i+"px 0px",threshold:0});return r.observe(t),r}),w&&G(),u&&l&&(function(){a.top&&a.top.unobserve(u);var t={root:null,rootMargin:d+"px 0px -"+d+"px 0px",threshold:0};a.top=new IntersectionObserver(X,t),a.top.observe(u)}(),function(){a.bottom&&a.bottom.unobserve(u);var t={root:null,rootMargin:"-"+m.height+"px 0px "+m.height+"px 0px",threshold:0};a.bottom=new IntersectionObserver(V,t),a.bottom.observe(u)}())}var Q={};return Q.setup=function(n){var i=n.container,o=n.graphic,s=n.step,a=n.offset;void 0===a&&(a=.5);var p=n.progress;void 0===p&&(p=!1);var d=n.threshold;void 0===d&&(d=4);var g=n.debug;void 0===g&&(g=!1);var v=n.order;void 0===v&&(v=!0);var y,m,b,E,A,N=n.once;return void 0===N&&(N=!1),m=(y="abcdefghijklmnopqrstuv").length,b=(new Date).getTime(),h=""+[0,0,0].map(function(t){return y[Math.floor(Math.random()*m)]}).join("")+b,E=s,void 0===A&&(A=document),c="string"==typeof E?t(A.querySelectorAll(E)):E instanceof NodeList?t(E):E instanceof Array?E:[],u=i?e(i):null,l=o?e(o):null,c.length?(x=g,w=p,M=v,T=N,Q.offsetTrigger(a),k=Math.max(1,+d),_=!0,x&&r({id:h,stepEl:c,offsetVal:f}),c.forEach(function(t,e){return t.setAttribute("data-scrollama-index",e)}),C=c.map(function(){return{direction:null,state:null}}),S={direction:null,state:null},z(),j(!0),Q):(console.error("scrollama error: no step elements"),Q)},Q.resize=function(){return z(),Q},Q.enable=function(){return j(!0),Q},Q.disable=function(){return j(!1),Q},Q.destroy=function(){j(!1),Object.keys(i).forEach(function(t){return i[t]=null}),Object.keys(a).forEach(function(t){return a[t]=null})},Q.offsetTrigger=function(t){return t&&(isNaN(t),1)?(f=Math.min(Math.max(0,t),1),Q):f},Q.onStepEnter=function(t){return i.stepEnter=t,Q},Q.onStepExit=function(t){return i.stepExit=t,Q},Q.onStepProgress=function(t){return i.stepProgress=t,Q},Q.onContainerEnter=function(t){return i.containerEnter=t,Q},Q.onContainerExit=function(t){return i.containerExit=t,Q},Q}},t.exports=i()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(4),s=((i=o)&&i.__esModule,a(n(5)));a(n(37));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}s.zoom();var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=s.select("#swarm-chart"),this.margin={top:40,right:40,bottom:50,left:40},this.width=this.svg.attr("width")-this.margin.left-this.margin.right,this.height=this.svg.attr("height")-this.margin.top-this.margin.bottom,this.formatValue=s.format(",d"),this.x=s.scaleLinear().domain([0,this.width]).rangeRound([0,this.width]),this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.title=this.svg.append("text").attr("x",this.width/2+this.margin.left).attr("y",this.margin.top/1.75).attr("text-anchor","middle").style("font-size","30px").text("Artists: Number of tracks and time at 1"),this.axistext=this.svg.append("text").attr("x",this.width/2+this.margin.left).attr("y",315).attr("text-anchor","middle").style("font-size","16px").text("Total Weeks at 1")}return r(t,[{key:"swarmChart",value:function(){var t=this;s.csv("./assets/data/unique_artists_track_count.csv",this.type,function(e,n){if(e)throw e;t.x.domain(s.extent(n,function(t){return t.total_weeks})),n.forEach(function(t){t.track_count=+t.track_count,t.imageWidth=+t.imageWidth,t.imageHeight=+t.imageHeight});for(var i=s.forceSimulation(n).force("x",s.forceX(function(e){return t.x(e.total_weeks)})).force("y",s.forceY(t.height/2)).force("collision",s.forceCollide().radius(function(t){return t.track_count+1})).stop(),r=0;r<120;++r)i.tick();t.g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+.55*t.height+")").call(s.axisBottom(t.x).ticks(20,".0s"));var o=t.g.append("g").attr("class","cells").attr("transform","translate(0,"+-t.margin.bottom+")").selectAll("g").data(s.voronoi().extent([[-t.margin.left,-t.margin.top],[t.width+t.margin.right,300]]).x(function(t){return t.x}).y(function(t){return t.y}).polygons(n)).enter().append("g");o.attr("class",function(t){return t.data.artist.replace(/ /g,"_")});var a=t.svg.append("svg:defs");n.forEach(function(t,e){a.append("svg:pattern").attr("id","artist_image"+t.artist.replace(/ /g,"_")).attr("width","100%").attr("height","100%").attr("x",t.imageWidth).attr("y",t.imageHeight).append("svg:image").attr("xlink:href",t.imageUrl).attr("width",4*t.track_count).attr("height",4*t.track_count)}),o.append("circle").attr("r",function(t){return t.data.track_count}).attr("cx",function(t){return t.data.x}).attr("cy",function(t){return t.data.y}).attr("id",function(t){return t.data.artist.replace(/ /g,"_")+"_circle"}).style("fill","#000").style("stroke","#bfbfbf").style("stroke-opacity",.5).style("stroke-width",.5).style("fill",function(t){return"url(#artist_image"+t.data.artist.replace(/ /g,"_")+")"}),o.append("path").attr("d",function(t){return"M"+t.join("L")+"Z"}),o.append("title").text(function(e){return e.data.artist+"\n"+t.formatValue(e.data.total_weeks)+" weeks at one with "+t.formatValue(e.data.track_count)+" tracks"})})}},{key:"type",value:function(t){if(t.total_weeks)return t.total_weeks=+t.total_weeks,t}}]),t}();e.default=u},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,v=g.call(Object),y={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function x(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in b)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)},M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!m(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&k.isPlainObject(n)?n:{},s[e]=k.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&g.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){x(t)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(M,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?k.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(T(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return l.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var C=function(t){var e,n,i,r,o,s,a,u,l,c,h,f,p,d,g,v,y,m,_,b="sizzle"+1*new Date,x=t.document,w=0,k=0,M=st(),T=st(),C=st(),S=function(t,e){return t===e&&(h=!0),0},E={}.hasOwnProperty,A=[],N=A.pop,P=A.push,O=A.push,D=A.slice,z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+L+"*("+I+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+L+"*\\]",H=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",q=new RegExp(L+"+","g"),F=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),$=new RegExp("^"+L+"*,"+L+"*"),B=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(H),Y=new RegExp("^"+I+"$"),X={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=mt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{O.apply(A=D.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(t){O={apply:A.length?function(t,e){P.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,l,c,h,d,y,m=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==p&&f(e),e=e||p,g)){if(11!==w&&(h=Q.exec(t)))if(o=h[1]){if(9===w){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(m&&(l=m.getElementById(o))&&_(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!C[t+" "]&&(!v||!v.test(t))){if(1!==w)m=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=b),a=(d=s(t)).length;a--;)d[a]="#"+c+" "+yt(d[a]);y=d.join(","),m=J.test(t)&&gt(e.parentNode)||e}if(y)try{return O.apply(i,m.querySelectorAll(y)),i}catch(t){}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(F,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(p.getElementsByClassName),n.getById=ut(function(t){return d.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=K.test(p.querySelectorAll))&&(ut(function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+L+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+b+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=K.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),y.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=K.test(d.compareDocumentPosition),_=e||K.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===x&&_(x,t)?-1:e===p||e.ownerDocument===x&&_(x,e)?1:c?z(c,t)-z(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?z(c,t)-z(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(W,"='$1']"),n.matchesSelector&&g&&!C[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var i=m.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&E.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=M[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&M(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,_=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&m){for(_=(p=(l=(c=(h=(f=v)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[w,p,_];break}}else if(m&&(_=p=(l=(c=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===_)for(;(f=++p&&f&&f[g]||(_=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++_||(m&&((c=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,_]),f!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=z(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(F,"$1"));return i[b]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[w,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===w&&l[1]===a)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function xt(t,e,n,i,r,o){return i&&!i[b]&&(i=xt(i)),r&&!r[b]&&(r=xt(r,o)),at(function(o,s,a,u){var l,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:bt(g,f,t,a,u),y=n?r||(o?t:d||i)?[]:s:v;if(n&&n(v,y,a,u),i)for(l=bt(y,p),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(y[p[c]]=!(v[p[c]]=h));if(o){if(r||t){if(r){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(v[c]=h);r(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=r?z(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else y=bt(y===s?y.splice(d,y.length):y),r?r(null,s,y,u):O.apply(s,y)})}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=mt(function(t){return t===e},a,!0),h=mt(function(t){return z(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[mt(_t(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[b]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return xt(u>1&&_t(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(F,"$1"),n,u<r&&wt(t.slice(u,r)),r<o&&wt(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return _t(f)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=ot.tokenize=function(t,e){var n,r,o,s,a,u,l,c=T[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=$.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=B.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(F," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):T(t,u).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=C[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=wt(e[n]))[b]?r.push(a):o.push(a);(a=C(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,d,v,y=0,m="0",_=o&&[],b=[],x=l,k=o||r&&i.find.TAG("*",c),M=w+=null==x?1:Math.random()||.1,T=k.length;for(c&&(l=s===p||s||c);m!==T&&null!=(h=k[m]);m++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!g);v=t[d++];)if(v(h,s||p,a)){u.push(h);break}c&&(w=M)}n&&((h=!v&&h)&&y--,o&&_.push(h))}if(y+=m,n&&m!==y){for(d=0;v=e[d++];)v(_,b,s,a);if(o){if(y>0)for(;m--;)_[m]||b[m]||(b[m]=N.call(u));b=bt(b)}O.apply(u,b),c&&!o&&b.length>0&&y+e.length>1&&ot.uniqueSort(u)}return c&&(w=M,l=x),_};return n?at(o):o}(o,r))).selector=t}return a},u=ot.select=function(t,e,n,r){var o,u,l,c,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(Z,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=X.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(Z,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&yt(u)))return O.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(j,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);k.find=C,k.expr=C.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=C.uniqueSort,k.text=C.getText,k.isXMLDoc=C.isXML,k.contains=C.contains,k.escapeSelector=C.escape;var S=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},E=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=k.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return m(e)?k.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?k.grep(t,function(t){return t===e!==n}):"string"!=typeof e?k.grep(t,function(t){return h.call(e,t)>-1!==n}):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&A.test(t)?k(t):t||[],!1).length}});var D,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:z.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(i[1])&&k.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,D=k(s);var j=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&k(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(k(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,n){return S(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,n){return S(t,"nextSibling",n)},prevUntil:function(t,e,n){return S(t,"previousSibling",n)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return N(t,"iframe")?t.contentDocument:(N(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&(L[t]||k.uniqueSort(r),j.test(t)&&r.reverse()),this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function H(t){return t}function q(t){throw t}function F(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(R)||[],function(t,n){e[n]=!0}),e}(t):k.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){k.each(n,function(n,i){m(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return k.each(arguments,function(t,e){for(var n;(n=k.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?k.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred(function(n){k.each(e,function(e,i){var r=m(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(l)?r?l.call(n,s(o,e,H,r),s(o,e,q,r)):(o++,l.call(n,s(o,e,H,r),s(o,e,q,r),s(o,e,H,e.notifyWith))):(i!==H&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==q&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),n.setTimeout(c))}}return k.Deferred(function(n){e[0][3].add(s(0,n,m(r)?r:H,n.notifyWith)),e[1][3].add(s(0,n,m(t)?t:H)),e[2][3].add(s(0,n,m(i)?i:q))}).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},o={};return k.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=k.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(F(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||m(r[n]&&r[n].then)))return o.then();for(;n--;)F(r[n],s(n),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&$.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout(function(){throw t})};var B=k.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),k.ready()}k.fn.ready=function(t){return B.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||B.resolveWith(s,[k]))}}),k.ready.then=B.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(k.ready):(s.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var U=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===w(n))for(a in r=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(k(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Y=/^-ms-/,X=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function G(t){return t.replace(Y,"ms-").replace(X,V)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[G(e)]=n;else for(i in e)r[G(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=G(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Z.set(this,t)}):U(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Z.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),k.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),i=n.length,r=n.shift(),o=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){k.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:k.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each(function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&k.contains(t.ownerDocument,t)&&"none"===k.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ut(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return k.css(t,e,"")},u=a(),l=n&&n[3]||(k.cssNumber[e]?"":"px"),c=(k.cssNumber[e]||"px"!==l&&+u)&&rt.exec(k.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)k.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,k.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var lt={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?k(this).show():k(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?k.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var mt,_t,bt=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))k.merge(f,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;k.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&k.inArray(o,i)>-1)r&&r.push(o);else if(l=k.contains(o.ownerDocument,o),s=vt(h.appendChild(o),"script"),l&&yt(s),n)for(c=0;o=s[c++];)dt.test(o.type||"")&&n.push(o);return h}mt=s.createDocumentFragment().appendChild(s.createElement("div")),(_t=s.createElement("input")).setAttribute("type","radio"),_t.setAttribute("checked","checked"),_t.setAttribute("name","t"),mt.appendChild(_t),y.checkClone=mt.cloneNode(!0).cloneNode(!0).lastChild.checked,mt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!mt.cloneNode(!0).lastChild.defaultValue;var wt=s.documentElement,kt=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function St(){return!1}function Et(){try{return s.activeElement}catch(t){}}function At(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)At(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=St;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each(function(){k.event.add(this,e,r,i,n)})}k.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,g,v=J.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&k.find.matchesSelector(wt,r),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)p=g=(a=Tt.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=k.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=k.event.special[p]||{},c=k.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),k.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,g,v=J.hasData(t)&&J.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(R)||[""]).length;l--;)if(p=g=(a=Tt.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=k.event.special[p]||{},f=u[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||k.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)k.event.remove(t,p+e[l],n,i,!0);k.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=k.event.fix(t),u=new Array(arguments.length),l=(J.get(this,"events")||{})[a.type]||[],c=k.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?k(r,this).index(l)>-1:k.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Et()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Et()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(t){return N(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),k.fn.extend({on:function(t,e,n,i){return At(this,t,e,n,i)},one:function(t,e,n,i){return At(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){k.event.remove(this,t,n,e)})}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function zt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function jt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)k.event.add(e,r,l[r][n]);Z.hasData(t)&&(a=Z.access(t),u=k.extend({},a),Z.set(e,u))}}function Rt(t,e,n,i){e=l.apply([],e);var r,o,s,a,u,c,h=0,f=t.length,p=f-1,d=e[0],g=m(d);if(g||f>1&&"string"==typeof d&&!y.checkClone&&Ot.test(d))return t.each(function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Rt(o,e,n,i)});if(f&&(o=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=k.map(vt(r,"script"),jt)).length;h<f;h++)u=r,h!==p&&(u=k.clone(u,!0,!0),a&&k.merge(s,vt(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,k.map(s,Lt),h=0;h<a;h++)u=s[h],dt.test(u.type||"")&&!J.access(u,"globalEval")&&k.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(u.src):x(u.textContent.replace(Dt,""),c,u))}return t}function Ht(t,e,n){for(var i,r=e?k.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||k.cleanData(vt(i)),i.parentNode&&(n&&k.contains(i.ownerDocument,i)&&yt(vt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t.replace(Nt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,l,c=t.cloneNode(!0),h=k.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(s=vt(c),i=0,r=(o=vt(t)).length;i<r;i++)a=o[i],u=s[i],void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||vt(t),s=s||vt(c),i=0,r=o.length;i<r;i++)It(o[i],s[i]);else It(t,c);return(s=vt(c,"script")).length>0&&yt(s,!h&&vt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=k.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return U(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||zt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=zt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var qt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ft=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},$t=new RegExp(ot.join("|"),"i");function Bt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Ft(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||k.contains(t.ownerDocument,t)||(s=k.style(t,e)),!y.pixelBoxStyles()&&qt.test(s)&&$t.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",wt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Ut=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","Moz","ms"],Kt=s.createElement("div").style;function Qt(t){var e=k.cssProps[t];return e||(e=k.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in Kt)return t}(t)||t),e}function Jt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Zt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=k.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=k.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=k.css(t,"border"+ot[s]+"Width",!0,r))):(u+=k.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=k.css(t,"border"+ot[s]+"Width",!0,r):a+=k.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function te(t,e,n){var i=Ft(t),r=Bt(t,e,i),o="border-box"===k.css(t,"boxSizing",!1,i),s=o;if(qt.test(r)){if(!n)return r;r="auto"}return s=s&&(y.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===k.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Zt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Bt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=G(e),u=Yt.test(e),l=t.style;if(u||(e=Qt(a)),s=k.cssHooks[e]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ut(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(k.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=G(e);return Yt.test(e)||(e=Qt(a)),(s=k.cssHooks[e]||k.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Bt(t,e,i)),"normal"===r&&e in Vt&&(r=Vt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),k.each(["height","width"],function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!Ut.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):at(t,Xt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=Ft(t),s="border-box"===k.css(t,"boxSizing",!1,o),a=i&&Zt(t,e,i,s,o);return s&&y.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Zt(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),Jt(0,n,a)}}}),k.cssHooks.marginLeft=Wt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=Jt)}),k.fn.extend({css:function(t,e){return U(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Ft(t),r=e.length;s<r;s++)o[e[s]]=k.css(t,e[s],!1,i);return o}return void 0!==n?k.style(t,e,n):k.css(t,e)},t,e,arguments.length>1)}}),k.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[k.cssProps[t.prop]]&&!k.cssHooks[t.prop]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ee.prototype.init,k.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,k.fx.interval),k.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,s=ce.prefilters.length,a=k.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=G(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=k.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=ce.prefilters[o].call(l,t,c,l.opts))return m(i.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return k.map(c,le,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&st(t),v=J.get(t,"fxshow");for(i in n.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||k.style(t,i)}if((u=!k.isEmptyObject(e))||!k.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=v&&v.display)&&(l=J.get(t,"display")),"none"===(c=k.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=k.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(t,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=J.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ht([t],!0),f.done(function(){for(i in g||ht([t]),J.remove(t,"fxshow"),p)k.style(t,i,p[i])})),u=le(g?v[i]:0,i,f),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),o=k.speed(e,n,i),s=function(){var e=ce(this,k.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=k.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||k.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=k.timers,s=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}}),k.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ne=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ie||(ie=!0,se())},k.fx.stop=function(){ie=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var he,fe=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return U(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?k.prop(t,e,n):(1===o&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||k.find.attr;fe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=fe[s],fe[s]=r,r=null!=n(t,e,i)?s:null,fe[s]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function ge(t){return(t.match(R)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}k.fn.extend({prop:function(t,e){return U(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,ve(this)))});if((e=ye(t)).length)for(;n=this[u++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[u++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each(function(n){k(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=k(this),s=ye(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,function(t){return null==t?"":t+""})),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(me,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ge(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=k(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=k.makeArray(e),s=r.length;s--;)((i=r[s]).selected=k.inArray(k.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},y.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,r){var o,a,u,l,c,h,f,p,g=[i||s],v=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+k.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[k.expando]?t:new k.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),f=k.event.special[v]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!_(i)){for(l=f.delegateType||v,_e.test(l+v)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(i.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?l:f.bindType||v,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&K(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!K(i)||c&&m(i[v])&&!_(i)&&((u=i[c])&&(i[c]=null),k.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,be),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,be),k.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var xe=n.location,we=Date.now(),ke=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Me=/\[\]$/,Te=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,n,i){var r;if(Array.isArray(e))k.each(e,function(e,r){n||Me.test(t)?i(t,r):Ee(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==w(e))i(t,e);else for(r in e)Ee(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){r(this.name,this.value)});else for(n in t)Ee(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Se.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ae=/%20/g,Ne=/#.*$/,Pe=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,ze=/^\/\//,je={},Le={},Ie="*/".concat("*"),Re=s.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(R)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function qe(t,e,n,i){var r={},o=t===Le;function s(a){var u;return r[a]=!0,k.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Fe(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}Re.href=xe.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,k.ajaxSettings),e):Fe(k.ajaxSettings,t)},ajaxPrefilter:He(je),ajaxTransport:He(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,u,l,c,h,f,p,d=k.ajaxSetup({},e),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?k(g):k.event,y=k.Deferred(),m=k.Callbacks("once memory"),_=d.statusCode||{},b={},x={},w="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Oe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)M.always(t[M.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),T(0,e),this}};if(y.promise(M),d.url=((t||d.url||xe.href)+"").replace(ze,xe.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(R)||[""],null==d.crossDomain){l=s.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Re.protocol+"//"+Re.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=k.param(d.data,d.traditional)),qe(je,d,e,M),c)return M;for(f in(h=k.event&&d.global)&&0==k.active++&&k.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!De.test(d.type),r=d.url.replace(Ne,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ae,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(ke.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(Pe,"$1"),p=(ke.test(r)?"&":"?")+"_="+we+++p),d.url=r+p),d.ifModified&&(k.lastModified[r]&&M.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&M.setRequestHeader("If-None-Match",k.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ie+"; q=0.01":""):d.accepts["*"]),d.headers)M.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,M,d)||c))return M.abort();if(w="abort",m.add(d.complete),M.done(d.success),M.fail(d.error),i=qe(Le,d,e,M)){if(M.readyState=1,h&&v.trigger("ajaxSend",[M,d]),c)return M;d.async&&d.timeout>0&&(u=n.setTimeout(function(){M.abort("timeout")},d.timeout));try{c=!1,i.send(b,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,s,a){var l,f,p,b,x,w=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,o=a||"",M.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,M,s)),b=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,b,M,l),l?(d.ifModified&&((x=M.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=x),(x=M.getResponseHeader("etag"))&&(k.etag[r]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,l=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),M.status=t,M.statusText=(e||w)+"",l?y.resolveWith(g,[f,w,M]):y.rejectWith(g,[M,w,p]),M.statusCode(_),_=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[M,d,l?f:p]),m.fireWith(g,[M,w]),h&&(v.trigger("ajaxComplete",[M,d]),--k.active||k.event.trigger("ajaxStop")))}return M},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,e){k[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}}),k._evalUrl=function(t){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return m(t)?this.each(function(e){k(this).wrapInner(t.call(this,e))}):this.each(function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m(t);return this.each(function(n){k(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Be=k.ajaxSettings.xhr();y.cors=!!Be&&"withCredentials"in Be,y.ajax=Be=!!Be,k.ajaxTransport(function(t){var e,i;if(y.cors||Be&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o($e[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=k("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,Ue=[],Ye=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||k.expando+"_"+we++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?k(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ue.push(r)),s&&m(o)&&o(s[0]),s=o=void 0}),"script"}),y.createHTMLDocument=((We=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),r=P.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=xt([t],e,o),o&&o.length&&k(o).remove(),k.merge([],r.childNodes)));var i,r,o},k.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=k.css(t,"position"),c=k(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=k.css(t,"top"),u=k.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),m(e)&&(e=e.call(t,n,k.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||wt})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return U(this,function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),k.each(["top","left"],function(t,e){k.cssHooks[e]=Wt(y.pixelPosition,function(t,n){if(n)return n=Bt(t,e),qt.test(n)?k(t).position()[e]+"px":n})}),k.each({Height:"height",Width:"width"},function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){k.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return U(this,function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?k.css(e,n,a):k.style(e,n,r,a)},e,s?r:void 0,s)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),k.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),k.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=N,k.isFunction=m,k.isWindow=_,k.camelCase=G,k.type=w,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return k}.apply(e,[]))||(t.exports=i);var Xe=n.jQuery,Ve=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Ve),t&&n.jQuery===k&&(n.jQuery=Xe),k},r||(n.jQuery=n.$=k),k})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(7),o=n(8),s=n(17),a=n(19),u=n(13),l=n(9),c=n(10),h=n(20),f=n(16),p=n(21),d=n(23),g=n(24),v=n(25),y=n(12),m=n(18),_=n(26),b=n(22),x=n(27),w=n(28),k=n(29),M=n(31),T=n(11),C=n(34),S=n(32),E=n(33),A=n(15),N=n(14),P=n(35),O=n(36);e.version="4.13.0",Object.keys(i).forEach(function(t){e[t]=i[t]}),Object.keys(r).forEach(function(t){e[t]=r[t]}),Object.keys(o).forEach(function(t){e[t]=o[t]}),Object.keys(s).forEach(function(t){e[t]=s[t]}),Object.keys(a).forEach(function(t){e[t]=a[t]}),Object.keys(u).forEach(function(t){e[t]=u[t]}),Object.keys(l).forEach(function(t){e[t]=l[t]}),Object.keys(c).forEach(function(t){e[t]=c[t]}),Object.keys(h).forEach(function(t){e[t]=h[t]}),Object.keys(f).forEach(function(t){e[t]=f[t]}),Object.keys(p).forEach(function(t){e[t]=p[t]}),Object.keys(d).forEach(function(t){e[t]=d[t]}),Object.keys(g).forEach(function(t){e[t]=g[t]}),Object.keys(v).forEach(function(t){e[t]=v[t]}),Object.keys(y).forEach(function(t){e[t]=y[t]}),Object.keys(m).forEach(function(t){e[t]=m[t]}),Object.keys(_).forEach(function(t){e[t]=_[t]}),Object.keys(b).forEach(function(t){e[t]=b[t]}),Object.keys(x).forEach(function(t){e[t]=x[t]}),Object.keys(w).forEach(function(t){e[t]=w[t]}),Object.keys(k).forEach(function(t){e[t]=k[t]}),Object.keys(M).forEach(function(t){e[t]=M[t]}),Object.keys(T).forEach(function(t){e[t]=T[t]}),Object.keys(C).forEach(function(t){e[t]=C[t]}),Object.keys(S).forEach(function(t){e[t]=S[t]}),Object.keys(E).forEach(function(t){e[t]=E[t]}),Object.keys(A).forEach(function(t){e[t]=A[t]}),Object.keys(N).forEach(function(t){e[t]=N[t]}),Object.keys(P).forEach(function(t){e[t]=P[t]}),Object.keys(O).forEach(function(t){e[t]=O[t]}),Object.defineProperty(e,"event",{get:function(){return T.event}})},function(t,e,n){(function(t){"use strict";var e=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},n=function(t){var n;return 1===t.length&&(n=t,t=function(t,i){return e(n(t),i)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var i=n(e),r=i.right,o=i.left;function s(t,e){return[t,e]}var a=function(t){return null===t?NaN:+t},u=function(t,e){var n,i,r=t.length,o=0,s=-1,u=0,l=0;if(null==e)for(;++s<r;)isNaN(n=a(t[s]))||(l+=(i=n-u)*(n-(u+=i/++o)));else for(;++s<r;)isNaN(n=a(e(t[s],s,t)))||(l+=(i=n-u)*(n-(u+=i/++o)));if(o>1)return l/(o-1)},l=function(t,e){var n=u(t,e);return n?Math.sqrt(n):n},c=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},h=Array.prototype,f=h.slice,p=h.map,d=function(t){return function(){return t}},g=function(t){return t},v=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},y=Math.sqrt(50),m=Math.sqrt(10),_=Math.sqrt(2);function b(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=y?10:o>=m?5:o>=_?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=y?10:o>=m?5:o>=_?2:1)}function x(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=y?r*=10:o>=m?r*=5:o>=_&&(r*=2),e<t?-r:r}var w=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},k=function(t,e,n){if(null==n&&(n=a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(r-o)}},M=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i},T=function(t){if(!(r=t.length))return[];for(var e=-1,n=M(t,C),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i};function C(t){return t.length}t.bisect=r,t.bisectRight=r,t.bisectLeft=o,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var i,r,o,a,u=t.length,l=e.length,c=new Array(u*l);for(null==n&&(n=s),i=o=0;i<u;++i)for(a=t[i],r=0;r<l;++r,++o)c[o]=n(a,e[r]);return c},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=l,t.extent=c,t.histogram=function(){var t=g,e=c,n=w;function i(i){var o,s,a=i.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var l=e(u),c=l[0],h=l[1],f=n(u,c,h);Array.isArray(f)||(f=x(c,h,f),f=v(Math.ceil(c/f)*f,Math.floor(h/f)*f,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,g=new Array(p+1);for(o=0;o<=p;++o)(d=g[o]=[]).x0=o>0?f[o-1]:c,d.x1=o<p?f[o]:h;for(o=0;o<a;++o)c<=(s=u[o])&&s<=h&&g[r(f,s,0,p)].push(i[o]);return g}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:d(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:d([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?d(f.call(t)):d(t),i):n},i},t.thresholdFreedmanDiaconis=function(t,n,i){return t=p.call(t,a).sort(e),Math.ceil((i-n)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*l(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},t.mean=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=a(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=a(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},t.median=function(t,n){var i,r=t.length,o=-1,s=[];if(null==n)for(;++o<r;)isNaN(i=a(t[o]))||s.push(i);else for(;++o<r;)isNaN(i=a(n(t[o],o,t)))||s.push(i);return k(s.sort(e),.5)},t.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n},t.min=M,t.pairs=function(t,e){null==e&&(e=s);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},t.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},t.quantile=k,t.range=v,t.scan=function(t,n){if(i=t.length){var i,r,o=0,s=0,a=t[s];for(null==n&&(n=e);++o<i;)(n(r=t[o],a)<0||0!==n(a,a))&&(a=r,s=o);return 0===n(a,a)?s:void 0}},t.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},t.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},t.ticks=function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=b(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o},t.tickIncrement=b,t.tickStep=x,t.transpose=T,t.variance=u,t.zip=function(){return T(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e=Array.prototype.slice,n=function(t){return t},i=1,r=2,o=3,s=4,a=1e-6;function u(t){return"translate("+(t+.5)+",0)"}function l(t){return"translate(0,"+(t+.5)+")"}function c(){return!this.__axis}function h(t,h){var f=[],p=null,d=null,g=6,v=6,y=3,m=t===i||t===s?-1:1,_=t===s||t===r?"x":"y",b=t===i||t===o?u:l;function x(e){var u=null==p?h.ticks?h.ticks.apply(h,f):h.domain():p,l=null==d?h.tickFormat?h.tickFormat.apply(h,f):n:d,x=Math.max(g,0)+y,w=h.range(),k=+w[0]+.5,M=+w[w.length-1]+.5,T=(h.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(h.copy()),C=e.selection?e.selection():e,S=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(u,h).order(),A=E.exit(),N=E.enter().append("g").attr("class","tick"),P=E.select("line"),O=E.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),E=E.merge(N),P=P.merge(N.append("line").attr("stroke","#000").attr(_+"2",m*g)),O=O.merge(N.append("text").attr("fill","#000").attr(_,m*x).attr("dy",t===i?"0em":t===o?"0.71em":"0.32em")),e!==C&&(S=S.transition(e),E=E.transition(e),P=P.transition(e),O=O.transition(e),A=A.transition(e).attr("opacity",a).attr("transform",function(t){return isFinite(t=T(t))?b(t):this.getAttribute("transform")}),N.attr("opacity",a).attr("transform",function(t){var e=this.parentNode.__axis;return b(e&&isFinite(e=e(t))?e:T(t))})),A.remove(),S.attr("d",t===s||t==r?"M"+m*v+","+k+"H0.5V"+M+"H"+m*v:"M"+k+","+m*v+"V0.5H"+M+"V"+m*v),E.attr("opacity",1).attr("transform",function(t){return b(T(t))}),P.attr(_+"2",m*g),O.attr(_,m*x).text(l),C.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===r?"start":t===s?"end":"middle"),C.each(function(){this.__axis=T})}return x.scale=function(t){return arguments.length?(h=t,x):h},x.ticks=function(){return f=e.call(arguments),x},x.tickArguments=function(t){return arguments.length?(f=null==t?[]:e.call(t),x):f.slice()},x.tickValues=function(t){return arguments.length?(p=null==t?null:e.call(t),x):p&&p.slice()},x.tickFormat=function(t){return arguments.length?(d=t,x):d},x.tickSize=function(t){return arguments.length?(g=v=+t,x):g},x.tickSizeInner=function(t){return arguments.length?(g=+t,x):g},x.tickSizeOuter=function(t){return arguments.length?(v=+t,x):v},x.tickPadding=function(t){return arguments.length?(y=+t,x):y},x}t.axisTop=function(t){return h(i,t)},t.axisRight=function(t){return h(r,t)},t.axisBottom=function(t){return h(o,t)},t.axisLeft=function(t){return h(s,t)},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n,i,r,o){"use strict";var s=function(t){return function(){return t}},a=function(t,e,n){this.target=t,this.type=e,this.selection=n};function u(){r.event.stopImmediatePropagation()}var l=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()},c={name:"drag"},h={name:"space"},f={name:"handle"},p={name:"center"},d={name:"x",handles:["e","w"].map(w),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},g={name:"y",handles:["n","s"].map(w),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},v={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(w),input:function(t){return t},output:function(t){return t}},y={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},m={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},x={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function w(t){return{type:t}}function k(){return!r.event.button}function M(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function T(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function C(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function S(t){var v,S=M,E=k,A=e.dispatch(P,"start","brush","end"),N=6;function P(e){var n=e.property("__brush",L).selectAll(".overlay").data([w("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",y.overlay).merge(n).each(function(){var t=T(this).extent;r.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([w("selection")]).enter().append("rect").attr("class","selection").attr("cursor",y.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return y[t.type]}),e.each(O).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",j)}function O(){var t=r.select(this),e=T(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-N/2:e[0][0]-N/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-N/2:e[0][1]-N/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+N:N}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+N:N})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function D(t,e){return t.__brush.emitter||new z(t,e)}function z(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function j(){if(r.event.touches){if(r.event.changedTouches.length<r.event.touches.length)return l()}else if(v)return;if(E.apply(this,arguments)){var e,i,s,a,w,k,M,S,A,N,P,z,j,L=this,I=r.event.target.__data__.type,R="selection"===(r.event.metaKey?I="overlay":I)?c:r.event.altKey?p:f,H=t===g?null:b[I],q=t===d?null:x[I],F=T(L),$=F.extent,B=F.selection,W=$[0][0],U=$[0][1],Y=$[1][0],X=$[1][1],V=H&&q&&r.event.shiftKey,G=r.mouse(L),K=G,Q=D(L,arguments).beforestart();"overlay"===I?F.selection=B=[[e=t===g?W:G[0],s=t===d?U:G[1]],[w=t===g?Y:e,M=t===d?X:s]]:(e=B[0][0],s=B[0][1],w=B[1][0],M=B[1][1]),i=e,a=s,k=w,S=M;var J=r.select(L).attr("pointer-events","none"),Z=J.selectAll(".overlay").attr("cursor",y[I]);if(r.event.touches)J.on("touchmove.brush",et,!0).on("touchend.brush touchcancel.brush",it,!0);else{var tt=r.select(r.event.view).on("keydown.brush",function(){switch(r.event.keyCode){case 16:V=H&&q;break;case 18:R===f&&(H&&(w=k-A*H,e=i+A*H),q&&(M=S-N*q,s=a+N*q),R=p,nt());break;case 32:R!==f&&R!==p||(H<0?w=k-A:H>0&&(e=i-A),q<0?M=S-N:q>0&&(s=a-N),R=h,Z.attr("cursor",y.selection),nt());break;default:return}l()},!0).on("keyup.brush",function(){switch(r.event.keyCode){case 16:V&&(z=j=V=!1,nt());break;case 18:R===p&&(H<0?w=k:H>0&&(e=i),q<0?M=S:q>0&&(s=a),R=f,nt());break;case 32:R===h&&(r.event.altKey?(H&&(w=k-A*H,e=i+A*H),q&&(M=S-N*q,s=a+N*q),R=p):(H<0?w=k:H>0&&(e=i),q<0?M=S:q>0&&(s=a),R=f),Z.attr("cursor",y[I]),nt());break;default:return}l()},!0).on("mousemove.brush",et,!0).on("mouseup.brush",it,!0);n.dragDisable(r.event.view)}u(),o.interrupt(L),O.call(L),Q.start()}function et(){var t=r.mouse(L);!V||z||j||(Math.abs(t[0]-K[0])>Math.abs(t[1]-K[1])?j=!0:z=!0),K=t,P=!0,l(),nt()}function nt(){var t;switch(A=K[0]-G[0],N=K[1]-G[1],R){case h:case c:H&&(A=Math.max(W-e,Math.min(Y-w,A)),i=e+A,k=w+A),q&&(N=Math.max(U-s,Math.min(X-M,N)),a=s+N,S=M+N);break;case f:H<0?(A=Math.max(W-e,Math.min(Y-e,A)),i=e+A,k=w):H>0&&(A=Math.max(W-w,Math.min(Y-w,A)),i=e,k=w+A),q<0?(N=Math.max(U-s,Math.min(X-s,N)),a=s+N,S=M):q>0&&(N=Math.max(U-M,Math.min(X-M,N)),a=s,S=M+N);break;case p:H&&(i=Math.max(W,Math.min(Y,e-A*H)),k=Math.max(W,Math.min(Y,w+A*H))),q&&(a=Math.max(U,Math.min(X,s-N*q)),S=Math.max(U,Math.min(X,M+N*q)))}k<i&&(H*=-1,t=e,e=w,w=t,t=i,i=k,k=t,I in m&&Z.attr("cursor",y[I=m[I]])),S<a&&(q*=-1,t=s,s=M,M=t,t=a,a=S,S=t,I in _&&Z.attr("cursor",y[I=_[I]])),F.selection&&(B=F.selection),z&&(i=B[0][0],k=B[1][0]),j&&(a=B[0][1],S=B[1][1]),B[0][0]===i&&B[0][1]===a&&B[1][0]===k&&B[1][1]===S||(F.selection=[[i,a],[k,S]],O.call(L),Q.brush())}function it(){if(u(),r.event.touches){if(r.event.touches.length)return;v&&clearTimeout(v),v=setTimeout(function(){v=null},500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(r.event.view,P),tt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),Z.attr("cursor",y.overlay),F.selection&&(B=F.selection),C(B)&&(F.selection=null,O.call(L)),Q.end()}}function L(){var e=this.__brush||{selection:null};return e.extent=S.apply(this,arguments),e.dim=t,e}return P.move=function(e,n){e.selection?e.on("start.brush",function(){D(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){D(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,o=D(e,arguments),s=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=i.interpolate(s,a);function l(t){r.selection=1===t&&C(a)?null:u(t),O.call(e),o.brush()}return s&&a?l:l(1)}):e.each(function(){var e=arguments,i=this.__brush,r=t.input("function"==typeof n?n.apply(this,e):n,i.extent),s=D(this,e).beforestart();o.interrupt(this),i.selection=null==r||C(r)?null:r,O.call(this),s.start().brush().end()})},z.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){r.customEvent(new a(P,e,t.output(this.state.selection)),A.apply,A,[e,this.that,this.args])}},P.extent=function(t){return arguments.length?(S="function"==typeof t?t:s([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),P):S},P.filter=function(t){return arguments.length?(E="function"==typeof t?t:s(!!t),P):E},P.handleSize=function(t){return arguments.length?(N=+t,P):N},P.on=function(){var t=A.on.apply(A,arguments);return t===A?P:t},P}t.brush=function(){return S(v)},t.brushX=function(){return S(d)},t.brushY=function(){return S(g)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(9),n(10),n(12),n(11),n(14))},function(t,e,n){(function(t){"use strict";var e={value:function(){}};function n(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function r(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function o(t,n,i){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=e,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=i&&t.push({name:n,value:i}),t}i.prototype=n.prototype={constructor:i,on:function(t,e){var n,i,s=this._,a=(i=s,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=a[u]).type)s[n]=o(s[n],t.name,e);else if(null==e)for(n in s)s[n]=o(s[n],t.name,null);return this}for(;++u<l;)if((n=(t=a[u]).type)&&(n=r(s[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n){"use strict";function i(){n.event.stopImmediatePropagation()}var r=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},o=function(t){var e=t.document.documentElement,i=n.select(t).on("dragstart.drag",r,!0);"onselectstart"in e?i.on("selectstart.drag",r,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function s(t,e){var i=t.document.documentElement,o=n.select(t).on("dragstart.drag",null);e&&(o.on("click.drag",r,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var a=function(t){return function(){return t}};function u(t,e,n,i,r,o,s,a,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=l}function l(){return!n.event.button}function c(){return this.parentNode}function h(t){return null==t?{x:n.event.x,y:n.event.y}:t}function f(){return"ontouchstart"in this}u.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){var t,p,d,g,v=l,y=c,m=h,_=f,b={},x=e.dispatch("start","drag","end"),w=0,k=0;function M(t){t.on("mousedown.drag",T).filter(_).on("touchstart.drag",E).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(){if(!g&&v.apply(this,arguments)){var e=P("mouse",y.apply(this,arguments),n.mouse,this,arguments);e&&(n.select(n.event.view).on("mousemove.drag",C,!0).on("mouseup.drag",S,!0),o(n.event.view),i(),d=!1,t=n.event.clientX,p=n.event.clientY,e("start"))}}function C(){if(r(),!d){var e=n.event.clientX-t,i=n.event.clientY-p;d=e*e+i*i>k}b.mouse("drag")}function S(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),s(n.event.view,d),r(),b.mouse("end")}function E(){if(v.apply(this,arguments)){var t,e,r=n.event.changedTouches,o=y.apply(this,arguments),s=r.length;for(t=0;t<s;++t)(e=P(r[t].identifier,o,n.touch,this,arguments))&&(i(),e("start"))}}function A(){var t,e,i=n.event.changedTouches,o=i.length;for(t=0;t<o;++t)(e=b[i[t].identifier])&&(r(),e("drag"))}function N(){var t,e,r=n.event.changedTouches,o=r.length;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),t=0;t<o;++t)(e=b[r[t].identifier])&&(i(),e("end"))}function P(t,e,i,r,o){var s,a,l,c=i(e,t),h=x.copy();if(n.customEvent(new u(M,"beforestart",s,t,w,c[0],c[1],0,0,h),function(){return null!=(n.event.subject=s=m.apply(r,o))&&(a=s.x-c[0]||0,l=s.y-c[1]||0,!0)}))return function f(p){var d,g=c;switch(p){case"start":b[t]=f,d=w++;break;case"end":delete b[t],--w;case"drag":c=i(e,t),d=w}n.customEvent(new u(M,p,s,t,d,c[0]+a,c[1]+l,c[0]-g[0],c[1]-g[1],h),h.apply,h,[p,r,o])}}return M.filter=function(t){return arguments.length?(v="function"==typeof t?t:a(!!t),M):v},M.container=function(t){return arguments.length?(y="function"==typeof t?t:a(t),M):y},M.subject=function(t){return arguments.length?(m="function"==typeof t?t:a(t),M):m},M.touchable=function(t){return arguments.length?(_="function"==typeof t?t:a(!!t),M):_},M.on=function(){var t=x.on.apply(x,arguments);return t===x?M:t},M.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,M):Math.sqrt(k)},M},t.dragDisable=o,t.dragEnable=s,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(9),n(11))},function(t,e,n){(function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function r(t){var n=i(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(i,t)}})(n)}function o(){}function s(t){return null==t?o:function(){return this.querySelector(t)}}function a(){return[]}function u(t){return null==t?a:function(){return this.querySelectorAll(t)}}var l=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var c=document.documentElement;if(!c.matches){var h=c.webkitMatchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector;l=function(t){return function(){return h.call(this,t)}}}}var f=l;function p(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function v(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new d(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function y(t,e,n,i,r,o,s){var a,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l=g+s.call(u,u.__data__,a,e),l in c?r[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l=g+s.call(t,o[a],a,o)])?(i[a]=u,u.__data__=o[a],c[l]=null):n[a]=new d(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(r[a]=u)}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function b(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}function x(t){return t.trim().split(/^|\s+/)}function w(t){return t.classList||new k(t)}function k(t){this._node=t,this._names=x(t.getAttribute("class")||"")}function M(t,e){for(var n=w(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function T(t,e){for(var n=w(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function C(){this.textContent=""}function S(){this.innerHTML=""}function E(){this.nextSibling&&this.parentNode.appendChild(this)}function A(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N(){return null}function P(){var t=this.parentNode;t&&t.removeChild(this)}function O(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function D(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}k.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var z={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(z={mouseenter:"mouseover",mouseleave:"mouseout"}));function j(t,e,n){return t=L(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function L(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function I(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function R(t,e,n){var i=z.hasOwnProperty(t.type)?j:L;return function(r,o,s){var a,u=this.__on,l=i(e,o,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function H(t,e,n){var i=_(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var q=[null];function F(t,e){this._groups=t,this._parents=e}function $(){return new F([[document.documentElement]],q)}function B(t){return"string"==typeof t?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],q)}F.prototype=$.prototype={constructor:F,select:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,u=e[r],l=u.length,c=i[r]=new Array(l),h=0;h<l;++h)(o=u[h])&&(a=t.call(o,o.__data__,h,u))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new F(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(i.push(t.call(s,s.__data__,c,a)),r.push(s));return new F(i,r)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new F(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n,i=e?y:v,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,r),g=d.length,m=u[c]=new Array(g),_=a[c]=new Array(g);i(h,f,m,_,l[c]=new Array(p),d,e);for(var b,x,w=0,k=0;w<g;++w)if(b=m[w]){for(w>=k&&(k=w+1);!(x=_[k])&&++k<g;);b._next=x||null}}return(a=new F(a,r))._enter=u,a._exit=l,a},enter:function(){return new F(this._enter||this._groups.map(p),this._parents)},exit:function(){return new F(this._exit||this._groups.map(p),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new F(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=m);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],u=a.length,l=r[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new F(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):b(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=x(t+"");if(arguments.length<2){for(var i=w(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?M:T)(this,t)}}:e?function(t){return function(){M(this,t)}}:function(t){return function(){T(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?C:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?S:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(E)},lower:function(){return this.each(A)},append:function(t){var e="function"==typeof t?t:r(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:r(t),i=null==e?N:"function"==typeof e?e:s(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(P)},clone:function(t){return this.select(t?D:O)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?R:I,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return H(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return H(this,t,e)}})(t,e))}};var W=0;function U(){return new Y}function Y(){this._="@"+(++W).toString(36)}function X(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function V(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}Y.prototype=U.prototype={constructor:Y,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.create=function(t){return B(r(t).call(document.documentElement))},t.creator=r,t.local=U,t.matcher=f,t.mouse=function(t){var e=X();return e.changedTouches&&(e=e.changedTouches[0]),V(t,e)},t.namespace=i,t.namespaces=n,t.clientPoint=V,t.select=B,t.selectAll=function(t){return"string"==typeof t?new F([document.querySelectorAll(t)],[document.documentElement]):new F([null==t?[]:t],q)},t.selection=$,t.selector=s,t.selectorAll=u,t.style=b,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=X().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return V(t,i);return null},t.touches=function(t,e){null==e&&(e=X().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=V(t,e[n]);return r},t.window=_,t.customEvent=function(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e){"use strict";function n(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}var i=function(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[r],s=t[r+1],a=r>0?t[r-1]:2*o-s,u=r<e-1?t[r+2]:2*s-o;return n((i-r/e)*e,a,o,s,u)}},r=function(t){var e=t.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*e),o=t[(r+e-1)%e],s=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return n((i-r/e)*e,o,s,a,u)}},o=function(t){return function(){return t}};function s(t,e){return function(n){return t+n*e}}function a(t,e){var n=e-t;return n?s(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function u(t){return 1==(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):o(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?s(t,n):o(isNaN(t)?e:t)}var c=function t(n){var i=u(n);function r(t,n){var r=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=i(t.g,n.g),s=i(t.b,n.b),a=l(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=s(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function h(t){return function(n){var i,r,o=n.length,s=new Array(o),a=new Array(o),u=new Array(o);for(i=0;i<o;++i)r=e.rgb(n[i]),s[i]=r.r||0,a[i]=r.g||0,u[i]=r.b||0;return s=t(s),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=s(t),r.g=a(t),r.b=u(t),r+""}}}var f=h(i),p=h(r),d=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=T(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},g=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},v=function(t,e){return e-=t=+t,function(n){return t+e*n}},y=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=T(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(m.source,"g");var b,x,w,k,M=function(t,e){var n,i,r,o=m.lastIndex=_.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=m.exec(t))&&(i=_.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:v(n,i)})),o=_.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},T=function(t,n){var i,r=typeof n;return null==n||"boolean"===r?o(n):("number"===r?v:"string"===r?(i=e.color(n))?(n=i,c):M:n instanceof e.color?c:n instanceof Date?g:Array.isArray(n)?d:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?y:v)(t,n)},C=180/Math.PI,S={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},E=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*C,skewX:Math.atan(u)*C,scaleX:s,scaleY:a}};function A(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:v(t,r)},{i:u-2,x:v(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:v(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,u),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:v(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,u),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:v(t,n)},{i:a-2,x:v(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,i=u.length;++n<i;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var N=A(function(t){return"none"===t?S:(b||(b=document.createElement("DIV"),x=document.documentElement,w=document.defaultView),b.style.transform=t,t=w.getComputedStyle(x.appendChild(b),null).getPropertyValue("transform"),x.removeChild(b),t=t.slice(7,-1).split(","),E(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),P=A(function(t){return null==t?S:(k||(k=document.createElementNS("http://www.w3.org/2000/svg","g")),k.setAttribute("transform",t),(t=k.transform.baseVal.consolidate())?(t=t.matrix,E(t.a,t.b,t.c,t.d,t.e,t.f)):S)},", ",")",")"),O=Math.SQRT2;function D(t){return((t=Math.exp(t))+1/t)/2}function z(t){return function(n,i){var r=t((n=e.hsl(n)).h,(i=e.hsl(i)).h),o=l(n.s,i.s),s=l(n.l,i.l),a=l(n.opacity,i.opacity);return function(t){return n.h=r(t),n.s=o(t),n.l=s(t),n.opacity=a(t),n+""}}}var j=z(a),L=z(l);function I(t){return function(n,i){var r=t((n=e.hcl(n)).h,(i=e.hcl(i)).h),o=l(n.c,i.c),s=l(n.l,i.l),a=l(n.opacity,i.opacity);return function(t){return n.h=r(t),n.c=o(t),n.l=s(t),n.opacity=a(t),n+""}}}var R=I(a),H=I(l);function q(t){return function n(i){function r(n,r){var o=t((n=e.cubehelix(n)).h,(r=e.cubehelix(r)).h),s=l(n.s,r.s),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(t){return n.h=o(t),n.s=s(t),n.l=a(Math.pow(t,i)),n.opacity=u(t),n+""}}return i=+i,r.gamma=n,r}(1)}var F=q(a),$=q(l);t.interpolate=T,t.interpolateArray=d,t.interpolateBasis=i,t.interpolateBasisClosed=r,t.interpolateDate=g,t.interpolateNumber=v,t.interpolateObject=y,t.interpolateRound=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},t.interpolateString=M,t.interpolateTransformCss=N,t.interpolateTransformSvg=P,t.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],u=e[1],l=e[2],c=a-r,h=u-o,f=c*c+h*h;if(f<1e-12)i=Math.log(l/s)/O,n=function(t){return[r+t*c,o+t*h,s*Math.exp(O*t*i)]};else{var p=Math.sqrt(f),d=(l*l-s*s+4*f)/(2*s*2*p),g=(l*l-s*s-4*f)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(g*g+1)-g);i=(y-v)/O,n=function(t){var e,n=t*i,a=D(v),u=s/(2*p)*(a*(e=O*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[r+u*c,o+u*h,s*a/D(O*n+v)]}}return n.duration=1e3*i,n},t.interpolateRgb=c,t.interpolateRgbBasis=f,t.interpolateRgbBasisClosed=p,t.interpolateHsl=j,t.interpolateHslLong=L,t.interpolateLab=function(t,n){var i=l((t=e.lab(t)).l,(n=e.lab(n)).l),r=l(t.a,n.a),o=l(t.b,n.b),s=l(t.opacity,n.opacity);return function(e){return t.l=i(e),t.a=r(e),t.b=o(e),t.opacity=s(e),t+""}},t.interpolateHcl=R,t.interpolateHclLong=H,t.interpolateCubehelix=F,t.interpolateCubehelixLong=$,t.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(13))},function(t,e,n){(function(t){"use strict";var e=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function n(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function i(){}var r="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a=/^#([0-9a-f]{3})$/,u=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),c=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgba\\("+[r,r,r,o]+"\\)$"),f=new RegExp("^rgba\\("+[s,s,s,o]+"\\)$"),p=new RegExp("^hsl\\("+[o,s,s]+"\\)$"),d=new RegExp("^hsla\\("+[o,s,s,o]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(t){var e;return t=(t+"").trim().toLowerCase(),(e=a.exec(t))?new x((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=u.exec(t))?y(parseInt(e[1],16)):(e=l.exec(t))?new x(e[1],e[2],e[3],1):(e=c.exec(t))?new x(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?m(e[1],e[2],e[3],e[4]):(e=f.exec(t))?m(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?w(e[1],e[2]/100,e[3]/100,1):(e=d.exec(t))?w(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?y(g[t]):"transparent"===t?new x(NaN,NaN,NaN,0):null}function y(t){return new x(t>>16&255,t>>8&255,255&t,1)}function m(t,e,n,i){return i<=0&&(t=e=n=NaN),new x(t,e,n,i)}function _(t){return t instanceof i||(t=v(t)),t?new x((t=t.rgb()).r,t.g,t.b,t.opacity):new x}function b(t,e,n,i){return 1===arguments.length?_(t):new x(t,e,n,null==i?1:i)}function x(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function w(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new M(t,e,n,i)}function k(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=v(t)),!t)return new M;if(t instanceof M)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,u=s-o,l=(s+o)/2;return u?(a=e===s?(n-r)/u+6*(n<r):n===s?(r-e)/u+2:(e-n)/u+4,u/=l<.5?s+o:2-s-o,a*=60):u=l>0&&l<1?0:a,new M(a,u,l,t.opacity)}(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function T(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(i,v,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(x,b,n(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new x(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new x(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(M,k,n(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new x(T(t>=240?t-240:t+120,r,i),T(t,r,i),T(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var C=Math.PI/180,S=180/Math.PI,E=.95047,A=1,N=1.08883,P=4/29,O=6/29,D=3*O*O,z=O*O*O;function j(t){if(t instanceof I)return new I(t.l,t.a,t.b,t.opacity);if(t instanceof B){var e=t.h*C;return new I(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof x||(t=_(t));var n=F(t.r),i=F(t.g),r=F(t.b),o=R((.4124564*n+.3575761*i+.1804375*r)/E),s=R((.2126729*n+.7151522*i+.072175*r)/A);return new I(116*s-16,500*(o-s),200*(s-R((.0193339*n+.119192*i+.9503041*r)/N)),t.opacity)}function L(t,e,n,i){return 1===arguments.length?j(t):new I(t,e,n,null==i?1:i)}function I(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function R(t){return t>z?Math.pow(t,1/3):t/D+P}function H(t){return t>O?t*t*t:D*(t-P)}function q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function F(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof B)return new B(t.h,t.c,t.l,t.opacity);t instanceof I||(t=j(t));var e=Math.atan2(t.b,t.a)*S;return new B(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new B(t,e,n,null==i?1:i)}function B(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}e(I,L,n(i,{brighter:function(t){return new I(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=A*H(t),new x(q(3.2404542*(e=E*H(e))-1.5371385*t-.4985314*(n=N*H(n))),q(-.969266*e+1.8760108*t+.041556*n),q(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(B,$,n(i,{brighter:function(t){return new B(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new B(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return j(this).rgb()}}));var W=-.14861,U=1.78277,Y=-.29227,X=-.90649,V=1.97294,G=V*X,K=V*U,Q=U*Y-X*W;function J(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Z)return new Z(t.h,t.s,t.l,t.opacity);t instanceof x||(t=_(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Q*i+G*e-K*n)/(Q+G-K),o=i-r,s=(V*(n-r)-Y*o)/X,a=Math.sqrt(s*s+o*o)/(V*r*(1-r)),u=a?Math.atan2(s,o)*S-120:NaN;return new Z(u<0?u+360:u,a,r,t.opacity)}(t):new Z(t,e,n,null==i?1:i)}function Z(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}e(Z,J,n(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Z(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Z(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*C,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new x(255*(e+n*(W*i+U*r)),255*(e+n*(Y*i+X*r)),255*(e+n*(V*i)),this.opacity)}})),t.color=v,t.rgb=b,t.hsl=k,t.lab=L,t.hcl=$,t.cubehelix=J,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n,i,r,o,s){"use strict";var a=n.dispatch("start","end","interrupt"),u=[],l=0,c=1,h=2,f=3,p=4,d=5,g=6,v=function(t,e,n,r,o,s){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function s(l){var d,v,y,m;if(n.state!==c)return u();for(d in o)if((m=o[d]).name===n.name){if(m.state===f)return i.timeout(s);m.state===p?(m.state=g,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[d]):+d<e&&(m.state=g,m.timer.stop(),delete o[d])}if(i.timeout(function(){n.state===f&&(n.state=p,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=h,n.on.call("start",t,t.__data__,n.index,n.group),n.state===h){for(n.state=f,r=new Array(y=n.tween.length),d=0,v=-1;d<y;++d)(m=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++v]=m);r.length=v+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=d,1),o=-1,s=r.length;++o<s;)r[o].call(null,i);n.state===d&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var i in n.state=g,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=i.timer(function(t){n.state=c,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:o,on:a,tween:u,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:l})};function y(t,e){var n=_(t,e);if(n.state>l)throw new Error("too late; already scheduled");return n}function m(t,e){var n=_(t,e);if(n.state>h)throw new Error("too late; already started");return n}function _(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var b=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>h&&n.state<d,n.state=g,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}};function x(t,e,n){var i=t._id;return t.each(function(){var t=m(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _(t,i).value[e]}}var w=function(t,e){var n;return("number"==typeof e?r.interpolateNumber:e instanceof o.color?r.interpolateRgb:(n=o.color(e))?(e=n,r.interpolateRgb):r.interpolateString)(t,e)};var k=e.selection.prototype.constructor;var M=0;function T(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function C(t){return e.selection().transition(t)}function S(){return++M}var E=e.selection.prototype;T.prototype=C.prototype={constructor:T,select:function(t){var n=this._name,i=this._id;"function"!=typeof t&&(t=e.selector(t));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var u,l,c=r[a],h=c.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=c[p])&&(l=t.call(u,u.__data__,p,c))&&("__data__"in u&&(l.__data__=u.__data__),f[p]=l,v(f[p],n,i,p,f,_(u,i)));return new T(s,this._parents,n,i)},selectAll:function(t){var n=this._name,i=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var r=this._groups,o=r.length,s=[],a=[],u=0;u<o;++u)for(var l,c=r[u],h=c.length,f=0;f<h;++f)if(l=c[f]){for(var p,d=t.call(l,l.__data__,f,c),g=_(l,i),y=0,m=d.length;y<m;++y)(p=d[y])&&v(p,n,i,y,d,g);s.push(d),a.push(l)}return new T(s,a,n,i)},filter:function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o)for(var s,a=n[o],u=a.length,l=r[o]=[],c=0;c<u;++c)(s=a[c])&&t.call(s,s.__data__,c,a)&&l.push(s);return new T(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new T(s,this._parents,this._name,this._id)},selection:function(){return new k(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=S(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,l=0;l<u;++l)if(s=a[l]){var c=_(s,e);v(s,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new T(i,this._parents,t,n)},call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:function(t,e){var n=this._id;return arguments.length<2?_(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?y:m;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,n){var i=e.namespace(t),o="transform"===i?r.interpolateTransformSvg:w;return this.attrTween(t,"function"==typeof n?(i.local?function(t,e,n){var i,r,o;return function(){var s,a=n(this);if(null!=a)return(s=this.getAttributeNS(t.space,t.local))===a?null:s===i&&a===r?o:o=e(i=s,r=a);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var i,r,o;return function(){var s,a=n(this);if(null!=a)return(s=this.getAttribute(t))===a?null:s===i&&a===r?o:o=e(i=s,r=a);this.removeAttribute(t)}})(i,o,x(this,"attr."+t,n)):null==n?(i.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(i):(i.local?function(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}:function(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}})(i,o,n+""))},attrTween:function(t,n){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;var r=e.namespace(t);return this.tween(i,(r.local?function(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n})(r,n))},style:function(t,n,i){var o="transform"==(t+="")?r.interpolateTransformCss:w;return null==n?this.styleTween(t,function(t,n){var i,r,o;return function(){var s=e.style(this,t),a=(this.style.removeProperty(t),e.style(this,t));return s===a?null:s===i&&a===r?o:o=n(i=s,r=a)}}(t,o)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,i){var r,o,s;return function(){var a=e.style(this,t),u=i(this);return null==u&&(this.style.removeProperty(t),u=e.style(this,t)),a===u?null:a===r&&u===o?s:s=n(r=a,o=u)}}(t,o,x(this,"style."+t,n)):function(t,n,i){var r,o;return function(){var s=e.style(this,t);return s===i?null:s===r?o:o=n(r=s,i)}}(t,o,n+""),i)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(x(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=_(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var r=m(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}:function(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=m(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,l=r.length;u<l;++u)if(r[u].name===e){r[u]=a;break}u===l&&r.push(a)}o.tween=r}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){y(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){y(this,t).delay=e}})(e,t)):_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){m(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){m(this,t).duration=e}})(e,t)):_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){m(this,t).ease=e}}(e,t)):_(this.node(),e).ease}};var A={time:null,delay:0,duration:250,ease:s.easeCubicInOut};function N(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return A.time=i.now(),A;return n}e.selection.prototype.interrupt=function(t){return this.each(function(){b(this,t)})},e.selection.prototype.transition=function(t){var e,n;t instanceof T?(e=t._id,t=t._name):(e=S(),(n=A).time=i.now(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var a,u=r[s],l=u.length,c=0;c<l;++c)(a=u[c])&&v(a,t,e,c,u,n||N(a,e));return new T(r,this._parents,t,e)};var P=[null];t.transition=C,t.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>c&&n.name===e)return new T([[t]],P,e,+i);return null},t.interrupt=b,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(11),n(9),n(15),n(12),n(13),n(16))},function(t,e,n){(function(t){"use strict";var e,n,i=0,r=0,o=0,s=1e3,a=0,u=0,l=0,c="object"==typeof performance&&performance.now?performance:Date,h="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return u||(h(p),u=c.now()+l)}function p(){u=0}function d(){this._call=this._time=this._next=null}function g(t,e,n){var i=new d;return i.restart(t,e,n),i}function v(){f(),++i;for(var t,n=e;n;)(t=u-n._time)>=0&&n._call.call(null,t),n=n._next;--i}function y(){u=(a=c.now())+l,i=r=0;try{v()}finally{i=0,function(){var t,i,r=e,o=1/0;for(;r;)r._call?(o>r._time&&(o=r._time),t=r,r=r._next):(i=r._next,r._next=null,r=t?t._next=i:e=i);n=t,_(o)}(),u=0}}function m(){var t=c.now(),e=t-a;e>s&&(l-=e,a=t)}function _(t){i||(r&&(r=clearTimeout(r)),t-u>24?(t<1/0&&(r=setTimeout(y,t-c.now()-l)),o&&(o=clearInterval(o))):(o||(a=c.now(),o=setInterval(m,s)),i=1,h(y)))}d.prototype=g.prototype={constructor:d,restart:function(t,i,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?f():+r)+(null==i?0:+i),this._next||n===this||(n?n._next=this:e=this,n=this),this._call=t,this._time=r,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}};t.now=f,t.timer=g,t.timerFlush=v,t.timeout=function(t,e,n){var i=new d;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},t.interval=function(t,e,n){var i=new d,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?f():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var i=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),r=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),s=Math.PI,a=s/2;function u(t){return(1-Math.cos(s*t))/2}function l(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function c(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var h=4/11,f=6/11,p=8/11,d=.75,g=9/11,v=10/11,y=.9375,m=21/22,_=63/64,b=1/h/h;function x(t){return(t=+t)<h?b*t*t:t<p?b*(t-=f)*t+d:t<v?b*(t-=g)*t+y:b*(t-=m)*t+_}var w=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),k=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),T=2*Math.PI,C=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*T)},r.period=function(n){return t(e,n)},r}(1,.3),S=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*T)},r.period=function(n){return t(e,n)},r}(1,.3),E=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*T)},r.period=function(n){return t(e,n)},r}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=o,t.easePolyIn=i,t.easePolyOut=r,t.easePolyInOut=o,t.easeSin=u,t.easeSinIn=function(t){return 1-Math.cos(t*a)},t.easeSinOut=function(t){return Math.sin(t*a)},t.easeSinInOut=u,t.easeExp=l,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=l,t.easeCircle=c,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=c,t.easeBounce=x,t.easeBounceIn=function(t){return 1-x(1-t)},t.easeBounceOut=x,t.easeBounceInOut=function(t){return((t*=2)<=1?1-x(1-t):x(t-1)+1)/2},t.easeBack=M,t.easeBackIn=w,t.easeBackOut=k,t.easeBackInOut=M,t.easeElastic=S,t.easeElasticIn=C,t.easeElasticOut=S,t.easeElasticInOut=E,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n){"use strict";var i=Math.cos,r=Math.sin,o=Math.PI,s=o/2,a=2*o,u=Math.max;var l=Array.prototype.slice,c=function(t){return function(){return t}};function h(t){return t.source}function f(t){return t.target}function p(t){return t.radius}function d(t){return t.startAngle}function g(t){return t.endAngle}t.chord=function(){var t=0,n=null,i=null,r=null;function o(o){var s,l,c,h,f,p,d=o.length,g=[],v=e.range(d),y=[],m=[],_=m.groups=new Array(d),b=new Array(d*d);for(s=0,f=-1;++f<d;){for(l=0,p=-1;++p<d;)l+=o[f][p];g.push(l),y.push(e.range(d)),s+=l}for(n&&v.sort(function(t,e){return n(g[t],g[e])}),i&&y.forEach(function(t,e){t.sort(function(t,n){return i(o[e][t],o[e][n])})}),h=(s=u(0,a-t*d)/s)?t:a/d,l=0,f=-1;++f<d;){for(c=l,p=-1;++p<d;){var x=v[f],w=y[x][p],k=o[x][w],M=l,T=l+=k*s;b[w*d+x]={index:x,subindex:w,startAngle:M,endAngle:T,value:k}}_[x]={index:x,startAngle:c,endAngle:l,value:g[x]},l+=h}for(f=-1;++f<d;)for(p=f-1;++p<d;){var C=b[p*d+f],S=b[f*d+p];(C.value||S.value)&&m.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}return r?m.sort(r):m}return o.padAngle=function(e){return arguments.length?(t=u(0,e),o):t},o.sortGroups=function(t){return arguments.length?(n=t,o):n},o.sortSubgroups=function(t){return arguments.length?(i=t,o):i},o.sortChords=function(t){return arguments.length?(null==t?r=null:(e=t,r=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,o):r&&r._;var e},o},t.ribbon=function(){var t=h,e=f,o=p,a=d,u=g,v=null;function y(){var c,h=l.call(arguments),f=t.apply(this,h),p=e.apply(this,h),d=+o.apply(this,(h[0]=f,h)),g=a.apply(this,h)-s,y=u.apply(this,h)-s,m=d*i(g),_=d*r(g),b=+o.apply(this,(h[0]=p,h)),x=a.apply(this,h)-s,w=u.apply(this,h)-s;if(v||(v=c=n.path()),v.moveTo(m,_),v.arc(0,0,d,g,y),g===x&&y===w||(v.quadraticCurveTo(0,0,b*i(x),b*r(x)),v.arc(0,0,b,x,w)),v.quadraticCurveTo(0,0,m,_),v.closePath(),c)return v=null,c+""||null}return y.radius=function(t){return arguments.length?(o="function"==typeof t?t:c(+t),y):o},y.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:c(+t),y):a},y.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:c(+t),y):u},y.source=function(e){return arguments.length?(t=e,y):t},y.target=function(t){return arguments.length?(e=t,y):e},y.context=function(t){return arguments.length?(v=null==t?null:t,y):v},y},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(6),n(18))},function(t,e,n){(function(t){"use strict";var e=Math.PI,n=2*e,i=n-1e-6;function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new r}r.prototype=o.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,n,i,r,o){t=+t,n=+n,i=+i,r=+r,o=+o;var s=this._x1,a=this._y1,u=i-t,l=r-n,c=s-t,h=a-n,f=c*c+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(h*u-l*c)>1e-6&&o){var p=i-s,d=r-a,g=u*u+l*l,v=p*p+d*d,y=Math.sqrt(g),m=Math.sqrt(f),_=o*Math.tan((e-Math.acos((g+f-v)/(2*y*m)))/2),b=_/m,x=_/y;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(n+b*h)),this._+="A"+o+","+o+",0,0,"+ +(h*p>c*d)+","+(this._x1=t+x*u)+","+(this._y1=n+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,r,o,s,a,u){t=+t,r=+r;var l=(o=+o)*Math.cos(s),c=o*Math.sin(s),h=t+l,f=r+c,p=1^u,d=u?s-a:a-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),o&&(d<0&&(d=d%n+n),d>i?this._+="A"+o+","+o+",0,1,"+p+","+(t-l)+","+(r-c)+"A"+o+","+o+",0,1,"+p+","+(this._x1=h)+","+(this._y1=f):d>1e-6&&(this._+="A"+o+","+o+",0,"+ +(d>=e)+","+p+","+(this._x1=t+o*Math.cos(a))+","+(this._y1=r+o*Math.sin(a))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},t.path=o,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";function e(){}function n(t,n){var i=new e;if(t instanceof e)t.each(function(t,e){i.set(e,t)});else if(Array.isArray(t)){var r,o=-1,s=t.length;if(null==n)for(;++o<s;)i.set(o,t[o]);else for(;++o<s;)i.set(n(r=t[o],o,t),r)}else if(t)for(var a in t)i.set(a,t[a]);return i}e.prototype=n.prototype={constructor:e,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};function i(){return{}}function r(t,e,n){t[e]=n}function o(){return n()}function s(t,e,n){t.set(e,n)}function a(){}var u=n.prototype;function l(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}a.prototype=l.prototype={constructor:a,has:u.has,add:function(t){return this["$"+(t+="")]=t,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};t.nest=function(){var t,e,a,u=[],l=[];function c(i,r,o,s){if(r>=u.length)return null!=t&&i.sort(t),null!=e?e(i):i;for(var a,l,h,f=-1,p=i.length,d=u[r++],g=n(),v=o();++f<p;)(h=g.get(a=d(l=i[f])+""))?h.push(l):g.set(a,[l]);return g.each(function(t,e){s(v,e,c(t,r,o,s))}),v}return a={object:function(t){return c(t,0,i,r)},map:function(t){return c(t,0,o,s)},entries:function(t){return function t(n,i){if(++i>u.length)return n;var r,o=l[i-1];return null!=e&&i>=u.length?r=n.entries():(r=[],n.each(function(e,n){r.push({key:n,values:t(e,i)})})),null!=o?r.sort(function(t,e){return o(t.key,e.key)}):r}(c(t,0,o,s),0)},key:function(t){return u.push(t),a},sortKeys:function(t){return l[u.length-1]=t,a},sortValues:function(e){return t=e,a},rollup:function(t){return e=t,a}}},t.set=l,t.map=n,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e={},n={},i=34,r=10,o=13;function s(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var a=function(t){var a=new RegExp('["'+t+"\n\r]"),u=t.charCodeAt(0);function l(t,s){var a,l=[],c=t.length,h=0,f=0,p=c<=0,d=!1;function g(){if(p)return n;if(d)return d=!1,e;var s,a,l=h;if(t.charCodeAt(l)===i){for(;h++<c&&t.charCodeAt(h)!==i||t.charCodeAt(++h)===i;);return(s=h)>=c?p=!0:(a=t.charCodeAt(h++))===r?d=!0:a===o&&(d=!0,t.charCodeAt(h)===r&&++h),t.slice(l+1,s-1).replace(/""/g,'"')}for(;h<c;){if((a=t.charCodeAt(s=h++))===r)d=!0;else if(a===o)d=!0,t.charCodeAt(h)===r&&++h;else if(a!==u)continue;return t.slice(l,s)}return p=!0,t.slice(l,c)}for(t.charCodeAt(c-1)===r&&--c,t.charCodeAt(c-1)===o&&--c;(a=g())!==n;){for(var v=[];a!==e&&a!==n;)v.push(a),a=g();s&&null==(v=s(v,f++))||l.push(v)}return l}function c(e){return e.map(h).join(t)}function h(t){return null==t?"":a.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,r=l(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=s(t);return function(i,r){return e(n(i),r,t)}}(t,e):s(t)});return r.columns=i||[],r},parseRows:l,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}(e)),[n.map(h).join(t)].concat(e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}},u=a(","),l=u.parse,c=u.parseRows,h=u.format,f=u.formatRows,p=a("\t"),d=p.parse,g=p.parseRows,v=p.format,y=p.formatRows;t.dsvFormat=a,t.csvParse=l,t.csvParseRows=c,t.csvFormat=h,t.csvFormatRows=f,t.tsvParse=d,t.tsvParseRows=g,t.tsvFormat=v,t.tsvFormatRows=y,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n,i,r){"use strict";var o=function(t){return function(){return t}},s=function(){return 1e-6*(Math.random()-.5)};function a(t){return t.x+t.vx}function u(t){return t.y+t.vy}function l(t){return t.index}function c(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function h(t){return t.x}function f(t){return t.y}var p=10,d=Math.PI*(3-Math.sqrt(5));t.forceCenter=function(t,e){var n;function i(){var i,r,o=n.length,s=0,a=0;for(i=0;i<o;++i)s+=(r=n[i]).x,a+=r.y;for(s=s/o-t,a=a/o-e,i=0;i<o;++i)(r=n[i]).x-=s,r.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},t.forceCollide=function(t){var n,i,r=1,l=1;function c(){for(var t,o,c,f,p,d,g,v=n.length,y=0;y<l;++y)for(o=e.quadtree(n,a,u).visitAfter(h),t=0;t<v;++t)c=n[t],d=i[c.index],g=d*d,f=c.x+c.vx,p=c.y+c.vy,o.visit(m);function m(t,e,n,i,o){var a=t.data,u=t.r,l=d+u;if(!a)return e>f+l||i<f-l||n>p+l||o<p-l;if(a.index>c.index){var h=f-a.x-a.vx,v=p-a.y-a.vy,y=h*h+v*v;y<l*l&&(0===h&&(y+=(h=s())*h),0===v&&(y+=(v=s())*v),y=(l-(y=Math.sqrt(y)))/y*r,c.vx+=(h*=y)*(l=(u*=u)/(g+u)),c.vy+=(v*=y)*l,a.vx-=h*(l=1-l),a.vy-=v*l)}}}function h(t){if(t.data)return t.r=i[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(n){var e,r,o=n.length;for(i=new Array(o),e=0;e<o;++e)r=n[e],i[r.index]=+t(r,e,n)}}return"function"!=typeof t&&(t=o(null==t?1:+t)),c.initialize=function(t){n=t,f()},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(r=+t,c):r},c.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),f(),c):t},c},t.forceLink=function(t){var e,i,r,a,u,h=l,f=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},p=o(30),d=1;function g(n){for(var r=0,o=t.length;r<d;++r)for(var a,l,c,h,f,p,g,v=0;v<o;++v)l=(a=t[v]).source,h=(c=a.target).x+c.vx-l.x-l.vx||s(),f=c.y+c.vy-l.y-l.vy||s(),h*=p=((p=Math.sqrt(h*h+f*f))-i[v])/p*n*e[v],f*=p,c.vx-=h*(g=u[v]),c.vy-=f*g,l.vx+=h*(g=1-g),l.vy+=f*g}function v(){if(r){var o,s,l=r.length,f=t.length,p=n.map(r,h);for(o=0,a=new Array(l);o<f;++o)(s=t[o]).index=o,"object"!=typeof s.source&&(s.source=c(p,s.source)),"object"!=typeof s.target&&(s.target=c(p,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(o=0,u=new Array(f);o<f;++o)s=t[o],u[o]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);e=new Array(f),y(),i=new Array(f),m()}}function y(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}function m(){if(r)for(var e=0,n=t.length;e<n;++e)i[e]=+p(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t){r=t,v()},g.links=function(e){return arguments.length?(t=e,v(),g):t},g.id=function(t){return arguments.length?(h=t,g):h},g.iterations=function(t){return arguments.length?(d=+t,g):d},g.strength=function(t){return arguments.length?(f="function"==typeof t?t:o(+t),y(),g):f},g.distance=function(t){return arguments.length?(p="function"==typeof t?t:o(+t),m(),g):p},g},t.forceManyBody=function(){var t,n,i,r,a=o(-30),u=1,l=1/0,c=.81;function p(r){var o,s=t.length,a=e.quadtree(t,h,f).visitAfter(g);for(i=r,o=0;o<s;++o)n=t[o],a.visit(v)}function d(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+a(n,e,t)}}function g(t){var e,n,i,o,s,a=0,u=0;if(t.length){for(i=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function v(t,e,o,a){if(!t.value)return!0;var h=t.x-n.x,f=t.y-n.y,p=a-e,d=h*h+f*f;if(p*p/c<d)return d<l&&(0===h&&(d+=(h=s())*h),0===f&&(d+=(f=s())*f),d<u&&(d=Math.sqrt(u*d)),n.vx+=h*t.value*i/d,n.vy+=f*t.value*i/d),!0;if(!(t.length||d>=l)){(t.data!==n||t.next)&&(0===h&&(d+=(h=s())*h),0===f&&(d+=(f=s())*f),d<u&&(d=Math.sqrt(u*d)));do{t.data!==n&&(p=r[t.data.index]*i/d,n.vx+=h*p,n.vy+=f*p)}while(t=t.next)}}return p.initialize=function(e){t=e,d()},p.strength=function(t){return arguments.length?(a="function"==typeof t?t:o(+t),d(),p):a},p.distanceMin=function(t){return arguments.length?(u=t*t,p):Math.sqrt(u)},p.distanceMax=function(t){return arguments.length?(l=t*t,p):Math.sqrt(l)},p.theta=function(t){return arguments.length?(c=t*t,p):Math.sqrt(c)},p},t.forceRadial=function(t,e,n){var i,r,s,a=o(.1);function u(t){for(var o=0,a=i.length;o<a;++o){var u=i[o],l=u.x-e||1e-6,c=u.y-n||1e-6,h=Math.sqrt(l*l+c*c),f=(s[o]-h)*r[o]*t/h;u.vx+=l*f,u.vy+=c*f}}function l(){if(i){var e,n=i.length;for(r=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),r[e]=isNaN(s[e])?0:+a(i[e],e,i)}}return"function"!=typeof t&&(t=o(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){i=t,l()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:o(+t),l(),u):a},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),l(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u},t.forceSimulation=function(t){var e,o=1,s=.001,a=1-Math.pow(s,1/300),u=0,l=.6,c=n.map(),h=r.timer(g),f=i.dispatch("tick","end");function g(){v(),f.call("tick",e),o<s&&(h.stop(),f.call("end",e))}function v(){var e,n,i=t.length;for(o+=(u-o)*a,c.each(function(t){t(o)}),e=0;e<i;++e)null==(n=t[e]).fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0)}function y(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var r=p*Math.sqrt(n),o=n*d;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function m(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),y(),e={tick:v,restart:function(){return h.restart(g),e},stop:function(){return h.stop(),e},nodes:function(n){return arguments.length?(t=n,y(),c.each(m),e):t},alpha:function(t){return arguments.length?(o=+t,e):o},alphaMin:function(t){return arguments.length?(s=+t,e):s},alphaDecay:function(t){return arguments.length?(a=+t,e):+a},alphaTarget:function(t){return arguments.length?(u=+t,e):u},velocityDecay:function(t){return arguments.length?(l=1-t,e):1-l},force:function(t,n){return arguments.length>1?(null==n?c.remove(t):c.set(t,m(n)),e):c.get(t)},find:function(e,n,i){var r,o,s,a,u,l=0,c=t.length;for(null==i?i=1/0:i*=i,l=0;l<c;++l)(s=(r=e-(a=t[l]).x)*r+(o=n-a.y)*o)<i&&(u=a,i=s);return u},on:function(t,n){return arguments.length>1?(f.on(t,n),e):f.on(t)}}},t.forceX=function(t){var e,n,i,r=o(.1);function s(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),s.initialize=function(t){e=t,a()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:o(+t),a(),s):r},s.x=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),a(),s):t},s},t.forceY=function(t){var e,n,i,r=o(.1);function s(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),s.initialize=function(t){e=t,a()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:o(+t),a(),s):r},s.y=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),a(),s):t},s},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(22),n(19),n(9),n(15))},function(t,e,n){(function(t){"use strict";function e(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,l,c,h,f,p=t._root,d={data:i},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(v+m)/2))?v=s:m=s,r=p,!(p=p[h=c<<1|l]))return r[h]=d,t;if(a=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===a&&n===u)return d.next=p,r?r[h]=d:t._root=d,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(v+m)/2))?v=s:m=s}while((h=c<<1|l)==(f=(u>=s)<<1|a>=o));return r[f]=p,r[h]=d,t}var n=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function i(t){return t[0]}function r(t){return t[1]}function o(t,e,n){var o=new s(null==e?i:e,null==n?r:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function s(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function a(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var u=o.prototype=s.prototype;u.copy=function(){var t,e,n=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=a(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=a(e));return n},u.add=function(t){var n=+this._x.call(null,t),i=+this._y.call(null,t);return e(this.cover(n,i),n,i,t)},u.addAll=function(t){var n,i,r,o,s=t.length,a=new Array(s),u=new Array(s),l=1/0,c=1/0,h=-1/0,f=-1/0;for(i=0;i<s;++i)isNaN(r=+this._x.call(null,n=t[i]))||isNaN(o=+this._y.call(null,n))||(a[i]=r,u[i]=o,r<l&&(l=r),r>h&&(h=r),o<c&&(c=o),o>f&&(f=o));for(h<l&&(l=this._x0,h=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(l,c).cover(h,f),i=0;i<s;++i)e(this,a[i],u[i],t[i]);return this},u.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var s,a,u=r-n,l=this._root;switch(a=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:do{(s=new Array(4))[a]=l,l=s}while(o=i+(u*=2),t>(r=n+u)||e>o);break;case 1:do{(s=new Array(4))[a]=l,l=s}while(o=i+(u*=2),(n=r-u)>t||e>o);break;case 2:do{(s=new Array(4))[a]=l,l=s}while(i=o-(u*=2),t>(r=n+u)||i>e);break;case 3:do{(s=new Array(4))[a]=l,l=s}while(i=o-(u*=2),(n=r-u)>t||i>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},u.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},u.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},u.find=function(t,e,i){var r,o,s,a,u,l,c,h=this._x0,f=this._y0,p=this._x1,d=this._y1,g=[],v=this._root;for(v&&g.push(new n(v,h,f,p,d)),null==i?i=1/0:(h=t-i,f=e-i,p=t+i,d=e+i,i*=i);l=g.pop();)if(!(!(v=l.node)||(o=l.x0)>p||(s=l.y0)>d||(a=l.x1)<h||(u=l.y1)<f))if(v.length){var y=(o+a)/2,m=(s+u)/2;g.push(new n(v[3],y,m,a,u),new n(v[2],o,m,y,u),new n(v[1],y,s,a,m),new n(v[0],o,s,y,m)),(c=(e>=m)<<1|t>=y)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var _=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),x=_*_+b*b;if(x<i){var w=Math.sqrt(i=x);h=t-w,f=e-w,p=t+w,d=e+w,r=v.data}}return r},u.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,l,c,h,f,p=this._root,d=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(a=(d+v)/2))?d=a:v=a,(c=s>=(u=(g+y)/2))?g=u:y=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},u.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},u.root=function(){return this._root},u.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},u.visit=function(t){var e,i,r,o,s,a,u=[],l=this._root;for(l&&u.push(new n(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(l=e.node,r=e.x0,o=e.y0,s=e.x1,a=e.y1)&&l.length){var c=(r+s)/2,h=(o+a)/2;(i=l[3])&&u.push(new n(i,c,h,s,a)),(i=l[2])&&u.push(new n(i,r,h,c,a)),(i=l[1])&&u.push(new n(i,c,o,s,h)),(i=l[0])&&u.push(new n(i,r,o,c,h))}return this},u.visitAfter=function(t){var e,i=[],r=[];for(this._root&&i.push(new n(this._root,this._x0,this._y0,this._x1,this._y1));e=i.pop();){var o=e.node;if(o.length){var s,a=e.x0,u=e.y0,l=e.x1,c=e.y1,h=(a+l)/2,f=(u+c)/2;(s=o[0])&&i.push(new n(s,a,u,h,f)),(s=o[1])&&i.push(new n(s,h,u,l,f)),(s=o[2])&&i.push(new n(s,a,f,h,c)),(s=o[3])&&i.push(new n(s,h,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},u.x=function(t){return arguments.length?(this._x=t,this):this._x},u.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=o,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e,n=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},i=function(t){return(t=n(Math.abs(t)))?t[1]:NaN},r=function(t,e){var i=n(t,e);if(!i)return t+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},o={"":function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return r(100*t,e)},r:r,s:function(t,i){var r=n(t,i);if(!r)return t+"";var o=r[0],s=r[1],a=s-(e=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,u=o.length;return a===u?o:a>u?o+new Array(a-u+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+n(t,Math.max(0,i+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},s=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function a(t){return new u(t)}function u(t){if(!(e=s.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",a=e[4]||"",u=!!e[5],l=e[6]&&+e[6],c=!!e[7],h=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(c=!0,f="g"):o[f]||(f=""),(u||"0"===n&&"="===i)&&(u=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=a,this.zero=u,this.width=l,this.comma=c,this.precision=h,this.type=f}a.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var l,c=function(t){return t},h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],f=function(t){var n,r,s=t.grouping&&t.thousands?(n=t.grouping,r=t.thousands,function(t,e){for(var i=t.length,o=[],s=0,a=n[0],u=0;i>0&&a>0&&(u+a+1>e&&(a=Math.max(1,e-u)),o.push(t.substring(i-=a,i+a)),!((u+=a+1)>e));)a=n[s=(s+1)%n.length];return o.reverse().join(r)}):c,u=t.currency,l=t.decimal,f=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):c,p=t.percent||"%";function d(t){var n=(t=a(t)).fill,i=t.align,r=t.sign,c=t.symbol,d=t.zero,g=t.width,v=t.comma,y=t.precision,m=t.type,_="$"===c?u[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===c?u[1]:/[%p]/.test(m)?p:"",x=o[m],w=!m||/[defgprs%]/.test(m);function k(t){var o,a,u,c=_,p=b;if("c"===m)p=x(t)+p,t="";else{var k=(t=+t)<0;if(t=x(Math.abs(t),y),k&&0==+t&&(k=!1),c=(k?"("===r?r:"-":"-"===r||"("===r?"":r)+c,p=("s"===m?h[8+e/3]:"")+p+(k&&"("===r?")":""),w)for(o=-1,a=t.length;++o<a;)if(48>(u=t.charCodeAt(o))||u>57){p=(46===u?l+t.slice(o+1):t.slice(o))+p,t=t.slice(0,o);break}}v&&!d&&(t=s(t,1/0));var M=c.length+t.length+p.length,T=M<g?new Array(g-M+1).join(n):"";switch(v&&d&&(t=s(T+t,T.length?g-p.length:1/0),T=""),i){case"<":t=c+t+p+T;break;case"=":t=c+T+t+p;break;case"^":t=T.slice(0,M=T.length>>1)+c+t+p+T.slice(M);break;default:t=T+c+t+p}return f(t)}return y=null==y?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:d,formatPrefix:function(t,e){var n=d(((t=a(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(i(e)/3))),o=Math.pow(10,-r),s=h[8+r/3];return function(t){return n(o*t)+s}}}};function p(e){return l=f(e),t.format=l.format,t.formatPrefix=l.formatPrefix,l}p({decimal:".",thousands:",",grouping:[3],currency:["$",""]});t.formatDefaultLocale=p,t.formatLocale=f,t.formatSpecifier=a,t.precisionFixed=function(t){return Math.max(0,-i(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(e)/3)))-i(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i(e)-i(t))+1},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e){"use strict";var n=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){o(r,t,this.t),o(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new i;function o(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var s=1e-6,a=Math.PI,u=a/2,l=a/4,c=2*a,h=180/a,f=a/180,p=Math.abs,d=Math.atan,g=Math.atan2,v=Math.cos,y=Math.ceil,m=Math.exp,_=Math.log,b=Math.pow,x=Math.sin,w=Math.sign||function(t){return t>0?1:t<0?-1:0},k=Math.sqrt,M=Math.tan;function T(t){return t>1?0:t<-1?a:Math.acos(t)}function C(t){return t>1?u:t<-1?-u:Math.asin(t)}function S(t){return(t=x(t/2))*t}function E(){}function A(t,e){t&&P.hasOwnProperty(t.type)&&P[t.type](t,e)}var N={Feature:function(t,e){A(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)A(n[i].geometry,e)}},P={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){O(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)O(n[i],e,0)},Polygon:function(t,e){D(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)D(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)A(n[i],e)}};function O(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function D(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)O(t[n],e,1);e.polygonEnd()}var z,j,L,I,R,H=function(t,e){t&&N.hasOwnProperty(t.type)?N[t.type](t,e):A(t,e)},q=n(),F=n(),$={point:E,lineStart:E,lineEnd:E,polygonStart:function(){q.reset(),$.lineStart=B,$.lineEnd=W},polygonEnd:function(){var t=+q;F.add(t<0?c+t:t),this.lineStart=this.lineEnd=this.point=E},sphere:function(){F.add(c)}};function B(){$.point=U}function W(){Y(z,j)}function U(t,e){$.point=Y,z=t,j=e,L=t*=f,I=v(e=(e*=f)/2+l),R=x(e)}function Y(t,e){e=(e*=f)/2+l;var n=(t*=f)-L,i=n>=0?1:-1,r=i*n,o=v(e),s=x(e),a=R*s,u=I*o+a*v(r),c=a*i*x(r);q.add(g(c,u)),L=t,I=o,R=s}var X,V,G,K,Q,J,Z,tt;function et(t){return[g(t[1],t[0]),C(t[2])]}function nt(t){var e=t[0],n=t[1],i=v(n);return[i*v(e),i*x(e),x(n)]}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function rt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ot(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function st(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function at(t){var e=k(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ut,lt,ct=n(),ht={point:ft,lineStart:dt,lineEnd:gt,polygonStart:function(){ht.point=vt,ht.lineStart=yt,ht.lineEnd=mt,ct.reset(),$.polygonStart()},polygonEnd:function(){$.polygonEnd(),ht.point=ft,ht.lineStart=dt,ht.lineEnd=gt,q<0?(X=-(G=180),V=-(K=90)):ct>s?K=90:ct<-s&&(V=-90),lt[0]=X,lt[1]=G}};function ft(t,e){ut.push(lt=[X=t,G=t]),e<V&&(V=e),e>K&&(K=e)}function pt(t,e){var n=nt([t*f,e*f]);if(tt){var i=rt(tt,n),r=rt([i[1],-i[0],0],i);at(r),r=et(r);var o,s=t-Q,a=s>0?1:-1,u=r[0]*h*a,l=p(s)>180;l^(a*Q<u&&u<a*t)?(o=r[1]*h)>K&&(K=o):l^(a*Q<(u=(u+360)%360-180)&&u<a*t)?(o=-r[1]*h)<V&&(V=o):(e<V&&(V=e),e>K&&(K=e)),l?t<Q?_t(X,t)>_t(X,G)&&(G=t):_t(t,G)>_t(X,G)&&(X=t):G>=X?(t<X&&(X=t),t>G&&(G=t)):t>Q?_t(X,t)>_t(X,G)&&(G=t):_t(t,G)>_t(X,G)&&(X=t)}else ut.push(lt=[X=t,G=t]);e<V&&(V=e),e>K&&(K=e),tt=n,Q=t}function dt(){ht.point=pt}function gt(){lt[0]=X,lt[1]=G,ht.point=ft,tt=null}function vt(t,e){if(tt){var n=t-Q;ct.add(p(n)>180?n+(n>0?360:-360):n)}else J=t,Z=e;$.point(t,e),pt(t,e)}function yt(){$.lineStart()}function mt(){vt(J,Z),$.lineEnd(),p(ct)>s&&(X=-(G=180)),lt[0]=X,lt[1]=G,tt=null}function _t(t,e){return(e-=t)<0?e+360:e}function bt(t,e){return t[0]-e[0]}function xt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var wt,kt,Mt,Tt,Ct,St,Et,At,Nt,Pt,Ot,Dt,zt,jt,Lt,It,Rt={sphere:E,point:Ht,lineStart:Ft,lineEnd:Wt,polygonStart:function(){Rt.lineStart=Ut,Rt.lineEnd=Yt},polygonEnd:function(){Rt.lineStart=Ft,Rt.lineEnd=Wt}};function Ht(t,e){t*=f;var n=v(e*=f);qt(n*v(t),n*x(t),x(e))}function qt(t,e,n){Mt+=(t-Mt)/++wt,Tt+=(e-Tt)/wt,Ct+=(n-Ct)/wt}function Ft(){Rt.point=$t}function $t(t,e){t*=f;var n=v(e*=f);jt=n*v(t),Lt=n*x(t),It=x(e),Rt.point=Bt,qt(jt,Lt,It)}function Bt(t,e){t*=f;var n=v(e*=f),i=n*v(t),r=n*x(t),o=x(e),s=g(k((s=Lt*o-It*r)*s+(s=It*i-jt*o)*s+(s=jt*r-Lt*i)*s),jt*i+Lt*r+It*o);kt+=s,St+=s*(jt+(jt=i)),Et+=s*(Lt+(Lt=r)),At+=s*(It+(It=o)),qt(jt,Lt,It)}function Wt(){Rt.point=Ht}function Ut(){Rt.point=Xt}function Yt(){Vt(Dt,zt),Rt.point=Ht}function Xt(t,e){Dt=t,zt=e,t*=f,e*=f,Rt.point=Vt;var n=v(e);jt=n*v(t),Lt=n*x(t),It=x(e),qt(jt,Lt,It)}function Vt(t,e){t*=f;var n=v(e*=f),i=n*v(t),r=n*x(t),o=x(e),s=Lt*o-It*r,a=It*i-jt*o,u=jt*r-Lt*i,l=k(s*s+a*a+u*u),c=C(l),h=l&&-c/l;Nt+=h*s,Pt+=h*a,Ot+=h*u,kt+=c,St+=c*(jt+(jt=i)),Et+=c*(Lt+(Lt=r)),At+=c*(It+(It=o)),qt(jt,Lt,It)}var Gt=function(t){return function(){return t}},Kt=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function Qt(t,e){return[t>a?t-c:t<-a?t+c:t,e]}function Jt(t,e,n){return(t%=c)?e||n?Kt(te(t),ee(e,n)):te(t):e||n?ee(e,n):Qt}function Zt(t){return function(e,n){return[(e+=t)>a?e-c:e<-a?e+c:e,n]}}function te(t){var e=Zt(t);return e.invert=Zt(-t),e}function ee(t,e){var n=v(t),i=x(t),r=v(e),o=x(e);function s(t,e){var s=v(e),a=v(t)*s,u=x(t)*s,l=x(e),c=l*n+a*i;return[g(u*r-c*o,a*n-l*i),C(c*r+u*o)]}return s.invert=function(t,e){var s=v(e),a=v(t)*s,u=x(t)*s,l=x(e),c=l*r-u*o;return[g(u*r+l*o,a*n+c*i),C(c*n-a*i)]},s}Qt.invert=Qt;var ne=function(t){function e(e){return(e=t(e[0]*f,e[1]*f))[0]*=h,e[1]*=h,e}return t=Jt(t[0]*f,t[1]*f,t.length>2?t[2]*f:0),e.invert=function(e){return(e=t.invert(e[0]*f,e[1]*f))[0]*=h,e[1]*=h,e},e};function ie(t,e,n,i,r,o){if(n){var s=v(e),a=x(e),u=i*n;null==r?(r=e+i*c,o=e-u/2):(r=re(s,r),o=re(s,o),(i>0?r<o:r>o)&&(r+=i*c));for(var l,h=r;i>0?h>o:h<o;h-=u)l=et([s,-a*v(h),-a*x(h)]),t.point(l[0],l[1])}}function re(t,e){(e=nt(e))[0]-=t,at(e);var n=T(-e[1]);return((-e[2]<0?-n:n)+c-s)%c}var oe=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:E,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},se=function(t,e){return p(t[0]-e[0])<s&&p(t[1]-e[1])<s};function ae(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var ue=function(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(se(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new ae(i,t,null,!0)),u.push(n.o=new ae(i,null,n,!1)),a.push(n=new ae(s,t,null,!1)),u.push(n.o=new ae(s,null,n,!0))}}),a.length){for(u.sort(e),le(a),le(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)r.point((c=l[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}};function le(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var ce=n(),he=function(t,e){var n=e[0],i=e[1],r=[x(n),-v(n),0],o=0,u=0;ce.reset();for(var h=0,f=t.length;h<f;++h)if(d=(p=t[h]).length)for(var p,d,y=p[d-1],m=y[0],_=y[1]/2+l,b=x(_),w=v(_),k=0;k<d;++k,m=T,b=E,w=A,y=M){var M=p[k],T=M[0],S=M[1]/2+l,E=x(S),A=v(S),N=T-m,P=N>=0?1:-1,O=P*N,D=O>a,z=b*E;if(ce.add(g(z*P*x(O),w*A+z*v(O))),o+=D?N+P*c:N,D^m>=n^T>=n){var j=rt(nt(y),nt(M));at(j);var L=rt(r,j);at(L);var I=(D^N>=0?-1:1)*C(L[2]);(i>I||i===I&&(j[0]||j[1]))&&(u+=D^N>=0?1:-1)}}return(o<-s||o<s&&ce<-s)^1&u},fe=function(t,n,i,r){return function(o){var s,a,u,l=n(o),c=oe(),h=n(c),f=!1,p={point:d,lineStart:v,lineEnd:y,polygonStart:function(){p.point=m,p.lineStart=_,p.lineEnd=b,a=[],s=[]},polygonEnd:function(){p.point=d,p.lineStart=v,p.lineEnd=y,a=e.merge(a);var t=he(s,r);a.length?(f||(o.polygonStart(),f=!0),ue(a,de,t,i,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(e,n){t(e,n)&&o.point(e,n)}function g(t,e){l.point(t,e)}function v(){p.point=g,l.lineStart()}function y(){p.point=d,l.lineEnd()}function m(t,e){u.push([t,e]),h.point(t,e)}function _(){h.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),h.lineEnd();var t,e,n,i,r=h.clean(),l=c.result(),p=l.length;if(u.pop(),s.push(u),u=null,p)if(1&r){if((e=(n=l[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else p>1&&2&r&&l.push(l.pop().concat(l.shift())),a.push(l.filter(pe))}return p}};function pe(t){return t.length>1}function de(t,e){return((t=t.x)[0]<0?t[1]-u-s:u-t[1])-((e=e.x)[0]<0?e[1]-u-s:u-e[1])}var ge=fe(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,l){var c=o>0?a:-a,h=p(o-n);p(h-a)<s?(t.point(n,i=(i+l)/2>0?u:-u),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(c,i),t.point(o,i),e=0):r!==c&&h>=a&&(p(n-r)<s&&(n-=r*s),p(o-c)<s&&(o-=c*s),i=function(t,e,n,i){var r,o,a=x(t-n);return p(a)>s?d((x(e)*(o=v(i))*x(n)-x(i)*(r=v(e))*x(t))/(r*o*a)):(e+i)/2}(n,i,o,l),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(c,i),e=0),t.point(n=o,i=l),r=c},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*u,i.point(-a,r),i.point(0,r),i.point(a,r),i.point(a,0),i.point(a,-r),i.point(0,-r),i.point(-a,-r),i.point(-a,0),i.point(-a,r);else if(p(t[0]-e[0])>s){var o=t[0]<e[0]?a:-a;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-a,-u]);var ve=function(t){var e=v(t),n=6*f,i=e>0,r=p(e)>s;function o(t,n){return v(t)*v(n)>e}function u(t,n,i){var r=[1,0,0],o=rt(nt(t),nt(n)),u=it(o,o),l=o[0],c=u-l*l;if(!c)return!i&&t;var h=e*u/c,f=-e*l/c,d=rt(r,o),g=st(r,h);ot(g,st(o,f));var v=d,y=it(g,v),m=it(v,v),_=y*y-m*(it(g,g)-1);if(!(_<0)){var b=k(_),x=st(v,(-y-b)/m);if(ot(x,g),x=et(x),!i)return x;var w,M=t[0],T=n[0],C=t[1],S=n[1];T<M&&(w=M,M=T,T=w);var E=T-M,A=p(E-a)<s;if(!A&&S<C&&(w=C,C=S,S=w),A||E<s?A?C+S>0^x[1]<(p(x[0]-M)<s?C:S):C<=x[1]&&x[1]<=S:E>a^(M<=x[0]&&x[0]<=T)){var N=st(v,(-y+b)/m);return ot(N,g),[x,et(N)]}}}function l(e,n){var r=i?t:a-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return fe(o,function(t){var e,n,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(p,d){var g,v=[p,d],y=o(p,d),m=i?y?0:l(p,d):y?l(p+(p<0?a:-a),d):0;if(!e&&(h=c=y)&&t.lineStart(),y!==c&&(!(g=u(e,v))||se(e,g)||se(v,g))&&(v[0]+=s,v[1]+=s,y=o(v[0],v[1])),y!==c)f=0,y?(t.lineStart(),g=u(v,e),t.point(g[0],g[1])):(g=u(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(r&&e&&i^y){var _;m&n||!(_=u(v,e,!0))||(f=0,i?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!y||e&&se(e,v)||t.point(v[0],v[1]),e=v,c=y,n=m},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return f|(h&&c)<<1}}},function(e,i,r,o){ie(o,t,n,r,e,i)},i?[0,-t]:[-a,t-a])},ye=function(t,e,n,i,r,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=i-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}},me=1e9,_e=-me;function be(t,n,i,r){function o(e,o){return t<=e&&e<=i&&n<=o&&o<=r}function a(e,o,s,a){var l=0,h=0;if(null==e||(l=u(e,s))!==(h=u(o,s))||c(e,o)<0^s>0)do{a.point(0===l||3===l?t:i,l>1?r:n)}while((l=(l+s+4)%4)!==h);else a.point(o[0],o[1])}function u(e,r){return p(e[0]-t)<s?r>0?0:3:p(e[0]-i)<s?r>0?2:1:p(e[1]-n)<s?r>0?1:0:r>0?3:2}function l(t,e){return c(t.x,e.x)}function c(t,e){var n=u(t,1),i=u(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var u,c,h,f,p,d,g,v,y,m,_,b=s,x=oe(),w={point:k,lineStart:function(){w.point=M,c&&c.push(h=[]);m=!0,y=!1,g=v=NaN},lineEnd:function(){u&&(M(f,p),d&&y&&x.rejoin(),u.push(x.result()));w.point=k,y&&b.lineEnd()},polygonStart:function(){b=x,u=[],c=[],_=!0},polygonEnd:function(){var n=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,s,a=c[n],u=1,l=a.length,h=a[0],f=h[0],p=h[1];u<l;++u)o=f,s=p,h=a[u],f=h[0],p=h[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),i=_&&n,o=(u=e.merge(u)).length;(i||o)&&(s.polygonStart(),i&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),o&&ue(u,l,n,a,s),s.polygonEnd());b=s,u=c=h=null}};function k(t,e){o(t,e)&&b.point(t,e)}function M(e,s){var a=o(e,s);if(c&&h.push([e,s]),m)f=e,p=s,d=a,m=!1,a&&(b.lineStart(),b.point(e,s));else if(a&&y)b.point(e,s);else{var u=[g=Math.max(_e,Math.min(me,g)),v=Math.max(_e,Math.min(me,v))],l=[e=Math.max(_e,Math.min(me,e)),s=Math.max(_e,Math.min(me,s))];ye(u,l,t,n,i,r)?(y||(b.lineStart(),b.point(u[0],u[1])),b.point(l[0],l[1]),a||b.lineEnd(),_=!1):a&&(b.lineStart(),b.point(e,s),_=!1)}g=e,v=s,y=a}return w}}var xe,we,ke,Me=n(),Te={sphere:E,point:E,lineStart:function(){Te.point=Se,Te.lineEnd=Ce},lineEnd:E,polygonStart:E,polygonEnd:E};function Ce(){Te.point=Te.lineEnd=E}function Se(t,e){xe=t*=f,we=x(e*=f),ke=v(e),Te.point=Ee}function Ee(t,e){t*=f;var n=x(e*=f),i=v(e),r=p(t-xe),o=v(r),s=i*x(r),a=ke*n-we*i*o,u=we*n+ke*i*o;Me.add(g(k(s*s+a*a),u)),xe=t,we=n,ke=i}var Ae=function(t){return Me.reset(),H(t,Te),+Me},Ne=[null,null],Pe={type:"LineString",coordinates:Ne},Oe=function(t,e){return Ne[0]=t,Ne[1]=e,Ae(Pe)},De={Feature:function(t,e){return je(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(je(n[i].geometry,e))return!0;return!1}},ze={Sphere:function(){return!0},Point:function(t,e){return Le(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Le(n[i],e))return!0;return!1},LineString:function(t,e){return Ie(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Ie(n[i],e))return!0;return!1},Polygon:function(t,e){return Re(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Re(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(je(n[i],e))return!0;return!1}};function je(t,e){return!(!t||!ze.hasOwnProperty(t.type))&&ze[t.type](t,e)}function Le(t,e){return 0===Oe(t,e)}function Ie(t,e){var n=Oe(t[0],t[1]);return Oe(t[0],e)+Oe(e,t[1])<=n+s}function Re(t,e){return!!he(t.map(He),qe(e))}function He(t){return(t=t.map(qe)).pop(),t}function qe(t){return[t[0]*f,t[1]*f]}function Fe(t,n,i){var r=e.range(t,n-s,i).concat(n);return function(t){return r.map(function(e){return[t,e]})}}function $e(t,n,i){var r=e.range(t,n-s,i).concat(n);return function(t){return r.map(function(e){return[e,t]})}}function Be(){var t,n,i,r,o,a,u,l,c,h,f,d,g=10,v=g,m=90,_=360,b=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return e.range(y(r/m)*m,i,m).map(f).concat(e.range(y(l/_)*_,u,_).map(d)).concat(e.range(y(n/g)*g,t,g).filter(function(t){return p(t%m)>s}).map(c)).concat(e.range(y(a/v)*v,o,v).filter(function(t){return p(t%_)>s}).map(h))}return x.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},x.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(u).slice(1),f(i).reverse().slice(1),d(l).reverse().slice(1))]}},x.extent=function(t){return arguments.length?x.extentMajor(t).extentMinor(t):x.extentMinor()},x.extentMajor=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],r>i&&(t=r,r=i,i=t),l>u&&(t=l,l=u,u=t),x.precision(b)):[[r,l],[i,u]]},x.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),x.precision(b)):[[n,a],[t,o]]},x.step=function(t){return arguments.length?x.stepMajor(t).stepMinor(t):x.stepMinor()},x.stepMajor=function(t){return arguments.length?(m=+t[0],_=+t[1],x):[m,_]},x.stepMinor=function(t){return arguments.length?(g=+t[0],v=+t[1],x):[g,v]},x.precision=function(e){return arguments.length?(b=+e,c=Fe(a,o,90),h=$e(n,t,b),f=Fe(l,u,90),d=$e(r,i,b),x):b},x.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}var We,Ue,Ye,Xe,Ve=function(t){return t},Ge=n(),Ke=n(),Qe={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Qe.lineStart=Je,Qe.lineEnd=en},polygonEnd:function(){Qe.lineStart=Qe.lineEnd=Qe.point=E,Ge.add(p(Ke)),Ke.reset()},result:function(){var t=Ge/2;return Ge.reset(),t}};function Je(){Qe.point=Ze}function Ze(t,e){Qe.point=tn,We=Ye=t,Ue=Xe=e}function tn(t,e){Ke.add(Xe*t-Ye*e),Ye=t,Xe=e}function en(){tn(We,Ue)}var nn=1/0,rn=nn,on=-nn,sn=on,an={point:function(t,e){t<nn&&(nn=t);t>on&&(on=t);e<rn&&(rn=e);e>sn&&(sn=e)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E,result:function(){var t=[[nn,rn],[on,sn]];return on=sn=-(rn=nn=1/0),t}};var un,ln,cn,hn,fn=0,pn=0,dn=0,gn=0,vn=0,yn=0,mn=0,_n=0,bn=0,xn={point:wn,lineStart:kn,lineEnd:Cn,polygonStart:function(){xn.lineStart=Sn,xn.lineEnd=En},polygonEnd:function(){xn.point=wn,xn.lineStart=kn,xn.lineEnd=Cn},result:function(){var t=bn?[mn/bn,_n/bn]:yn?[gn/yn,vn/yn]:dn?[fn/dn,pn/dn]:[NaN,NaN];return fn=pn=dn=gn=vn=yn=mn=_n=bn=0,t}};function wn(t,e){fn+=t,pn+=e,++dn}function kn(){xn.point=Mn}function Mn(t,e){xn.point=Tn,wn(cn=t,hn=e)}function Tn(t,e){var n=t-cn,i=e-hn,r=k(n*n+i*i);gn+=r*(cn+t)/2,vn+=r*(hn+e)/2,yn+=r,wn(cn=t,hn=e)}function Cn(){xn.point=wn}function Sn(){xn.point=An}function En(){Nn(un,ln)}function An(t,e){xn.point=Nn,wn(un=cn=t,ln=hn=e)}function Nn(t,e){var n=t-cn,i=e-hn,r=k(n*n+i*i);gn+=r*(cn+t)/2,vn+=r*(hn+e)/2,yn+=r,mn+=(r=hn*t-cn*e)*(cn+t),_n+=r*(hn+e),bn+=3*r,wn(cn=t,hn=e)}function Pn(t){this._context=t}Pn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,c)}},result:E};var On,Dn,zn,jn,Ln,In=n(),Rn={point:E,lineStart:function(){Rn.point=Hn},lineEnd:function(){On&&qn(Dn,zn),Rn.point=E},polygonStart:function(){On=!0},polygonEnd:function(){On=null},result:function(){var t=+In;return In.reset(),t}};function Hn(t,e){Rn.point=qn,Dn=jn=t,zn=Ln=e}function qn(t,e){jn-=t,Ln-=e,In.add(k(jn*jn+Ln*Ln)),jn=t,Ln=e}function Fn(){this._string=[]}function $n(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Fn.prototype={_radius:4.5,_circle:$n(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=$n(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Bn(t){return function(e){var n=new Wn;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Wn(){}function Un(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),H(n,t.stream(an)),e(an.result()),null!=i&&t.clipExtent(i),t}function Yn(t,e,n){return Un(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function Xn(t,e,n){return Yn(t,[[0,0],e],n)}function Vn(t,e,n){return Un(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])},n)}function Gn(t,e,n){return Un(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])},n)}Wn.prototype={constructor:Wn,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Kn=16,Qn=v(30*f),Jn=function(t,e){return+e?function(t,e){function n(i,r,o,a,u,l,c,h,f,d,v,y,m,_){var b=c-i,x=h-r,w=b*b+x*x;if(w>4*e&&m--){var M=a+d,T=u+v,S=l+y,E=k(M*M+T*T+S*S),A=C(S/=E),N=p(p(S)-1)<s||p(o-f)<s?(o+f)/2:g(T,M),P=t(N,A),O=P[0],D=P[1],z=O-i,j=D-r,L=x*z-b*j;(L*L/w>e||p((b*z+x*j)/w-.5)>.3||a*d+u*v+l*y<Qn)&&(n(i,r,o,a,u,l,O,D,N,M/=E,T/=E,S,m,_),_.point(O,D),n(O,D,N,M,T,S,c,h,f,d,v,y,m,_))}}return function(e){var i,r,o,s,a,u,l,c,h,f,p,d,g={point:v,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){c=NaN,g.point=m,e.lineStart()}function m(i,r){var o=nt([i,r]),s=t(i,r);n(c,h,l,f,p,d,c=s[0],h=s[1],l=i,f=o[0],p=o[1],d=o[2],Kn,e),e.point(c,h)}function _(){g.point=v,e.lineEnd()}function b(){y(),g.point=x,g.lineEnd=w}function x(t,e){m(i=t,e),r=c,o=h,s=f,a=p,u=d,g.point=m}function w(){n(c,h,l,f,p,d,r,o,i,s,a,u,Kn,e),g.lineEnd=_,_()}return g}}(t,e):function(t){return Bn({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var Zn=Bn({point:function(t,e){this.stream.point(t*f,e*f)}});function ti(t){return ei(function(){return t})()}function ei(t){var e,n,i,r,o,s,a,u,l,c,p=150,d=480,g=250,v=0,y=0,m=0,_=0,b=0,x=null,w=ge,M=null,T=Ve,C=.5,S=Jn(N,C);function E(t){return[(t=o(t[0]*f,t[1]*f))[0]*p+n,i-t[1]*p]}function A(t){return(t=o.invert((t[0]-n)/p,(i-t[1])/p))&&[t[0]*h,t[1]*h]}function N(t,r){return[(t=e(t,r))[0]*p+n,i-t[1]*p]}function P(){o=Kt(r=Jt(m,_,b),e);var t=e(v,y);return n=d-t[0]*p,i=g+t[1]*p,O()}function O(){return l=c=null,E}return E.stream=function(t){return l&&c===t?l:l=Zn(function(t){return Bn({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(r)(w(S(T(c=t)))))},E.preclip=function(t){return arguments.length?(w=t,x=void 0,O()):w},E.postclip=function(t){return arguments.length?(T=t,M=s=a=u=null,O()):T},E.clipAngle=function(t){return arguments.length?(w=+t?ve(x=t*f):(x=null,ge),O()):x*h},E.clipExtent=function(t){return arguments.length?(T=null==t?(M=s=a=u=null,Ve):be(M=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),O()):null==M?null:[[M,s],[a,u]]},E.scale=function(t){return arguments.length?(p=+t,P()):p},E.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],P()):[d,g]},E.center=function(t){return arguments.length?(v=t[0]%360*f,y=t[1]%360*f,P()):[v*h,y*h]},E.rotate=function(t){return arguments.length?(m=t[0]%360*f,_=t[1]%360*f,b=t.length>2?t[2]%360*f:0,P()):[m*h,_*h,b*h]},E.precision=function(t){return arguments.length?(S=Jn(N,C=t*t),O()):k(C)},E.fitExtent=function(t,e){return Yn(E,t,e)},E.fitSize=function(t,e){return Xn(E,t,e)},E.fitWidth=function(t,e){return Vn(E,t,e)},E.fitHeight=function(t,e){return Gn(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&A,P()}}function ni(t){var e=0,n=a/3,i=ei(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*f,n=t[1]*f):[e*h,n*h]},r}function ii(t,e){var n=x(t),i=(n+x(e))/2;if(p(i)<s)return function(t){var e=v(t);function n(t,n){return[t*e,x(n)/e]}return n.invert=function(t,n){return[t/e,C(n*e)]},n}(t);var r=1+n*(2*i-n),o=k(r)/i;function a(t,e){var n=k(r-2*i*x(e))/i;return[n*x(t*=i),o-n*v(t)]}return a.invert=function(t,e){var n=o-e;return[g(t,p(n))/i*w(n),C((r-(t*t+n*n)*i*i)/(2*i))]},a}var ri=function(){return ni(ii).scale(155.424).center([0,33.6442])},oi=function(){return ri().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function si(t){return function(e,n){var i=v(e),r=v(n),o=t(i*r);return[o*r*x(e),o*x(n)]}}function ai(t){return function(e,n){var i=k(e*e+n*n),r=t(i),o=x(r),s=v(r);return[g(e*o,i*s),C(i&&n*o/i)]}}var ui=si(function(t){return k(2/(1+t))});ui.invert=ai(function(t){return 2*C(t/2)});var li=si(function(t){return(t=T(t))&&t/x(t)});li.invert=ai(function(t){return t});function ci(t,e){return[t,_(M((u+e)/2))]}ci.invert=function(t,e){return[t,2*d(m(e))-u]};function hi(t){var e,n,i,r=ti(t),o=r.center,s=r.scale,u=r.translate,l=r.clipExtent,c=null;function h(){var o=a*s(),u=r(ne(r.rotate()).invert([0,0]));return l(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===ci?[[Math.max(u[0]-o,c),e],[Math.min(u[0]+o,n),i]]:[[c,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,i)]])}return r.scale=function(t){return arguments.length?(s(t),h()):s()},r.translate=function(t){return arguments.length?(u(t),h()):u()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),h()):null==c?null:[[c,e],[n,i]]},h()}function fi(t){return M((u+t)/2)}function pi(t,e){var n=v(t),i=t===e?x(t):_(n/v(e))/_(fi(e)/fi(t)),r=n*b(fi(t),i)/i;if(!i)return ci;function o(t,e){r>0?e<-u+s&&(e=-u+s):e>u-s&&(e=u-s);var n=r/b(fi(e),i);return[n*x(i*t),r-n*v(i*t)]}return o.invert=function(t,e){var n=r-e,o=w(i)*k(t*t+n*n);return[g(t,p(n))/i*w(n),2*d(b(r/o,1/i))-u]},o}function di(t,e){return[t,e]}di.invert=di;function gi(t,e){var n=v(t),i=t===e?x(t):(n-v(e))/(e-t),r=n/i+t;if(p(i)<s)return di;function o(t,e){var n=r-e,o=i*t;return[n*x(o),r-n*v(o)]}return o.invert=function(t,e){var n=r-e;return[g(t,p(n))/i*w(n),r-w(i)*k(t*t+n*n)]},o}function vi(t,e){var n=v(e),i=v(t)*n;return[n*x(t)/i,x(e)/i]}vi.invert=ai(d);function yi(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Ve:Bn({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}function mi(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}mi.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(p(n)>s&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};function _i(t,e){return[v(e)*x(t),x(e)]}_i.invert=ai(C);function bi(t,e){var n=v(e),i=1+v(t)*n;return[n*x(t)/i,x(e)/i]}bi.invert=ai(function(t){return 2*d(t)});function xi(t,e){return[_(M((u+e)/2)),-t]}xi.invert=function(t,e){return[-e,2*d(m(t))-u]};t.geoArea=function(t){return F.reset(),H(t,$),2*F},t.geoBounds=function(t){var e,n,i,r,o,s,a;if(K=G=-(X=V=1/0),ut=[],H(t,ht),n=ut.length){for(ut.sort(bt),e=1,o=[i=ut[0]];e<n;++e)xt(i,(r=ut[e])[0])||xt(i,r[1])?(_t(i[0],r[1])>_t(i[0],i[1])&&(i[1]=r[1]),_t(r[0],i[1])>_t(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(a=_t(i[1],r[0]))>s&&(s=a,X=r[0],G=i[1])}return ut=lt=null,X===1/0||V===1/0?[[NaN,NaN],[NaN,NaN]]:[[X,V],[G,K]]},t.geoCentroid=function(t){wt=kt=Mt=Tt=Ct=St=Et=At=Nt=Pt=Ot=0,H(t,Rt);var e=Nt,n=Pt,i=Ot,r=e*e+n*n+i*i;return r<1e-12&&(e=St,n=Et,i=At,kt<s&&(e=Mt,n=Tt,i=Ct),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[g(n,e)*h,C(i/k(r))*h]},t.geoCircle=function(){var t,e,n=Gt([0,0]),i=Gt(90),r=Gt(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=h,n[1]*=h}};function s(){var s=n.apply(this,arguments),a=i.apply(this,arguments)*f,u=r.apply(this,arguments)*f;return t=[],e=Jt(-s[0]*f,-s[1]*f,0).invert,ie(o,a,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:Gt([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"==typeof t?t:Gt(+t),s):i},s.precision=function(t){return arguments.length?(r="function"==typeof t?t:Gt(+t),s):r},s},t.geoClipAntimeridian=ge,t.geoClipCircle=ve,t.geoClipExtent=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=be(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},t.geoClipRectangle=be,t.geoContains=function(t,e){return(t&&De.hasOwnProperty(t.type)?De[t.type]:je)(t,e)},t.geoDistance=Oe,t.geoGraticule=Be,t.geoGraticule10=function(){return Be()()},t.geoInterpolate=function(t,e){var n=t[0]*f,i=t[1]*f,r=e[0]*f,o=e[1]*f,s=v(i),a=x(i),u=v(o),l=x(o),c=s*v(n),p=s*x(n),d=u*v(r),y=u*x(r),m=2*C(k(S(o-i)+s*u*S(r-n))),_=x(m),b=m?function(t){var e=x(t*=m)/_,n=x(m-t)/_,i=n*c+e*d,r=n*p+e*y,o=n*a+e*l;return[g(r,i)*h,g(o,k(i*i+r*r))*h]}:function(){return[n*h,i*h]};return b.distance=m,b},t.geoLength=Ae,t.geoPath=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),H(t,n(i))),i.result()}return o.area=function(t){return H(t,n(Qe)),Qe.result()},o.measure=function(t){return H(t,n(Rn)),Rn.result()},o.bounds=function(t){return H(t,n(an)),an.result()},o.centroid=function(t){return H(t,n(xn)),xn.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Ve):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Fn):new Pn(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},t.geoAlbers=oi,t.geoAlbersUsa=function(){var t,e,n,i,r,o,a=oi(),u=ri().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ri().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function f(){return t=e=null,h}return h.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:a).invert(t)},h.stream=function(n){return t&&e===n?t:(i=[a.stream(e=n),u.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},h.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),f()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),l.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],h=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),i=u.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+s,h+.12*e+s],[o-.214*e-s,h+.234*e-s]]).stream(c),r=l.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+s,h+.166*e+s],[o-.115*e-s,h+.234*e-s]]).stream(c),f()},h.fitExtent=function(t,e){return Yn(h,t,e)},h.fitSize=function(t,e){return Xn(h,t,e)},h.fitWidth=function(t,e){return Vn(h,t,e)},h.fitHeight=function(t,e){return Gn(h,t,e)},h.scale(1070)},t.geoAzimuthalEqualArea=function(){return ti(ui).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=ui,t.geoAzimuthalEquidistant=function(){return ti(li).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=li,t.geoConicConformal=function(){return ni(pi).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=pi,t.geoConicEqualArea=ri,t.geoConicEqualAreaRaw=ii,t.geoConicEquidistant=function(){return ni(gi).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=gi,t.geoEquirectangular=function(){return ti(di).scale(152.63)},t.geoEquirectangularRaw=di,t.geoGnomonic=function(){return ti(vi).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=vi,t.geoIdentity=function(){var t,e,n,i,r,o,s=1,a=0,u=0,l=1,c=1,h=Ve,f=null,p=Ve;function d(){return i=r=null,o}return o={stream:function(t){return i&&r===t?i:i=h(p(r=t))},postclip:function(i){return arguments.length?(p=i,f=t=e=n=null,d()):p},clipExtent:function(i){return arguments.length?(p=null==i?(f=t=e=n=null,Ve):be(f=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=yi((s=+t)*l,s*c,a,u),d()):s},translate:function(t){return arguments.length?(h=yi(s*l,s*c,a=+t[0],u=+t[1]),d()):[a,u]},reflectX:function(t){return arguments.length?(h=yi(s*(l=t?-1:1),s*c,a,u),d()):l<0},reflectY:function(t){return arguments.length?(h=yi(s*l,s*(c=t?-1:1),a,u),d()):c<0},fitExtent:function(t,e){return Yn(o,t,e)},fitSize:function(t,e){return Xn(o,t,e)},fitWidth:function(t,e){return Vn(o,t,e)},fitHeight:function(t,e){return Gn(o,t,e)}}},t.geoProjection=ti,t.geoProjectionMutator=ei,t.geoMercator=function(){return hi(ci).scale(961/c)},t.geoMercatorRaw=ci,t.geoNaturalEarth1=function(){return ti(mi).scale(175.295)},t.geoNaturalEarth1Raw=mi,t.geoOrthographic=function(){return ti(_i).scale(249.5).clipAngle(90+s)},t.geoOrthographicRaw=_i,t.geoStereographic=function(){return ti(bi).scale(250).clipAngle(142)},t.geoStereographicRaw=bi,t.geoTransverseMercator=function(){var t=hi(xi),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=xi,t.geoRotation=ne,t.geoStream=H,t.geoTransform=function(t){return{stream:Bn(t)}},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(6))},function(t,e,n){(function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t,e){return t+e.x}function i(t,e){return Math.max(t,e.y)}function r(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function o(t,e){var n,i,r,o,a,c=new l(t),h=+t.value&&(c.value=t.value),f=[c];for(null==e&&(e=s);n=f.pop();)if(h&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)f.push(i=n.children[o]=new l(r[o])),i.parent=n,i.depth=n.depth+1;return c.eachBefore(u)}function s(t){return t.children}function a(t){t.data=t.data.data}function u(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function l(t){this.data=t,this.depth=this.height=0,this.parent=null}l.prototype=o.prototype={constructor:l,count:function(){return this.eachAfter(r)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return o(this).eachBefore(a)}};var c=Array.prototype.slice;var h=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(c.call(t))).length,o=[];i<r;)e=t[i],n&&d(n,e)?++i:(n=v(o=f(o,e)),i=0);return n};function f(t,e){var n,i;if(g(e,t))return[e];for(n=0;n<t.length;++n)if(p(e,t[n])&&g(y(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(p(y(t[n],t[i]),e)&&p(y(t[n],e),t[i])&&p(y(t[i],e),t[n])&&g(m(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function p(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function d(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function g(t,e){for(var n=0;n<e.length;++n)if(!d(t,e[n]))return!1;return!0}function v(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return y(t[0],t[1]);case 3:return m(t[0],t[1],t[2])}var e}function y(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,u=o-n,l=s-i,c=a-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+s+l/h*c)/2,r:(h+r+a)/2}}function m(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=i-s,p=i-l,d=r-a,g=r-c,v=u-o,y=h-o,m=i*i+r*r-o*o,_=m-s*s-a*a+u*u,b=m-l*l-c*c+h*h,x=p*d-f*g,w=(d*b-g*_)/(2*x)-i,k=(g*v-d*y)/x,M=(p*_-f*b)/(2*x)-r,T=(f*y-p*v)/x,C=k*k+T*T-1,S=2*(o+w*k+M*T),E=w*w+M*M-o*o,A=-(C?(S+Math.sqrt(S*S-4*C*E))/(2*C):E/S);return{x:i+w+k*A,y:r+M+T*A,r:A}}function _(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,s=t.r+n.r,a=e.x-i,u=e.y-r,l=a*a+u*u;if(l){var c=.5+((s*=s)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(s+l)-(s-=l)*s-o*o))/(2*l);n.x=i+c*a+h*u,n.y=r+c*u-h*a}else n.x=i+s,n.y=r}function b(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r-1e-6>n*n+i*i}function x(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function w(t){this._=t,this.next=null,this.previous=null}function k(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,u,l,c,f;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;_(n,e,i=t[2]),e=new w(e),n=new w(n),i=new w(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){_(e._,n._,i=t[a]),i=new w(i),u=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(b(u._,i._)){n=u,e.next=n,n.previous=e,--a;continue t}c+=u._.r,u=u.next}else{if(b(l._,i._)){(e=l).next=n,n.previous=e,--a;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=x(e);(i=i.next)!==n;)(s=x(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=h(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}function M(t){if("function"!=typeof t)throw new Error;return t}function T(){return 0}var C=function(t){return function(){return t}};function S(t){return Math.sqrt(t.value)}function E(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function A(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=k(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function N(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var P=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},O=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(i-e)/t.value;++a<u;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l},D="$",z={depth:-1},j={};function L(t){return t.id}function I(t){return t.parentId}function R(t,e){return t.parent===e.parent?1:2}function H(t){var e=t.children;return e?e[0]:t.t}function q(t){var e=t.children;return e?e[e.length-1]:t.t}function F(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function $(t,e,n){return t.a.parent===e.parent?t.a:n}function B(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}B.prototype=Object.create(l.prototype);var W=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(r-n)/t.value;++a<u;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l},U=(1+Math.sqrt(5))/2;function Y(t,e,n,i,r,o){for(var s,a,u,l,c,h,f,p,d,g,v,y=[],m=e.children,_=0,b=0,x=m.length,w=e.value;_<x;){u=r-n,l=o-i;do{c=m[b++].value}while(!c&&b<x);for(h=f=c,v=c*c*(g=Math.max(l/u,u/l)/(w*t)),d=Math.max(f/v,v/h);b<x;++b){if(c+=a=m[b].value,a<h&&(h=a),a>f&&(f=a),v=c*c*g,(p=Math.max(f/v,v/h))>d){c-=a;break}d=p}y.push(s={value:c,dice:u<l,children:m.slice(_,b)}),s.dice?O(s,n,i,r,w?i+=l*c/w:o):W(s,n,i,w?n+=u*c/w:r,o),w-=c,_=b}return y}var X=function t(e){function n(t,n,i,r,o){Y(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(U),V=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,u,l,c,h=-1,f=s.length,p=t.value;++h<f;){for(u=(a=s[h]).children,l=a.value=0,c=u.length;l<c;++l)a.value+=u[l].value;a.dice?O(a,n,i,r,i+=(o-i)*a.value/p):W(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else t._squarify=s=Y(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(U);t.cluster=function(){var t=e,r=1,o=1,s=!1;function a(e){var a,u=0;e.eachAfter(function(e){var r=e.children;r?(e.x=function(t){return t.reduce(n,0)/t.length}(r),e.y=function(t){return 1+t.reduce(i,0)}(r)):(e.x=a?u+=t(e,a):0,e.y=0,a=e)});var l=function(t){for(var e;e=t.children;)t=e[0];return t}(e),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),h=l.x-t(l,c)/2,f=c.x+t(c,l)/2;return e.eachAfter(s?function(t){t.x=(t.x-e.x)*r,t.y=(e.y-t.y)*o}:function(t){t.x=(t.x-h)/(f-h)*r,t.y=(1-(e.y?t.y/e.y:1))*o})}return a.separation=function(e){return arguments.length?(t=e,a):t},a.size=function(t){return arguments.length?(s=!1,r=+t[0],o=+t[1],a):s?null:[r,o]},a.nodeSize=function(t){return arguments.length?(s=!0,r=+t[0],o=+t[1],a):s?[r,o]:null},a},t.hierarchy=o,t.pack=function(){var t=null,e=1,n=1,i=T;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(E(t)).eachAfter(A(i,.5)).eachBefore(N(1)):r.eachBefore(E(S)).eachAfter(A(T,1)).eachAfter(A(i,r.r/Math.min(e,n))).eachBefore(N(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=null==(n=e)?null:M(n),r):t;var n},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:C(+t),r):i},r},t.packSiblings=function(t){return k(t),t},t.packEnclose=h,t.partition=function(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&O(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,s=i.x1-n,a=i.y1-n;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),i.x0=r,i.y0=o,i.x1=s,i.y1=a}}(e,o)),i&&r.eachBefore(P),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},t.stratify=function(){var t=L,e=I;function n(n){var i,r,o,s,a,c,h,f=n.length,p=new Array(f),d={};for(r=0;r<f;++r)i=n[r],a=p[r]=new l(i),null!=(c=t(i,r,n))&&(c+="")&&(d[h=D+(a.id=c)]=h in d?j:a);for(r=0;r<f;++r)if(a=p[r],null!=(c=e(n[r],r,n))&&(c+="")){if(!(s=d[D+c]))throw new Error("missing: "+c);if(s===j)throw new Error("ambiguous: "+c);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=z,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(u),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=M(e),n):t},n.parentId=function(t){return arguments.length?(e=M(t),n):e},n},t.tree=function(){var t=R,e=1,n=1,i=null;function r(r){var u=function(t){for(var e,n,i,r,o,s=new B(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new B(i[r],r)),n.parent=e;return(s.parent=new B(null,0)).children=[s],s}(r);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),i)r.eachBefore(a);else{var l=r,c=r,h=r;r.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:t(l,c)/2,p=f-l.x,d=e/(c.x+f+p),g=n/(h.depth||1);r.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*g})}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,s=e,a=n,u=o.parent.children[0],l=o.m,c=s.m,h=a.m,f=u.m;a=q(a),o=H(o),a&&o;)u=H(u),(s=q(s)).a=e,(r=a.z+h-o.z-l+t(a._,o._))>0&&(F($(a,e,i),e,r),l+=r,c+=r),h+=a.m,l+=o.m,f+=u.m,c+=s.m;a&&!q(s)&&(s.t=a,s.m+=h-c),o&&!H(u)&&(u.t=o,u.m+=l-f,i=e)}return i}(e,r,e.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},t.treemap=function(){var t=X,e=!1,n=1,i=1,r=[0],o=T,s=T,a=T,u=T,l=T;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(P),t}function h(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<i&&(i=h=(i+h)/2),f<c&&(c=f=(c+f)/2),e.x0=i,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=r[e.depth+1]=o(e)/2,i+=l(e)-n,c+=s(e)-n,h-=a(e)-n,f-=u(e)-n,h<i&&(i=h=(i+h)/2),f<c&&(c=f=(c+f)/2),t(e,i,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=M(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:C(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:C(+t),c):s},c.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:C(+t),c):a},c.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:C(+t),c):u},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:C(+t),c):l},c},t.treemapBinary=function(t,e,n,i,r){var o,s,a=t.children,u=a.length,l=new Array(u+1);for(l[0]=s=o=0;o<u;++o)l[o+1]=s+=a[o].value;!function t(e,n,i,r,o,s,u){if(e>=n-1){var c=a[e];return c.x0=r,c.y0=o,c.x1=s,void(c.y1=u)}for(var h=l[e],f=i/2+h,p=e+1,d=n-1;p<d;){var g=p+d>>>1;l[g]<f?p=g+1:d=g}f-l[p-1]<l[p]-f&&e+1<p&&--p;var v=l[p]-h,y=i-v;if(s-r>u-o){var m=(r*y+s*v)/i;t(e,p,v,r,o,m,u),t(p,n,y,m,o,s,u)}else{var _=(o*y+u*v)/i;t(e,p,v,r,o,s,_),t(p,n,y,r,_,s,u)}}(0,u,t.value,e,n,i,r)},t.treemapDice=O,t.treemapSlice=W,t.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?W:O)(t,e,n,i,r)},t.treemapSquarify=X,t.treemapResquarify=V,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function n(t,e){return t[0]-e[0]||t[1]-e[1]}function i(t){for(var n=t.length,i=[0,1],r=2,o=2;o<n;++o){for(;r>1&&e(t[i[r-2]],t[i[r-1]],t[o])<=0;)--r;i[r++]=o}return i.slice(0,r)}t.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},t.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],u=0;++i<r;)e=a,a=t[i],u+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(u*=3),s/u]},t.polygonHull=function(t){if((r=t.length)<3)return null;var e,r,o=new Array(r),s=new Array(r);for(e=0;e<r;++e)o[e]=[+t[e][0],+t[e][1],e];for(o.sort(n),e=0;e<r;++e)s[e]=[o[e][0],-o[e][1]];var a=i(o),u=i(s),l=u[0]===a[0],c=u[u.length-1]===a[a.length-1],h=[];for(e=a.length-1;e>=0;--e)h.push(t[o[a[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[o[u[e]][2]]);return h},t.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],u=o[0],l=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=l>a&&s<(u-n)*(a-i)/(l-i)+n&&(c=!c),u=n,l=i;return c},t.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],u=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],u+=Math.sqrt(e*e+n*n);return u},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e=[].slice,n={};function i(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function r(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,i=t._tasks[e],r=i.length-1,s=i[r];i[r]=o(t,e),--t._waiting,++t._active,i=s.apply(null,i),t._tasks[e]&&(t._tasks[e]=i||n)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])s(t,e);else if(!t._data)throw e}}function o(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?s(t,n):(t._data[e]=i,t._waiting?r(t):a(t))))}}function s(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,a(t)}function a(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function u(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new i(t)}i.prototype=u.prototype={constructor:i,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=e.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),r(this),this},abort:function(){return null==this._error&&s(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},a(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,a(this),this}},t.queue=u,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t){"use strict";var e=function(){return Math.random()},n=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(e),i=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(e),r=function t(e){function n(){var t=i.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(e),o=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(e),s=function t(e){function n(t){var n=o.source(e)(t);return function(){return n()/t}}return n.source=t,n}(e),a=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(e);t.randomUniform=n,t.randomNormal=i,t.randomLogNormal=r,t.randomBates=s,t.randomIrwinHall=o,t.randomExponential=a,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){"use strict";var i=n(30).XMLHttpRequest;Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(9),s=n(20),a=function(t,e){var n,s,a,u,l=o.dispatch("beforesend","progress","load","error"),c=r.map(),h=new i,f=null,p=null,d=0;function g(t){var e,i=h.status;if(!i&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(h)||i>=200&&i<300||304===i){if(a)try{e=a.call(n,h)}catch(t){return void l.call("error",n,t)}else e=h;l.call("load",n,e)}else l.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=g:h.onreadystatechange=function(t){h.readyState>3&&g(t)},h.onprogress=function(t){l.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),n)},mimeType:function(t){return arguments.length?(s=null==t?null:t+"",n):s},responseType:function(t){return arguments.length?(u=t,n):u},timeout:function(t){return arguments.length?(d=+t,n):d},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",n)},password:function(t){return arguments.length<1?p:(p=null==t?null:t+"",n)},response:function(t){return a=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,r){return h.open(e,t,!0,f,p),null==s||c.has("accept")||c.set("accept",s+",*/*"),h.setRequestHeader&&c.each(function(t,e){h.setRequestHeader(e,t)}),null!=s&&h.overrideMimeType&&h.overrideMimeType(s),null!=u&&(h.responseType=u),d>0&&(h.timeout=d),null==r&&"function"==typeof i&&(r=i,i=null),null!=r&&1===r.length&&(r=function(t){return function(e,n){t(null==e?n:null)}}(r)),null!=r&&n.on("error",r).on("load",function(t){r(null,t)}),l.call("beforesend",n,h),h.send(null==i?null:i),n},abort:function(){return h.abort(),n},on:function(){var t=l.on.apply(l,arguments);return t===l?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var u=function(t,e){return function(n,i){var r=a(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},l=u("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),c=u("application/json",function(t){return JSON.parse(t.responseText)}),h=u("text/plain",function(t){return t.responseText}),f=u("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),p=function(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=a(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,i=t)):i},o.row(i),r?o.get(r):o}};var d=p("text/csv",s.csvParse),g=p("text/tab-separated-values",s.tsvParse);e.request=a,e.html=l,e.json=c,e.text=h,e.xml=f,e.csv=d,e.tsv=g},function(t,e){t.exports={XMLHttpRequest:XMLHttpRequest}},function(t,e,n){(function(t,e,n,i,r,o,s,a){"use strict";var u=Array.prototype,l=u.map,c=u.slice,h={name:"implicit"};function f(t){var e=n.map(),i=[],r=h;function o(n){var o=n+"",s=e.get(o);if(!s){if(r!==h)return r;e.set(o,s=i.push(n))}return t[(s-1)%t.length]}return t=null==t?[]:c.call(t),o.domain=function(t){if(!arguments.length)return i.slice();i=[],e=n.map();for(var r,s,a=-1,u=t.length;++a<u;)e.has(s=(r=t[a])+"")||e.set(s,i.push(r));return o},o.range=function(e){return arguments.length?(t=c.call(e),o):t.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return f().domain(i).range(t).unknown(r)},o}function p(){var t,n,i=f().unknown(void 0),r=i.domain,o=i.range,s=[0,1],a=!1,u=0,l=0,c=.5;function h(){var i=r().length,h=s[1]<s[0],f=s[h-0],p=s[1-h];t=(p-f)/Math.max(1,i-u+2*l),a&&(t=Math.floor(t)),f+=(p-f-t*(i-u))*c,n=t*(1-u),a&&(f=Math.round(f),n=Math.round(n));var d=e.range(i).map(function(e){return f+t*e});return o(h?d.reverse():d)}return delete i.unknown,i.domain=function(t){return arguments.length?(r(t),h()):r()},i.range=function(t){return arguments.length?(s=[+t[0],+t[1]],h()):s.slice()},i.rangeRound=function(t){return s=[+t[0],+t[1]],a=!0,h()},i.bandwidth=function(){return n},i.step=function(){return t},i.round=function(t){return arguments.length?(a=!!t,h()):a},i.padding=function(t){return arguments.length?(u=l=Math.max(0,Math.min(1,t)),h()):u},i.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},i.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},i.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},i.copy=function(){return p().domain(r()).range(s).round(a).paddingInner(u).paddingOuter(l).align(c)},h()}var d=function(t){return function(){return t}},g=function(t){return+t},v=[0,1];function y(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d(e)}function m(t,e,n,i){var r=t[0],o=t[1],s=e[0],a=e[1];return o<r?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(t){return s(r(t))}}function _(t,n,i,r){var o=Math.min(t.length,n.length)-1,s=new Array(o),a=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)s[u]=i(t[u],t[u+1]),a[u]=r(n[u],n[u+1]);return function(n){var i=e.bisect(t,n,1,o)-1;return a[i](s[i](n))}}function b(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function x(t,e){var n,r,o,s=v,a=v,u=i.interpolate,h=!1;function f(){return n=Math.min(s.length,a.length)>2?_:m,r=o=null,p}function p(e){return(r||(r=n(s,a,h?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,u)))(+e)}return p.invert=function(t){return(o||(o=n(a,s,y,h?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},p.domain=function(t){return arguments.length?(s=l.call(t,g),f()):s.slice()},p.range=function(t){return arguments.length?(a=c.call(t),f()):a.slice()},p.rangeRound=function(t){return a=c.call(t),u=i.interpolateRound,f()},p.clamp=function(t){return arguments.length?(h=!!t,f()):h},p.interpolate=function(t){return arguments.length?(u=t,f()):u},f()}var w=function(t,n,i){var o,s=t[0],a=t[t.length-1],u=e.tickStep(s,a,null==n?10:n);switch((i=r.formatSpecifier(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(s),Math.abs(a));return null!=i.precision||isNaN(o=r.precisionPrefix(u,l))||(i.precision=o),r.formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=r.precisionRound(u,Math.max(Math.abs(s),Math.abs(a))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=r.precisionFixed(u))||(i.precision=o-2*("%"===i.type))}return r.format(i)};function k(t){var n=t.domain;return t.ticks=function(t){var i=n();return e.ticks(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,e){return w(n(),t,e)},t.nice=function(i){null==i&&(i=10);var r,o=n(),s=0,a=o.length-1,u=o[s],l=o[a];return l<u&&(r=u,u=l,l=r,r=s,s=a,a=r),(r=e.tickIncrement(u,l,i))>0?(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,r=e.tickIncrement(u,l,i)):r<0&&(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,r=e.tickIncrement(u,l,i)),r>0?(o[s]=Math.floor(u/r)*r,o[a]=Math.ceil(l/r)*r,n(o)):r<0&&(o[s]=Math.ceil(u*r)/r,o[a]=Math.floor(l*r)/r,n(o)),t},t}var M=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t};function T(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:d(e)}function C(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function S(t){return isFinite(t)?+("1e"+t):t<0?0:t}function E(t){return 10===t?S:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function A(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function N(t){return function(e){return-t(-e)}}function P(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function O(){var t=1,e=x(function(e,n){return(n=P(n,t)-(e=P(e,t)))?function(i){return(P(i,t)-e)/n}:d(n)},function(e,n){return n=P(n,t)-(e=P(e,t)),function(i){return P(e+n*i,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return b(e,O().exponent(t))},k(e)}var D=1e3,z=60*D,j=60*z,L=24*j,I=7*L,R=30*L,H=365*L;function q(t){return new Date(t)}function F(t){return t instanceof Date?+t:+new Date(+t)}function $(t,n,r,o,s,a,u,c,h){var f=x(y,i.interpolateNumber),p=f.invert,d=f.domain,g=h(".%L"),v=h(":%S"),m=h("%I:%M"),_=h("%I %p"),w=h("%a %d"),k=h("%b %d"),T=h("%B"),C=h("%Y"),S=[[u,1,D],[u,5,5*D],[u,15,15*D],[u,30,30*D],[a,1,z],[a,5,5*z],[a,15,15*z],[a,30,30*z],[s,1,j],[s,3,3*j],[s,6,6*j],[s,12,12*j],[o,1,L],[o,2,2*L],[r,1,I],[n,1,R],[n,3,3*R],[t,1,H]];function E(e){return(u(e)<e?g:a(e)<e?v:s(e)<e?m:o(e)<e?_:n(e)<e?r(e)<e?w:k:t(e)<e?T:C)(e)}function A(n,i,r,o){if(null==n&&(n=10),"number"==typeof n){var s=Math.abs(r-i)/n,a=e.bisector(function(t){return t[2]}).right(S,s);a===S.length?(o=e.tickStep(i/H,r/H,n),n=t):a?(o=(a=S[s/S[a-1][2]<S[a][2]/s?a-1:a])[1],n=a[0]):(o=Math.max(e.tickStep(i,r,n),1),n=c)}return null==o?n:n.every(o)}return f.invert=function(t){return new Date(p(t))},f.domain=function(t){return arguments.length?d(l.call(t,F)):d().map(q)},f.ticks=function(t,e){var n,i=d(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=A(t,r,o,e))?n.range(r,o+1):[],s?n.reverse():n},f.tickFormat=function(t,e){return null==e?E:h(e)},f.nice=function(t,e){var n=d();return(t=A(t,n[0],n[n.length-1],e))?d(M(n,t)):f},f.copy=function(){return b(f,$(t,n,r,o,s,a,u,c,h))},f}var B=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},W=B("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),U=B("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Y=B("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),X=B("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),V=i.interpolateCubehelixLong(a.cubehelix(300,.5,0),a.cubehelix(-240,.5,1)),G=i.interpolateCubehelixLong(a.cubehelix(-100,.75,.35),a.cubehelix(80,1.5,.8)),K=i.interpolateCubehelixLong(a.cubehelix(260,.75,.35),a.cubehelix(80,1.5,.8)),Q=a.cubehelix();function J(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Z=J(B("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),tt=J(B("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),et=J(B("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nt=J(B("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=p,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(p().paddingInner(1))},t.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=l.call(t,g),n):e.slice()},n.copy=function(){return t().domain(e)},k(n)},t.scaleLinear=function t(){var e=x(y,i.interpolateNumber);return e.copy=function(){return b(e,t())},k(e)},t.scaleLog=function t(){var n=x(T,C).domain([1,10]),i=n.domain,o=10,s=A(10),a=E(10);function u(){return s=A(o),a=E(o),i()[0]<0&&(s=N(s),a=N(a)),n}return n.base=function(t){return arguments.length?(o=+t,u()):o},n.domain=function(t){return arguments.length?(i(t),u()):i()},n.ticks=function(t){var n,r=i(),u=r[0],l=r[r.length-1];(n=l<u)&&(p=u,u=l,l=p);var c,h,f,p=s(u),d=s(l),g=null==t?10:+t,v=[];if(!(o%1)&&d-p<g){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(h=1,c=a(p);h<o;++h)if(!((f=c*h)<u)){if(f>l)break;v.push(f)}}else for(;p<d;++p)for(h=o-1,c=a(p);h>=1;--h)if(!((f=c*h)<u)){if(f>l)break;v.push(f)}}else v=e.ticks(p,d,Math.min(d-p,g)).map(a);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=r.format(e)),t===1/0)return e;null==t&&(t=10);var i=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/a(Math.round(s(t)));return n*o<o-.5&&(n*=o),n<=i?e(t):""}},n.nice=function(){return i(M(i(),{floor:function(t){return a(Math.floor(s(t)))},ceil:function(t){return a(Math.ceil(s(t)))}}))},n.copy=function(){return b(n,t().base(o))},n},t.scaleOrdinal=f,t.scaleImplicit=h,t.scalePow=O,t.scaleSqrt=function(){return O().exponent(.5)},t.scaleQuantile=function t(){var n=[],i=[],r=[];function o(){var t=0,o=Math.max(1,i.length);for(r=new Array(o-1);++t<o;)r[t-1]=e.quantile(n,t/o);return s}function s(t){if(!isNaN(t=+t))return i[e.bisect(r,t)]}return s.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]},s.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var i,r=0,s=t.length;r<s;++r)null==(i=t[r])||isNaN(i=+i)||n.push(i);return n.sort(e.ascending),o()},s.range=function(t){return arguments.length?(i=c.call(t),o()):i.slice()},s.quantiles=function(){return r.slice()},s.copy=function(){return t().domain(n).range(i)},s},t.scaleQuantize=function t(){var n=0,i=1,r=1,o=[.5],s=[0,1];function a(t){if(t<=t)return s[e.bisect(o,t,0,r)]}function u(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*i-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],u()):[n,i]},a.range=function(t){return arguments.length?(r=(s=c.call(t)).length-1,u()):s.slice()},a.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},a.copy=function(){return t().domain([n,i]).range(s)},k(a)},t.scaleThreshold=function t(){var n=[.5],i=[0,1],r=1;function o(t){if(t<=t)return i[e.bisect(n,t,0,r)]}return o.domain=function(t){return arguments.length?(n=c.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=c.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.copy=function(){return t().domain(n).range(i)},o},t.scaleTime=function(){return $(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,s.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return $(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,s.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=W,t.schemeCategory20b=U,t.schemeCategory20c=Y,t.schemeCategory20=X,t.interpolateCubehelixDefault=V,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Q.h=360*t-100,Q.s=1.5-1.5*e,Q.l=.8-.9*e,Q+""},t.interpolateWarm=G,t.interpolateCool=K,t.interpolateViridis=Z,t.interpolateMagma=tt,t.interpolateInferno=et,t.interpolatePlasma=nt,t.scaleSequential=function t(e){var n=0,i=1,r=!1;function o(t){var o=(t-n)/(i-n);return e(r?Math.max(0,Math.min(1,o)):o)}return o.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],o):[n,i]},o.clamp=function(t){return arguments.length?(r=!!t,o):r},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(e).domain([n,i]).clamp(r)},k(o)},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(6),n(19),n(12),n(23),n(32),n(33),n(13))},function(t,e,n){(function(t){"use strict";var e=new Date,n=new Date;function i(t,r,o,s){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(e){return t(e=new Date(e-1)),r(e,1),t(e),e},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return r(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(e,n,i){var o,s=[];if(e=a.ceil(e),i=null==i?1:Math.floor(i),!(e<n&&i>0))return s;do{s.push(o=new Date(+e)),r(e,i),t(e)}while(o<e&&e<n);return s},a.filter=function(e){return i(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;r(t,-1),!e(t););else for(;--n>=0;)for(;r(t,1),!e(t););})},o&&(a.count=function(i,r){return e.setTime(+i),n.setTime(+r),t(e),t(n),Math.floor(o(e,n))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(s?function(e){return s(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var r=i(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):r:null};var o=r.range,s=6e4,a=6048e5,u=i(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),l=u.range,c=i(function(t){t.setTime(Math.floor(t/s)*s)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getMinutes()}),h=c.range,f=i(function(t){var e=t.getTimezoneOffset()*s%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),p=f.range,d=i(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/864e5},function(t){return t.getDate()-1}),g=d.range;function v(t){return i(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/a})}var y=v(0),m=v(1),_=v(2),b=v(3),x=v(4),w=v(5),k=v(6),M=y.range,T=m.range,C=_.range,S=b.range,E=x.range,A=w.range,N=k.range,P=i(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),O=P.range,D=i(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});D.every=function(t){return isFinite(t=Math.floor(t))&&t>0?i(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var z=D.range,j=i(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getUTCMinutes()}),L=j.range,I=i(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),R=I.range,H=i(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),q=H.range;function F(t){return i(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/a})}var $=F(0),B=F(1),W=F(2),U=F(3),Y=F(4),X=F(5),V=F(6),G=$.range,K=B.range,Q=W.range,J=U.range,Z=Y.range,tt=X.range,et=V.range,nt=i(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),it=nt.range,rt=i(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});rt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?i(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=rt.range;t.timeInterval=i,t.timeMillisecond=r,t.timeMilliseconds=o,t.utcMillisecond=r,t.utcMilliseconds=o,t.timeSecond=u,t.timeSeconds=l,t.utcSecond=u,t.utcSeconds=l,t.timeMinute=c,t.timeMinutes=h,t.timeHour=f,t.timeHours=p,t.timeDay=d,t.timeDays=g,t.timeWeek=y,t.timeWeeks=M,t.timeSunday=y,t.timeSundays=M,t.timeMonday=m,t.timeMondays=T,t.timeTuesday=_,t.timeTuesdays=C,t.timeWednesday=b,t.timeWednesdays=S,t.timeThursday=x,t.timeThursdays=E,t.timeFriday=w,t.timeFridays=A,t.timeSaturday=k,t.timeSaturdays=N,t.timeMonth=P,t.timeMonths=O,t.timeYear=D,t.timeYears=z,t.utcMinute=j,t.utcMinutes=L,t.utcHour=I,t.utcHours=R,t.utcDay=H,t.utcDays=q,t.utcWeek=$,t.utcWeeks=G,t.utcSunday=$,t.utcSundays=G,t.utcMonday=B,t.utcMondays=K,t.utcTuesday=W,t.utcTuesdays=Q,t.utcWednesday=U,t.utcWednesdays=J,t.utcThursday=Y,t.utcThursdays=Z,t.utcFriday=X,t.utcFridays=tt,t.utcSaturday=V,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=it,t.utcYear=rt,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){var o=t.dateTime,s=t.date,u=t.time,l=t.periods,c=t.days,h=t.shortDays,f=t.months,yt=t.shortMonths,mt=p(l),_t=d(l),bt=p(c),xt=d(c),wt=p(h),kt=d(h),Mt=p(f),Tt=d(f),Ct=p(yt),St=d(yt),Et={a:function(t){return h[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return yt[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:z,e:z,f:H,H:j,I:L,j:I,L:R,m:q,M:F,p:function(t){return l[+(t.getHours()>=12)]},Q:gt,s:vt,S:$,u:B,U:W,V:U,w:Y,W:X,x:null,X:null,y:V,Y:G,Z:K,"%":dt},At={a:function(t){return h[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return yt[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:Q,e:Q,f:nt,H:J,I:Z,j:tt,L:et,m:it,M:rt,p:function(t){return l[+(t.getUTCHours()>=12)]},Q:gt,s:vt,S:ot,u:st,U:at,V:ut,w:lt,W:ct,x:null,X:null,y:ht,Y:ft,Z:pt,"%":dt},Nt={a:function(t,e,n){var i=wt.exec(e.slice(n));return i?(t.w=kt[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=bt.exec(e.slice(n));return i?(t.w=xt[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=Ct.exec(e.slice(n));return i?(t.m=St[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=Mt.exec(e.slice(n));return i?(t.m=Tt[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return Dt(t,o,e,n)},d:M,e:M,f:N,H:C,I:C,j:T,L:A,m:k,M:S,p:function(t,e,n){var i=mt.exec(e.slice(n));return i?(t.p=_t[i[0].toLowerCase()],n+i[0].length):-1},Q:O,s:D,S:E,u:v,U:y,V:m,w:g,W:_,x:function(t,e,n){return Dt(t,s,e,n)},X:function(t,e,n){return Dt(t,u,e,n)},y:x,Y:b,Z:w,"%":P};function Pt(t,e){return function(n){var i,r,o,s=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(s.push(t.slice(l,u)),null!=(r=a[i=t.charAt(++u)])?i=t.charAt(++u):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=u+1);return s.push(t.slice(l,u)),s.join("")}}function Ot(t,n){return function(o){var s,a,u=r(1900);if(Dt(u,t,o+="",0)!=o.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(s=(a=(s=i(r(u.y))).getUTCDay())>4||0===a?e.utcMonday.ceil(s):e.utcMonday(s),s=e.utcDay.offset(s,7*(u.V-1)),u.y=s.getUTCFullYear(),u.m=s.getUTCMonth(),u.d=s.getUTCDate()+(u.w+6)%7):(s=(a=(s=n(r(u.y))).getDay())>4||0===a?e.timeMonday.ceil(s):e.timeMonday(s),s=e.timeDay.offset(s,7*(u.V-1)),u.y=s.getFullYear(),u.m=s.getMonth(),u.d=s.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),a="Z"in u?i(r(u.y)).getUTCDay():n(r(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(a+5)%7:u.w+7*u.U-(a+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,i(u)):n(u)}}function Dt(t,e,n,i){for(var r,o,s=0,u=e.length,l=n.length;s<u;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=Nt[r in a?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return Et.x=Pt(s,Et),Et.X=Pt(u,Et),Et.c=Pt(o,Et),At.x=Pt(s,At),At.X=Pt(u,At),At.c=Pt(o,At),{format:function(t){var e=Pt(t+="",Et);return e.toString=function(){return t},e},parse:function(t){var e=Ot(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var e=Pt(t+="",At);return e.toString=function(){return t},e},utcParse:function(t){var e=Ot(t,i);return e.toString=function(){return t},e}}}var s,a={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function h(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function f(t){return t.replace(c,"\\$&")}function p(t){return new RegExp("^(?:"+t.map(f).join("|")+")","i")}function d(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function g(t,e,n){var i=u.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function v(t,e,n){var i=u.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function y(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function m(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function _(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function b(t,e,n){var i=u.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function x(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function w(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function k(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function M(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function T(t,e,n){var i=u.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function C(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function S(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function E(t,e,n){var i=u.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function A(t,e,n){var i=u.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function N(t,e,n){var i=u.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function P(t,e,n){var i=l.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function O(t,e,n){var i=u.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function D(t,e,n){var i=u.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function z(t,e){return h(t.getDate(),e,2)}function j(t,e){return h(t.getHours(),e,2)}function L(t,e){return h(t.getHours()%12||12,e,2)}function I(t,n){return h(1+e.timeDay.count(e.timeYear(t),t),n,3)}function R(t,e){return h(t.getMilliseconds(),e,3)}function H(t,e){return R(t,e)+"000"}function q(t,e){return h(t.getMonth()+1,e,2)}function F(t,e){return h(t.getMinutes(),e,2)}function $(t,e){return h(t.getSeconds(),e,2)}function B(t){var e=t.getDay();return 0===e?7:e}function W(t,n){return h(e.timeSunday.count(e.timeYear(t),t),n,2)}function U(t,n){var i=t.getDay();return t=i>=4||0===i?e.timeThursday(t):e.timeThursday.ceil(t),h(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function Y(t){return t.getDay()}function X(t,n){return h(e.timeMonday.count(e.timeYear(t),t),n,2)}function V(t,e){return h(t.getFullYear()%100,e,2)}function G(t,e){return h(t.getFullYear()%1e4,e,4)}function K(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+h(e/60|0,"0",2)+h(e%60,"0",2)}function Q(t,e){return h(t.getUTCDate(),e,2)}function J(t,e){return h(t.getUTCHours(),e,2)}function Z(t,e){return h(t.getUTCHours()%12||12,e,2)}function tt(t,n){return h(1+e.utcDay.count(e.utcYear(t),t),n,3)}function et(t,e){return h(t.getUTCMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function it(t,e){return h(t.getUTCMonth()+1,e,2)}function rt(t,e){return h(t.getUTCMinutes(),e,2)}function ot(t,e){return h(t.getUTCSeconds(),e,2)}function st(t){var e=t.getUTCDay();return 0===e?7:e}function at(t,n){return h(e.utcSunday.count(e.utcYear(t),t),n,2)}function ut(t,n){var i=t.getUTCDay();return t=i>=4||0===i?e.utcThursday(t):e.utcThursday.ceil(t),h(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function lt(t){return t.getUTCDay()}function ct(t,n){return h(e.utcMonday.count(e.utcYear(t),t),n,2)}function ht(t,e){return h(t.getUTCFullYear()%100,e,2)}function ft(t,e){return h(t.getUTCFullYear()%1e4,e,4)}function pt(){return"+0000"}function dt(){return"%"}function gt(t){return+t}function vt(t){return Math.floor(+t/1e3)}function yt(e){return s=o(e),t.timeFormat=s.format,t.timeParse=s.parse,t.utcFormat=s.utcFormat,t.utcParse=s.utcParse,s}yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");var _t=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.timeFormatDefaultLocale=yt,t.timeFormatLocale=o,t.isoFormat=mt,t.isoParse=_t,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(32))},function(t,e,n){(function(t,e){"use strict";var n=function(t){return function(){return t}},i=Math.abs,r=Math.atan2,o=Math.cos,s=Math.max,a=Math.min,u=Math.sin,l=Math.sqrt,c=1e-12,h=Math.PI,f=h/2,p=2*h;function d(t){return t>=1?f:t<=-1?-f:Math.asin(t)}function g(t){return t.innerRadius}function v(t){return t.outerRadius}function y(t){return t.startAngle}function m(t){return t.endAngle}function _(t){return t&&t.padAngle}function b(t,e,n,i,r,o,a){var u=t-n,c=e-i,h=(a?o:-o)/l(u*u+c*c),f=h*c,p=-h*u,d=t+f,g=e+p,v=n+f,y=i+p,m=(d+v)/2,_=(g+y)/2,b=v-d,x=y-g,w=b*b+x*x,k=r-o,M=d*y-v*g,T=(x<0?-1:1)*l(s(0,k*k*w-M*M)),C=(M*x-b*T)/w,S=(-M*b-x*T)/w,E=(M*x+b*T)/w,A=(-M*b+x*T)/w,N=C-m,P=S-_,O=E-m,D=A-_;return N*N+P*P>O*O+D*D&&(C=E,S=A),{cx:C,cy:S,x01:-f,y01:-p,x11:C*(r/k-1),y11:S*(r/k-1)}}function x(t){this._context=t}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var w=function(t){return new x(t)};function k(t){return t[0]}function M(t){return t[1]}var T=function(){var t=k,i=M,r=n(!0),o=null,s=w,a=null;function u(n){var u,l,c,h=n.length,f=!1;for(null==o&&(a=s(c=e.path())),u=0;u<=h;++u)!(u<h&&r(l=n[u],u,n))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,u,n),+i(l,u,n));if(c)return a=null,c+""||null}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),u):t},u.y=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),u):i},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:n(!!t),u):r},u.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),u):s},u.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),u):o},u},C=function(){var t=k,i=null,r=n(0),o=M,s=n(!0),a=null,u=w,l=null;function c(n){var c,h,f,p,d,g=n.length,v=!1,y=new Array(g),m=new Array(g);for(null==a&&(l=u(d=e.path())),c=0;c<=g;++c){if(!(c<g&&s(p=n[c],c,n))===v)if(v=!v)h=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=h;--f)l.point(y[f],m[f]);l.lineEnd(),l.areaEnd()}v&&(y[c]=+t(p,c,n),m[c]=+r(p,c,n),l.point(i?+i(p,c,n):y[c],o?+o(p,c,n):m[c]))}if(d)return l=null,d+""||null}function h(){return T().defined(s).curve(u).context(a)}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),i=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),c):t},c.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:n(+t),c):i},c.y=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o=null,c):r},c.y0=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),c):r},c.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:n(+t),c):o},c.lineX0=c.lineY0=function(){return h().x(t).y(r)},c.lineY1=function(){return h().x(t).y(o)},c.lineX1=function(){return h().x(i).y(r)},c.defined=function(t){return arguments.length?(s="function"==typeof t?t:n(!!t),c):s},c.curve=function(t){return arguments.length?(u=t,null!=a&&(l=u(a)),c):u},c.context=function(t){return arguments.length?(null==t?a=l=null:l=u(a=t),c):a},c},S=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},E=function(t){return t},A=P(w);function N(t){this._curve=t}function P(t){function e(e){return new N(t(e))}return e._curve=t,e}function O(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(P(t)):e()._curve},t}N.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var D=function(){return O(T().curve(A))},z=function(){var t=C().curve(A),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return O(n())},delete t.lineX0,t.lineEndAngle=function(){return O(i())},delete t.lineX1,t.lineInnerRadius=function(){return O(r())},delete t.lineY0,t.lineOuterRadius=function(){return O(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(P(t)):e()._curve},t},j=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},L=Array.prototype.slice;function I(t){return t.source}function R(t){return t.target}function H(t){var i=I,r=R,o=k,s=M,a=null;function u(){var n,u=L.call(arguments),l=i.apply(this,u),c=r.apply(this,u);if(a||(a=n=e.path()),t(a,+o.apply(this,(u[0]=l,u)),+s.apply(this,u),+o.apply(this,(u[0]=c,u)),+s.apply(this,u)),n)return a=null,n+""||null}return u.source=function(t){return arguments.length?(i=t,u):i},u.target=function(t){return arguments.length?(r=t,u):r},u.x=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),u):o},u.y=function(t){return arguments.length?(s="function"==typeof t?t:n(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}function q(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function F(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function $(t,e,n,i,r){var o=j(e,n),s=j(e,n=(n+r)/2),a=j(i,n),u=j(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],u[0],u[1])}var B={draw:function(t,e){var n=Math.sqrt(e/h);t.moveTo(n,0),t.arc(0,0,n,0,p)}},W={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},U=Math.sqrt(1/3),Y=2*U,X={draw:function(t,e){var n=Math.sqrt(e/Y),i=n*U;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},V=Math.sin(h/10)/Math.sin(7*h/10),G=Math.sin(p/10)*V,K=-Math.cos(p/10)*V,Q={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=G*n,r=K*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=p*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*n,-a*n),t.lineTo(a*i-u*r,u*i+a*r)}t.closePath()}},J={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Z=Math.sqrt(3),tt={draw:function(t,e){var n=-Math.sqrt(e/(3*Z));t.moveTo(0,2*n),t.lineTo(-Z*n,-n),t.lineTo(Z*n,-n),t.closePath()}},et=-.5,nt=Math.sqrt(3)/2,it=1/Math.sqrt(12),rt=3*(it/2+1),ot={draw:function(t,e){var n=Math.sqrt(e/rt),i=n/2,r=n*it,o=i,s=n*it+n,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(et*i-nt*r,nt*i+et*r),t.lineTo(et*o-nt*s,nt*o+et*s),t.lineTo(et*a-nt*u,nt*a+et*u),t.lineTo(et*i+nt*r,et*r-nt*i),t.lineTo(et*o+nt*s,et*s-nt*o),t.lineTo(et*a+nt*u,et*u-nt*a),t.closePath()}},st=[B,W,X,J,Q,tt,ot],at=function(){};function ut(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lt(t){this._context=t}lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ut(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ct(t){this._context=t}ct.prototype={areaStart:at,areaEnd:at,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ht(t){this._context=t}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ft(t,e){this._basis=new lt(t),this._beta=e}ft.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var pt=function t(e){function n(t){return 1===e?new lt(t):new ft(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function gt(t,e){this._context=t,this._k=(1-e)/6}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vt=function t(e){function n(t){return new gt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:at,areaEnd:at,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mt=function t(e){function n(t){return new yt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function _t(t,e){this._context=t,this._k=(1-e)/6}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bt=function t(e){function n(t){return new _t(t,e)}return n.tension=function(e){return t(+e)},n}(0);function xt(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>c){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>c){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function t(e){function n(t){return e?new wt(t,e):new gt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Mt(t,e){this._context=t,this._alpha=e}Mt.prototype={areaStart:at,areaEnd:at,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tt=function t(e){function n(t){return e?new Mt(t,e):new yt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ct(t,e){this._context=t,this._alpha=e}Ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var St=function t(e){function n(t){return e?new Ct(t,e):new _t(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Et(t){this._context=t}Et.prototype={areaStart:at,areaEnd:at,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function At(t){return t<0?-1:1}function Nt(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(At(o)+At(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Pt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ot(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Dt(t){this._context=t}function zt(t){this._context=new jt(t)}function jt(t){this._context=t}function Lt(t){this._context=t}function It(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ot(this,this._t0,Pt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ot(this,Pt(this,n=Nt(this,t,e)),n);break;default:Ot(this,this._t0,n=Nt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(zt.prototype=Object.create(Dt.prototype)).point=function(t,e){Dt.prototype.point.call(this,e,t)},jt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=It(t),r=It(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Rt(t,e){this._context=t,this._t=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ht=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},qt=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Ft(t,e){return t[e]}var $t=function(t){var e=t.map(Bt);return qt(t).sort(function(t,n){return e[t]-e[n]})};function Bt(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}t.arc=function(){var t=g,s=v,x=n(0),w=null,k=y,M=m,T=_,C=null;function S(){var n,g,v,y=+t.apply(this,arguments),m=+s.apply(this,arguments),_=k.apply(this,arguments)-f,S=M.apply(this,arguments)-f,E=i(S-_),A=S>_;if(C||(C=n=e.path()),m<y&&(g=m,m=y,y=g),m>c)if(E>p-c)C.moveTo(m*o(_),m*u(_)),C.arc(0,0,m,_,S,!A),y>c&&(C.moveTo(y*o(S),y*u(S)),C.arc(0,0,y,S,_,A));else{var N,P,O=_,D=S,z=_,j=S,L=E,I=E,R=T.apply(this,arguments)/2,H=R>c&&(w?+w.apply(this,arguments):l(y*y+m*m)),q=a(i(m-y)/2,+x.apply(this,arguments)),F=q,$=q;if(H>c){var B=d(H/y*u(R)),W=d(H/m*u(R));(L-=2*B)>c?(z+=B*=A?1:-1,j-=B):(L=0,z=j=(_+S)/2),(I-=2*W)>c?(O+=W*=A?1:-1,D-=W):(I=0,O=D=(_+S)/2)}var U=m*o(O),Y=m*u(O),X=y*o(j),V=y*u(j);if(q>c){var G=m*o(D),K=m*u(D),Q=y*o(z),J=y*u(z);if(E<h){var Z=L>c?function(t,e,n,i,r,o,s,a){var u=n-t,l=i-e,c=s-r,h=a-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}(U,Y,Q,J,G,K,X,V):[X,V],tt=U-Z[0],et=Y-Z[1],nt=G-Z[0],it=K-Z[1],rt=1/u(((v=(tt*nt+et*it)/(l(tt*tt+et*et)*l(nt*nt+it*it)))>1?0:v<-1?h:Math.acos(v))/2),ot=l(Z[0]*Z[0]+Z[1]*Z[1]);F=a(q,(y-ot)/(rt-1)),$=a(q,(m-ot)/(rt+1))}}I>c?$>c?(N=b(Q,J,U,Y,m,$,A),P=b(G,K,X,V,m,$,A),C.moveTo(N.cx+N.x01,N.cy+N.y01),$<q?C.arc(N.cx,N.cy,$,r(N.y01,N.x01),r(P.y01,P.x01),!A):(C.arc(N.cx,N.cy,$,r(N.y01,N.x01),r(N.y11,N.x11),!A),C.arc(0,0,m,r(N.cy+N.y11,N.cx+N.x11),r(P.cy+P.y11,P.cx+P.x11),!A),C.arc(P.cx,P.cy,$,r(P.y11,P.x11),r(P.y01,P.x01),!A))):(C.moveTo(U,Y),C.arc(0,0,m,O,D,!A)):C.moveTo(U,Y),y>c&&L>c?F>c?(N=b(X,V,G,K,y,-F,A),P=b(U,Y,Q,J,y,-F,A),C.lineTo(N.cx+N.x01,N.cy+N.y01),F<q?C.arc(N.cx,N.cy,F,r(N.y01,N.x01),r(P.y01,P.x01),!A):(C.arc(N.cx,N.cy,F,r(N.y01,N.x01),r(N.y11,N.x11),!A),C.arc(0,0,y,r(N.cy+N.y11,N.cx+N.x11),r(P.cy+P.y11,P.cx+P.x11),A),C.arc(P.cx,P.cy,F,r(P.y11,P.x11),r(P.y01,P.x01),!A))):C.arc(0,0,y,j,z,A):C.lineTo(X,V)}else C.moveTo(0,0);if(C.closePath(),n)return C=null,n+""||null}return S.centroid=function(){var e=(+t.apply(this,arguments)+ +s.apply(this,arguments))/2,n=(+k.apply(this,arguments)+ +M.apply(this,arguments))/2-h/2;return[o(n)*e,u(n)*e]},S.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),S):t},S.outerRadius=function(t){return arguments.length?(s="function"==typeof t?t:n(+t),S):s},S.cornerRadius=function(t){return arguments.length?(x="function"==typeof t?t:n(+t),S):x},S.padRadius=function(t){return arguments.length?(w=null==t?null:"function"==typeof t?t:n(+t),S):w},S.startAngle=function(t){return arguments.length?(k="function"==typeof t?t:n(+t),S):k},S.endAngle=function(t){return arguments.length?(M="function"==typeof t?t:n(+t),S):M},S.padAngle=function(t){return arguments.length?(T="function"==typeof t?t:n(+t),S):T},S.context=function(t){return arguments.length?(C=null==t?null:t,S):C},S},t.area=C,t.line=T,t.pie=function(){var t=E,e=S,i=null,r=n(0),o=n(p),s=n(0);function a(n){var a,u,l,c,h,f=n.length,d=0,g=new Array(f),v=new Array(f),y=+r.apply(this,arguments),m=Math.min(p,Math.max(-p,o.apply(this,arguments)-y)),_=Math.min(Math.abs(m)/f,s.apply(this,arguments)),b=_*(m<0?-1:1);for(a=0;a<f;++a)(h=v[g[a]=a]=+t(n[a],a,n))>0&&(d+=h);for(null!=e?g.sort(function(t,n){return e(v[t],v[n])}):null!=i&&g.sort(function(t,e){return i(n[t],n[e])}),a=0,l=d?(m-f*b)/d:0;a<f;++a,y=c)u=g[a],c=y+((h=v[u])>0?h*l:0)+b,v[u]={data:n[u],index:a,value:h,startAngle:y,endAngle:c,padAngle:_};return v}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,i=null,a):e},a.sort=function(t){return arguments.length?(i=t,e=null,a):i},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),a):r},a.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),a):o},a.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:n(+t),a):s},a},t.areaRadial=z,t.radialArea=z,t.lineRadial=D,t.radialLine=D,t.pointRadial=j,t.linkHorizontal=function(){return H(q)},t.linkVertical=function(){return H(F)},t.linkRadial=function(){var t=H($);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var t=n(B),i=n(64),r=null;function o(){var n;if(r||(r=n=e.path()),t.apply(this,arguments).draw(r,+i.apply(this,arguments)),n)return r=null,n+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:n(e),o):t},o.size=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o):i},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o},t.symbols=st,t.symbolCircle=B,t.symbolCross=W,t.symbolDiamond=X,t.symbolSquare=J,t.symbolStar=Q,t.symbolTriangle=tt,t.symbolWye=ot,t.curveBasisClosed=function(t){return new ct(t)},t.curveBasisOpen=function(t){return new ht(t)},t.curveBasis=function(t){return new lt(t)},t.curveBundle=pt,t.curveCardinalClosed=mt,t.curveCardinalOpen=bt,t.curveCardinal=vt,t.curveCatmullRomClosed=Tt,t.curveCatmullRomOpen=St,t.curveCatmullRom=kt,t.curveLinearClosed=function(t){return new Et(t)},t.curveLinear=w,t.curveMonotoneX=function(t){return new Dt(t)},t.curveMonotoneY=function(t){return new zt(t)},t.curveNatural=function(t){return new Lt(t)},t.curveStep=function(t){return new Rt(t,.5)},t.curveStepAfter=function(t){return new Rt(t,1)},t.curveStepBefore=function(t){return new Rt(t,0)},t.stack=function(){var t=n([]),e=qt,i=Ht,r=Ft;function o(n){var o,s,a=t.apply(this,arguments),u=n.length,l=a.length,c=new Array(l);for(o=0;o<l;++o){for(var h,f=a[o],p=c[o]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+r(n[d],f,d,n)],h.data=n[d];p.key=f}for(o=0,s=e(c);o<l;++o)c[s[o]].index=o;return i(c,s),c}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:n(L.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?qt:"function"==typeof t?t:n(L.call(t)),o):e},o.offset=function(t){return arguments.length?(i=null==t?Ht:t,o):i},o},t.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}Ht(t,e)}},t.stackOffsetDiverging=function(t,e){if((a=t.length)>1)for(var n,i,r,o,s,a,u=0,l=t[e[0]].length;u<l;++u)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][u])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},t.stackOffsetNone=Ht,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Ht(t,e)}},t.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,u=0,l=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,p=0;p<a;++p){var d=t[e[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}u+=h,l+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=l/u)}n[s-1][1]+=n[s-1][0]=o,Ht(t,e)}},t.stackOrderAscending=$t,t.stackOrderDescending=function(t){return $t(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(Bt),o=qt(t).sort(function(t,e){return r[e]-r[t]}),s=0,a=0,u=[],l=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],u.push(n)):(a+=r[n],l.push(n));return l.reverse().concat(u)},t.stackOrderNone=qt,t.stackOrderReverse=function(t){return qt(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(18))},function(t,e,n){(function(t){"use strict";var e=function(t){return function(){return t}};function n(t){return t[0]}function i(t){return t[1]}function r(){this._=null}function o(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function s(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function a(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function u(t){for(;t.L;)t=t.L;return t}function l(t,e,n,i){var r=[null,null],o=P.push(r)-1;return r.left=t,r.right=e,n&&h(r,t,e,n),i&&h(r,e,t,i),A[t.index].halfedges.push(o),A[e.index].halfedges.push(o),r}function c(t,e,n){var i=[e,n];return i.left=t,i}function h(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function f(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function p(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],g=(h+p)/2,v=(f+d)/2;if(d===f){if(g<e||g>=i)return;if(h>p){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=v-(s=(h-p)/(d-f))*g,s<-1||s>1)if(h>p){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function d(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function g(t,e){return e[+(e.left!==t.site)]}function v(t,e){return e[+(e.left===t.site)]}r.prototype={constructor:r,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=u(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(s(this,n),n=(t=n).U),n.C=!1,i.C=!0,a(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(a(this,n),n=(t=n).U),n.C=!1,i.C=!0,s(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,l=t.R;if(n=o?l?u(l):o:l,r?r.L===t?r.L=n:r.R=n:this._=n,o&&l?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==l?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=l,l.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,s(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,a(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,s(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,a(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,s(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,a(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var y,m=[];function _(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,s=n.site;if(i!==s){var a=r[0],u=r[1],l=i[0]-a,c=i[1]-u,h=s[0]-a,f=s[1]-u,p=2*(l*f-c*h);if(!(p>=-D)){var d=l*l+c*c,g=h*h+f*f,v=(f*d-c*g)/p,_=(l*g-h*d)/p,b=m.pop()||new function(){o(this),this.x=this.y=this.arc=this.site=this.cy=null};b.arc=t,b.site=r,b.x=v+a,b.y=(b.cy=_+u)+Math.sqrt(v*v+_*_),t.circle=b;for(var x=null,w=N._;w;)if(b.y<w.y||b.y===w.y&&b.x<=w.x){if(!w.L){x=w.P;break}w=w.L}else{if(!w.R){x=w;break}w=w.R}N.insert(x,b),x||(y=b)}}}}function b(t){var e=t.circle;e&&(e.P||(y=e.N),N.remove(e),m.push(e),o(e),t.circle=null)}var x=[];function w(t){var e=x.pop()||new function(){o(this),this.edge=this.site=this.circle=null};return e.site=t,e}function k(t){b(t),E.remove(t),x.push(t),o(t)}function M(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];k(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<O&&Math.abs(i-u.circle.cy)<O;)o=u.P,a.unshift(u),k(u),u=o;a.unshift(u),b(u);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<O&&Math.abs(i-c.circle.cy)<O;)s=c.N,a.push(c),k(c),c=s;a.push(c),b(c);var f,p=a.length;for(f=1;f<p;++f)c=a[f],u=a[f-1],h(c.edge,u.site,c.site,r);u=a[0],(c=a[p-1]).edge=l(u.site,c.site,null,r),_(u),_(c)}function T(t){for(var e,n,i,r,o=t[0],s=t[1],a=E._;a;)if((i=C(a,s)-o)>O)a=a.L;else{if(!((r=o-S(a,s))>O)){i>-O?(e=a.P,n=a):r>-O?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){A[t.index]={site:t,halfedges:[]}}(t);var u=w(t);if(E.insert(e,u),e||n){if(e===n)return b(e),n=w(e.site),E.insert(u,n),u.edge=n.edge=l(e.site,u.site),_(e),void _(n);if(n){b(e),b(n);var c=e.site,f=c[0],p=c[1],d=t[0]-f,g=t[1]-p,v=n.site,y=v[0]-f,m=v[1]-p,x=2*(d*m-g*y),k=d*d+g*g,M=y*y+m*m,T=[(m*k-g*M)/x+f,(d*M-y*k)/x+p];h(n.edge,c,v,T),u.edge=l(c,t,null,T),n.edge=l(t,v,null,T),_(e),_(n)}else u.edge=l(e.site,u.site)}}function C(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+a)/2}function S(t,e){var n=t.N;if(n)return C(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var E,A,N,P,O=1e-6,D=1e-12;function z(t,e){return e[1]-t[1]||e[0]-t[0]}function j(t,e){var n,i,o,s=t.sort(z).pop();for(P=[],A=new Array(t.length),E=new r,N=new r;;)if(o=y,s&&(!o||s[1]<o.y||s[1]===o.y&&s[0]<o.x))s[0]===n&&s[1]===i||(T(s),n=s[0],i=s[1]),s=t.pop();else{if(!o)break;M(o.arc)}if(function(){for(var t,e,n,i,r=0,o=A.length;r<o;++r)if((t=A[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=d(t,P[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var a=+e[0][0],u=+e[0][1],l=+e[1][0],h=+e[1][1];!function(t,e,n,i){for(var r,o=P.length;o--;)p(r=P[o],t,e,n,i)&&f(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>O||Math.abs(r[0][1]-r[1][1])>O)||delete P[o]}(a,u,l,h),function(t,e,n,i){var r,o,s,a,u,l,h,f,p,d,y,m,_=A.length,b=!0;for(r=0;r<_;++r)if(o=A[r]){for(s=o.site,a=(u=o.halfedges).length;a--;)P[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)y=(d=v(o,P[u[a]]))[0],m=d[1],f=(h=g(o,P[u[++a%l]]))[0],p=h[1],(Math.abs(y-f)>O||Math.abs(m-p)>O)&&(u.splice(a,0,P.push(c(s,d,Math.abs(y-t)<O&&i-m>O?[t,Math.abs(f-t)<O?p:i]:Math.abs(m-i)<O&&n-y>O?[Math.abs(p-i)<O?f:n,i]:Math.abs(y-n)<O&&m-e>O?[n,Math.abs(f-n)<O?p:e]:Math.abs(m-e)<O&&y-t>O?[Math.abs(p-e)<O?f:t,e]:null))-1),++l);l&&(b=!1)}if(b){var x,w,k,M=1/0;for(r=0,b=null;r<_;++r)(o=A[r])&&(k=(x=(s=o.site)[0]-t)*x+(w=s[1]-e)*w)<M&&(M=k,b=o);if(b){var T=[t,e],C=[t,i],S=[n,i],E=[n,e];b.halfedges.push(P.push(c(s=b.site,T,C))-1,P.push(c(s,C,S))-1,P.push(c(s,S,E))-1,P.push(c(s,E,T))-1)}}for(r=0;r<_;++r)(o=A[r])&&(o.halfedges.length||delete A[r])}(a,u,l,h)}this.edges=P,this.cells=A,E=N=P=A=null}j.prototype={constructor:j,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return g(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a,u,l,c=n.site,h=-1,f=e[r[o-1]],p=f.left===c?f.right:f.left;++h<o;)s=p,p=(f=e[r[h]]).left===c?f.right:f.left,s&&p&&i<s.index&&i<p.index&&(u=s,l=p,((a=c)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([c.data,s.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var u=t-r.site[0],l=e-r.site[1],c=u*u+l*l;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};t.voronoi=function(){var t=n,r=i,o=null;function s(e){return new j(e.map(function(n,i){var o=[Math.round(t(n,i,e)/O)*O,Math.round(r(n,i,e)/O)*O];return o.index=i,o.data=n,o}),o)}return s.polygons=function(t){return s(t).polygons()},s.links=function(t){return s(t).links()},s.triangles=function(t){return s(t).triangles()},s.x=function(n){return arguments.length?(t="function"==typeof n?n:e(+n),s):t},s.y=function(t){return arguments.length?(r="function"==typeof t?t:e(+t),s):r},s.extent=function(t){return arguments.length?(o=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],s):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},s.size=function(t){return arguments.length?(o=null==t?null:[[0,0],[+t[0],+t[1]]],s):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},s},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n,i,r,o){"use strict";var s=function(t){return function(){return t}};function a(t,e,n){this.k=t,this.x=e,this.y=n}a.prototype={constructor:a,scale:function(t){return 1===t?this:new a(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new a(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var u=new a(1,0,0);function l(t){return t.__zoom||u}function c(){r.event.stopImmediatePropagation()}l.prototype=a.prototype;var h=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()};function f(){return!r.event.button}function p(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function d(){return this.__zoom||u}function g(){return-r.event.deltaY*(r.event.deltaMode?120:1)/500}function v(){return"ontouchstart"in this}function y(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}t.zoom=function(){var t,l,m=f,_=p,b=y,x=g,w=v,k=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],T=250,C=i.interpolateZoom,S=[],E=e.dispatch("start","zoom","end"),A=500,N=150,P=0;function O(t){t.property("__zoom",d).on("wheel.zoom",H).on("mousedown.zoom",q).on("dblclick.zoom",F).filter(w).on("touchstart.zoom",$).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(t,e){return(e=Math.max(k[0],Math.min(k[1],e)))===t.k?t:new a(e,t.x,t.y)}function z(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new a(t.k,i,r)}function j(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function L(t,e,n){t.on("start.zoom",function(){I(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=I(this,t),r=_.apply(this,t),o=n||j(r),s=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),u=this.__zoom,l="function"==typeof e?e.apply(this,t):e,c=C(u.invert(o).concat(s/u.k),l.invert(o).concat(s/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=s/e[2];t=new a(n,o[0]-e[0]*n,o[1]-e[1]*n)}i.zoom(null,t)}})}function I(t,e){for(var n,i=0,r=S.length;i<r;++i)if((n=S[i]).that===t)return n;return new R(t,e)}function R(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=_.apply(t,e)}function H(){if(m.apply(this,arguments)){var t=I(this,arguments),e=this.__zoom,n=Math.max(k[0],Math.min(k[1],e.k*Math.pow(2,x.apply(this,arguments)))),i=r.mouse(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],o.interrupt(this),t.start()}h(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},N),t.zoom("mouse",b(z(D(e,n),t.mouse[0],t.mouse[1]),t.extent,M))}}function q(){if(!l&&m.apply(this,arguments)){var t=I(this,arguments),e=r.select(r.event.view).on("mousemove.zoom",function(){if(h(),!t.moved){var e=r.event.clientX-s,n=r.event.clientY-a;t.moved=e*e+n*n>P}t.zoom("mouse",b(z(t.that.__zoom,t.mouse[0]=r.mouse(t.that),t.mouse[1]),t.extent,M))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(r.event.view,t.moved),h(),t.end()},!0),i=r.mouse(this),s=r.event.clientX,a=r.event.clientY;n.dragDisable(r.event.view),c(),t.mouse=[i,this.__zoom.invert(i)],o.interrupt(this),t.start()}}function F(){if(m.apply(this,arguments)){var t=this.__zoom,e=r.mouse(this),n=t.invert(e),i=t.k*(r.event.shiftKey?.5:2),o=b(z(D(t,i),e,n),_.apply(this,arguments),M);h(),T>0?r.select(this).transition().duration(T).call(L,o,e):r.select(this).call(O.transform,o)}}function $(){if(m.apply(this,arguments)){var e,n,i,s,a=I(this,arguments),u=r.event.changedTouches,l=u.length;for(c(),n=0;n<l;++n)i=u[n],s=[s=r.touch(this,u,i.identifier),this.__zoom.invert(s),i.identifier],a.touch0?a.touch1||(a.touch1=s):(a.touch0=s,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((s=r.select(this).on("dblclick.zoom"))&&s.apply(this,arguments));e&&(t=setTimeout(function(){t=null},A),o.interrupt(this),a.start())}}function B(){var e,n,i,o,s=I(this,arguments),a=r.event.changedTouches,u=a.length;for(h(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=a[e],i=r.touch(this,a,n.identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var l=s.touch0[0],c=s.touch0[1],f=s.touch1[0],p=s.touch1[1],d=(d=f[0]-l[0])*d+(d=f[1]-l[1])*d,g=(g=p[0]-c[0])*g+(g=p[1]-c[1])*g;n=D(n,Math.sqrt(d/g)),i=[(l[0]+f[0])/2,(l[1]+f[1])/2],o=[(c[0]+p[0])/2,(c[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",b(z(n,i,o),s.extent,M))}function W(){var t,e,n=I(this,arguments),i=r.event.changedTouches,o=i.length;for(c(),l&&clearTimeout(l),l=setTimeout(function(){l=null},A),t=0;t<o;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return O.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",d),t!==n?L(t,e):n.interrupt().each(function(){I(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},O.scaleBy=function(t,e){O.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},O.scaleTo=function(t,e){O.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,i=j(t),r=n.invert(i),o="function"==typeof e?e.apply(this,arguments):e;return b(z(D(n,o),i,r),t,M)})},O.translateBy=function(t,e,n){O.transform(t,function(){return b(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),_.apply(this,arguments),M)})},O.translateTo=function(t,e,n){O.transform(t,function(){var t=_.apply(this,arguments),i=this.__zoom,r=j(t);return b(u.translate(r[0],r[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,M)})},R.prototype={start:function(){return 1==++this.active&&(this.index=S.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(S.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){r.customEvent(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(O,t,this.that.__zoom),E.apply,E,[t,this.that,this.args])}},O.wheelDelta=function(t){return arguments.length?(x="function"==typeof t?t:s(+t),O):x},O.filter=function(t){return arguments.length?(m="function"==typeof t?t:s(!!t),O):m},O.touchable=function(t){return arguments.length?(w="function"==typeof t?t:s(!!t),O):w},O.extent=function(t){return arguments.length?(_="function"==typeof t?t:s([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),O):_},O.scaleExtent=function(t){return arguments.length?(k[0]=+t[0],k[1]=+t[1],O):[k[0],k[1]]},O.translateExtent=function(t){return arguments.length?(M[0][0]=+t[0][0],M[1][0]=+t[1][0],M[0][1]=+t[0][1],M[1][1]=+t[1][1],O):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},O.constrain=function(t){return arguments.length?(b=t,O):b},O.duration=function(t){return arguments.length?(T=+t,O):T},O.interpolate=function(t){return arguments.length?(C=t,O):C},O.on=function(){var t=E.on.apply(E,arguments);return t===E?O:t},O.clickDistance=function(t){return arguments.length?(P=(t=+t)*t,O):Math.sqrt(P)},O},t.zoomTransform=l,t.zoomIdentity=u,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(9),n(10),n(12),n(11),n(14))},function(t,e,n){(function(t,e,n,i,r){"use strict";var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=function(){function t(e){var n=e.x,i=void 0===n?0:n,r=e.y,s=void 0===r?0:r,a=e.nx,u=e.ny,l=e.dy,c=void 0===l?0:l,h=e.dx,f=void 0===h?0:h,p=e.color,d=void 0===p?"grey":p,g=e.data,v=e.type,y=e.subject,m=e.connector,_=e.note,b=e.disable,x=e.id,w=e.className;o(this,t),this._dx=void 0!==a?a-i:f,this._dy=void 0!==u?u-s:c,this._x=i,this._y=s,this._color=d,this.id=x,this._className=w||"",this.type=v||"",this.data=g,this.note=_||{},this.connector=m||{},this.subject=y||{},this.disable=b||[]}return s(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),f=function(){function t(e){var n=e.annotations,i=e.accessors,r=e.accessorsInverse;o(this,t),this.accessors=i,this.accessorsInverse=r,this.annotations=n}return s(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(i){n.data[i]=t.accessorsInverse[i]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return a({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),p=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},d=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},g=["topBottom","top","bottom"],v=["leftRight","left","right"],y=function(t){var e=t.data,n=t.curve,r=void 0===n?i.curveLinear:n,o=t.canvasContext,s=t.className,a=t.classID,u=i.line().curve(r),l={type:"path",className:s,classID:a,data:e};return o?(u.context(o),l.pathMethods=u):l.attrs={d:u(e)},l},m=function(t){var e=t.data,n=t.canvasContext,r={type:"path",className:t.className,classID:t.classID,data:e},o=i.arc().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(o.context(n),r.pathMethods=lineGen):r.attrs={d:o()},r},_=function(t){var e=t.type,n=t.subjectType,i=e.annotation,r=i.position,o=i.x-r.x,s=o+i.dx,a=i.y-r.y,u=a+i.dy,l=i.subject;if("circle"===n&&(l.outerRadius||l.radius)){var c=Math.sqrt((o-s)*(o-s)+(a-u)*(a-u)),h=Math.asin(-u/c),f=l.outerRadius||l.radius+(l.radiusPadding||0);o=Math.abs(Math.cos(h)*f)*(s<0?-1:1),a=Math.abs(Math.sin(h)*f)*(u<0?-1:1)}if("rect"===n){var p=l.width,d=l.height;(p>0&&i.dx>0||p<0&&i.dx<0)&&(o=Math.abs(p)>Math.abs(i.dx)?p/2:p),(d>0&&i.dy>0||d<0&&i.dy<0)&&(a=Math.abs(d)>Math.abs(i.dy)?d/2:d),o===p/2&&a===d/2&&(o=s,a=u)}return[[o,a],[s,u]]},b=function(t){var n=t.type,r=t.connectorData,o=t.subjectType;r||(r={}),r.points&&"number"!=typeof r.points||(r.points=x(n.annotation.offset,r.points)),r.curve||(r.curve=i.curveCatmullRom);var s=[];if(n.editMode){var u=r.points.map(function(t,e){return a({},(n={cx:t[0],cy:t[1]},i=n.cx,r=void 0===i?0:i,o=n.cy,{move:{x:r,y:void 0===o?0:o}}),{index:e});var n,i,r,o});s=n.mapHandles(u.map(function(t){return a({},t.move,{drag:function(t){r.points[t][0]+=e.event.dx,r.points[t][1]+=e.event.dy,n.redrawConnector()}.bind(n,t.index)})}))}var l=_({type:n,subjectType:o});return l=[l[0]].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r.points),[l[1]]),{components:[y({data:l,curve:r.curve,className:"connector"})],handles:s}},x=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.x/(e+1),i=t.y/(e+1),r=[],o=1;o<=e;o++)r.push([n*o+o%2*20,i*o-o%2*20]);return r},w=function(t){var n=t.subjectData,i=t.type;n.radius||n.outerRadius||(n.radius=20);var r=[],o=m({data:n,className:"subject"});if(i.editMode){var s=function(t){var e=t.cx,n=void 0===e?0:e,i=t.cy,r=void 0===i?0:i,o=t.r1,s=t.r2,a=t.padding,u={move:{x:n,y:r}};return void 0!==o&&(u.r1={x:n+o/Math.sqrt(2),y:r+o/Math.sqrt(2)}),void 0!==s&&(u.r2={x:n+s/Math.sqrt(2),y:r+s/Math.sqrt(2)}),void 0!==a&&(u.padding={x:n+o+a,y:r}),u}({r1:o.data.outerRadius||o.data.radius,r2:o.data.innerRadius,padding:n.radiusPadding}),u=function(t){var r=n[t]+e.event.dx*Math.sqrt(2);n[t]=r,i.redrawSubject(),i.redrawConnector()},l=[a({},s.r1,{drag:u.bind(i,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&l.push(a({},s.r2,{drag:u.bind(i,"innerRadius")})),r=i.mapHandles(l)}return o.attrs["fill-opacity"]=0,{components:[o],handles:r}},k=function(){function t(e){var n=e.a,i=e.annotation,r=e.editMode,s=e.dispatcher,a=e.notePadding,u=e.accessors;if(o(this,t),this.a=n,this.note=-1===i.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===i.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===i.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=s,s){var l=j.bind(null,s,i);l({component:this.note,name:"note"}),l({component:this.connector,name:"connector"}),l({component:this.subject,name:"subject"})}this.annotation=i,this.editMode=i.editMode||r,this.notePadding=void 0!==a?a:3,this.offsetCornerX=0,this.offsetCornerY=0,u&&i.data&&this.init(u)}return s(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,i){var r=this;Array.isArray(i)||(i=[i]),i.filter(function(t){return t}).forEach(function(i){var o=i.type,s=i.className,a=i.attrs,u=i.handles,l=i.classID;if("handle"===o)!function(t){var i=t.group,r=t.handles,o=t.r,s=void 0===o?10:o,a=i.selectAll("circle.handle").data(r);a.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(n.drag().container(e.select("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),i.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||s}).attr("class",function(t){return"handle "+(t.className||"")}),a.exit().remove()}({group:t,r:a&&a.r,handles:u});else{z(t,[r.annotation],o,s,l);for(var c=t.select(o+"."+(l||s)),h=Object.keys(a),f=[],p=c.node().attributes,d=p.length-1;d>=0;d--){var g=p[d].name;-1===h.indexOf(g)&&"class"!==g&&f.push(g)}h.forEach(function(t){"text"===t?c.text(a[t]):c.attr(t,a[t])}),f.forEach(function(t){return c.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return I(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=I(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.annotation.subject,r=n.type,o={type:this,subjectData:i},s={};"circle"===r?s=w(o):"rect"===r?s=function(t){var n=t.subjectData,i=t.type;n.width||(n.width=100),n.height||(n.height=100);var r=[],o=n.width,s=n.height,a=y({data:[[0,0],[o,0],[o,s],[0,s],[0,0]],className:"subject"});if(i.editMode){var u=[{x:o,y:s/2,drag:function(){n.width=e.event.x,i.redrawSubject(),i.redrawConnector()}.bind(i)},{x:o/2,y:s,drag:function(){n.height=e.event.y,i.redrawSubject(),i.redrawConnector()}.bind(i)}];r=i.mapHandles(u)}return a.attrs["fill-opacity"]=.1,{components:[a],handles:r}}(o):"threshold"===r?s=function(t){var e=t.subjectData,n=t.type.annotation.position,i=(void 0!==e.x1?e.x1:n.x)-n.x,r=(void 0!==e.x2?e.x2:n.x)-n.x,o=(void 0!==e.y1?e.y1:n.y)-n.y,s=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[y({data:[[i,o],[r,s]],className:"subject"})]}}(o):"badge"===r&&(s=function(t){var n=t.subjectData,i=void 0===n?{}:n,r=t.type,o=void 0===r?{}:r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.typeSettings&&o.typeSettings.subject;i.radius||(a&&a.radius?i.radius=a.radius:i.radius=14),i.x||a&&a.x&&(i.x=a.x),i.y||a&&a.y&&(i.y=a.y);var u=[],l=[],c=i.radius,h=.7*c,f=0,p=0,d=Math.sqrt(2)*c,g={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-d,xright:d,ytop:-d,ybottom:d};i.x&&!i.y?f=g["x"+i.x]:i.y&&!i.x?p=g["y"+i.y]:i.x&&i.y&&(f=g["x"+i.x+"corner"],p=g["y"+i.y+"corner"]);var v="translate("+f+", "+p+")",_=m({className:"subject",data:{radius:c}});_.attrs.transform=v,_.attrs.fill=s.color,_.attrs["stroke-linecap"]="round",_.attrs["stroke-width"]="3px";var b=m({className:"subject-ring",data:{outerRadius:c,innerRadius:h}});b.attrs.transform=v,b.attrs["stroke-width"]="3px",b.attrs.fill="white";var x=void 0;if(f&&p||!f&&!p)x=y({className:"subject-pointer",data:[[0,0],[f||0,0],[0,p||0],[0,0]]});else if(f||p){var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*c/Math.sqrt(2)};x=y({className:"subject-pointer",data:[[0,0],[w(f),w(p)],[w(f,-1),w(p,-1)],[0,0]]})}if(x&&(x.attrs.fill=s.color,x.attrs["stroke-linecap"]="round",x.attrs["stroke-width"]="3px",l.push(x)),o.editMode){var k={x:2*f,y:2*p,drag:function(){i.x=e.event.x<2*-c?"left":e.event.x>2*c?"right":void 0,i.y=e.event.y<2*-c?"top":e.event.y>2*c?"bottom":void 0,o.redrawSubject()}.bind(o)};k.x||k.y||(k.y=-c),u=o.mapHandles([k])}var M=void 0;return i.text&&(M={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:i.text,"text-anchor":"middle",dy:".25em",x:f,y:p}}),l.push(_),l.push(b),l.push(M),{components:l,handles:u}}(o,this.annotation));var a=s,u=a.components,l=void 0===u?[]:u,c=a.handles,h=void 0===c?[]:c;return l.forEach(function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)}),this.editMode&&(h=h.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),l.push({type:"handle",handles:h})),l}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,i=n.type||e.type,r={type:this,connectorData:n};r.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o="curve"===i?b(r):"elbow"===i?function(t){var e=t.type,n=t.subjectType,i=e.annotation,r=i.position,o=i.x-r.x,s=o+i.dx,a=i.y-r.y,u=a+i.dy,l=i.subject;if("rect"===n){var c=l.width,h=l.height;(c>0&&i.dx>0||c<0&&i.dx<0)&&(o=Math.abs(c)>Math.abs(i.dx)?c/2:c),(h>0&&i.dy>0||h<0&&i.dy<0)&&(a=Math.abs(h)>Math.abs(i.dy)?h/2:h),o===c/2&&a===h/2&&(o=s,a=u)}var f=[[o,a],[s,u]],p=u-a,d=s-o,g=s,v=u,m=u<a&&s>o||s<o&&u>a?-1:1;if(Math.abs(d)<Math.abs(p)?(g=s,v=a+d*m):(v=u,g=o+p*m),"circle"===n&&(l.outerRadius||l.radius)){var _=(l.outerRadius||l.radius)+(l.radiusPadding||0),b=_/Math.sqrt(2);if(Math.abs(d)>b&&Math.abs(p)>b)f=[[o=b*(s<0?-1:1),a=b*(u<0?-1:1)],[g,v],[s,u]];else if(Math.abs(d)>Math.abs(p)){var x=Math.asin(-u/_);f=[[o=Math.abs(Math.cos(x)*_)*(s<0?-1:1),u],[s,u]]}else{var w=Math.acos(s/_);f=[[s,a=Math.abs(Math.sin(w)*_)*(u<0?-1:1)],[s,u]]}}else f=[[o,a],[g,v],[s,u]];return{components:[y({data:f,className:"connector"})]}}(r):function(t){var e=_(t);return{components:[y({data:e,className:"connector"})]}}(r),s=o.components,a=void 0===s?[]:s,u=o.handles,l=void 0===u?[]:u,c=a[0];c&&(c.attrs.stroke=this.annotation.color,c.attrs.fill="none");var h=n.end||e.end,f={};if("arrow"===h){var p=c.data[1],d=c.data[0];Math.sqrt(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2))<5&&c.data[2]&&(p=c.data[2]),f=function(t){var e=t.annotation,n=t.start,i=t.end,r=t.scale,o=void 0===r?1:r,s=e.position;n=n?[-i[0]+n[0],-i[1]+n[1]]:[e.dx,e.dy],i||(i=[e.x-s.x,e.y-s.y]);var a=i[0],u=i[1],l=n[0],c=n[1],h=10*o,f=16/180*Math.PI,p=Math.atan(c/l);l<0&&(p+=Math.PI);var d=[[a,u],[Math.cos(p+f)*h+a,Math.sin(p+f)*h+u],[Math.cos(p-f)*h+a,Math.sin(p-f)*h+u],[a,u]];return{components:[y({data:d,className:"connector-end connector-arrow",classID:"connector-end"})]}}({annotation:this.annotation,start:p,end:d,scale:n.endScale})}else"dot"===h&&(f=function(t){var e=t.line,n=t.scale,i=void 0===n?1:n,r=m({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(i)}});return r.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[r]}}({line:c,scale:n.endScale}));return f.components&&(f.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),a=a.concat(f.components)),this.editMode&&0!==l.length&&a.push({type:"handle",handles:l}),a}},{key:"drawNote",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.note,o=r.align||i.align||"dynamic",s={bbox:i.bbox,align:o,offset:this.annotation.offset},a=r.lineType||i.lineType,u={};"vertical"===a?u=function(t){var e=t.align,n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r,s=t.bbox,a=t.offset;"top"===(e=p(e,a.y))?o-=s.height:"middle"===e&&(o-=s.height/2);var u=[[i,o],[i,o+s.height]];return{components:[y({data:u,className:"note-line"})]}}(s):"horizontal"===a&&(u=function(t){var e=t.align,n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r,s=t.offset,a=t.bbox;"right"===(e=d(e,s.x))?i-=a.width:"middle"===e&&(i-=a.width/2);var u=[[i,o],[i+a.width,o]];return{components:[y({data:u,className:"note-line"})]}}(s));var l=u,c=l.components,h=void 0===c?[]:c,f=l.handles,g=void 0===f?[]:f;if(h.forEach(function(e){e.attrs.stroke=t.annotation.color}),this.editMode){g=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),h.push({type:"handle",handles:g});var v=this.dragNote.bind(this),m=this.dragstarted.bind(this),_=this.dragended.bind(this);this.note.call(n.drag().container(e.select("g.annotations").node()).on("start",function(t){return m(t)}).on("drag",function(t){return v(t)}).on("end",function(t){return _(t)}))}else this.note.on("mousedown.drag",null);return h}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,i=e.orientation||t.orientation||"topBottom",r=e.lineType||t.lineType,o=e.align||t.align||"dynamic";"vertical"===r?i="leftRight":"horizontal"===r&&(i="topBottom");var s=function(t){var e=t.padding,n=void 0===e?0:e,i=t.bbox,r=void 0===i?{x:0,y:0,width:0,height:0}:i,o=t.align,s=t.orientation,a=t.offset,u=void 0===a?{x:0,y:0}:a,l=-r.x,c=0;return-1!==g.indexOf(s)?(o=d(o,u.x),u.y<0&&"topBottom"===s||"top"===s?c-=r.height+n:c+=n,"middle"===o?l-=r.width/2:"right"===o&&(l-=r.width)):-1!==v.indexOf(s)&&(o=p(o,u.y),u.x<0&&"leftRight"===s||"left"===s?l-=r.width+n:l+=n,"middle"===o?c-=r.height/2:"top"===o&&(c-=r.height)),{x:l,y:c}}({padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:i,align:o}),a=s.x,u=s.y;return this.offsetCornerX=a+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+a+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){e.event.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return a({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),t}(),M=function(t,e,n){return function(i){function r(t){o(this,r);var n=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return l(r,t),s(r,[{key:"className",value:function(){return""+(e.className||u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=a({},e.subject,this.typeSettings.subject),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,a({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=a({},e.connector,this.typeSettings.connector),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,a({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=a({},e.note,this.typeSettings.note),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,a({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,a({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),r}()},T=function(t){function e(t){o(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return l(e,k),s(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){z(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");z(t,[this.annotation],"rect","annotation-note-bg"),z(t,[this.annotation],"text","annotation-note-label"),z(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),i=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,r=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter;if(this.annotation.note.title){var o=this.a.select("text.annotation-note-title");o.text(this.annotation.note.title),o.attr("fill",this.annotation.color),o.attr("font-weight","bold"),o.call(L,i,r),e=o.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(L,i,r),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var s=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",s.width).attr("height",s.height).attr("x",s.x).attr("fill","white").attr("fill-opacity",0)}}}]),e}(),C=M(T,{className:"label",note:{align:"middle"}}),S=M(T,{className:"callout",note:{lineType:"horizontal"}}),E=M(S,{className:"callout elbow",connector:{type:"elbow"}}),A=M(S,{className:"callout curve",connector:{type:"curve"}}),N=M(k,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),P=M(E,{className:"callout circle",subject:{type:"circle"}}),O=M(E,{className:"callout rect",subject:{type:"rect"}}),D=M(function(t){function e(){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,S),s(e,[{key:"mapY",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(),{className:"callout xythreshold",subject:{type:"threshold"}}),z=function(t,e,n,i,r){var o=t.selectAll(n+"."+(r||i)).data(e);return o.enter().append(n).merge(o).attr("class",i),o.exit().remove(),t},j=function(t,e,n){var i=n.component,r=n.name;i&&i.on("mouseover.annotations",function(){t.call(r+"over",i,e)}).on("mouseout.annotations",function(){return t.call(r+"out",i,e)}).on("click.annotations",function(){return t.call(r+"click",i,e)})},L=function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each(function(){for(var t=e.select(this),o=t.text().split(i||/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),s=void 0,a=[],u=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");s=o.pop();)a.push(s),u.text(a.join(" ")),u.node().getComputedTextLength()>n&&a.length>1&&(a.pop(),u.text(a.join(" ")),a=[s],u=t.append("tspan").attr("x",0).attr("dy",r+"em").text(s))})},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var i=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(i&&parseFloat(i.value)||0)+n.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function R(){var t=[],n=void 0,i=void 0,o=[],s={},a={},u=!1,l=void 0,c=S,p=void 0,d=void 0,g=r.dispatch("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),v=void 0,y=function(i){v=i,u||i.selectAll("circle.handle").remove();var r=t.map(function(t){return t.type||(t.type=c),t.disable||(t.disable=o),new h(t)});n=n||new f({annotations:r,accessors:s,accessorsInverse:a,ids:l}),i.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var y=i.select("g.annotations");z(y,n.annotations,"g","annotation");var m=y.selectAll("g.annotation");m.each(function(t){var n=e.select(this);n.attr("class","annotation"),z(n,[t],"g","annotation-connector"),z(n,[t],"g","annotation-subject"),z(n,[t],"g","annotation-note"),z(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:p,notePadding:d,editMode:u,dispatcher:g,accessors:s}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return y.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(t){return delete t.type,t}))),y},y.update=function(){return t&&n&&(t=n.annotations.map(function(t){return t.type.draw(),t})),y},y.updateText=function(){return n&&(n.updateText(p),t=n.annotations),y},y.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,y},y.disable=function(e){return arguments.length?(o=e,n&&(n.updateDisable(o),t=n.annotations),y):o},y.textWrap=function(e){return arguments.length?(p=e,n&&(n.updateTextWrap(p),t=n.annotations),y):p},y.notePadding=function(e){return arguments.length?(d=e,n&&(n.updateNotePadding(d),t=n.annotations),y):d},y.type=function(e,i){return arguments.length?(c=e,n&&(n.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=c,t.subject=i&&i.subject||t.subject,t.connector=i&&i.connector||t.connector,t.note=i&&i.note||t.note}),t=n.annotations),y):c},y.annotations=function(e){if(!arguments.length)return n&&n.annotations||t;(t=e,n&&n.annotations)&&(t.some(function(t){return!t.type||"[object Object]"!==t.type.toString()})?(n=null,y(v)):n.annotations=t);return y},y.context=function(t){return arguments.length?(i=t,y):i},y.accessors=function(t){return arguments.length?(s=t,y):s},y.accessorsInverse=function(t){return arguments.length?(a=t,y):a},y.ids=function(t){return arguments.length?(l=t,y):l},y.editMode=function(e){return arguments.length?(u=e,v&&v.selectAll("g.annotation").classed("editable",u),n&&(n.editMode(u),t=n.annotations),y):u},y.collection=function(t){return arguments.length?(n=t,y):n},y.on=function(){var t=g.on.apply(g,arguments);return t===g?y:t},y}var H={annotation:R,annotationTypeBase:k,annotationLabel:C,annotationCallout:S,annotationCalloutCurve:A,annotationCalloutElbow:E,annotationCalloutCircle:P,annotationCalloutRect:O,annotationXYThreshold:D,annotationBadge:N,annotationCustomType:M};t.annotation=R,t.annotationTypeBase=k,t.annotationLabel=C,t.annotationCallout=S,t.annotationCalloutCurve=A,t.annotationCalloutElbow=E,t.annotationCalloutCircle=P,t.annotationCalloutRect=O,t.annotationXYThreshold=D,t.annotationBadge=N,t.annotationCustomType=M,t.default=H,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(38),n(39),n(41),n(40))},function(t,e,n){(function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function r(t){var n=i(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(i,t)}})(n)}var o=0;function s(){return new a}function a(){this._="@"+(++o).toString(36)}a.prototype=s.prototype={constructor:a,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var u=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var l=document.documentElement;if(!l.matches){var c=l.webkitMatchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector;u=function(t){return function(){return c.call(this,t)}}}}var h=u,f={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(f={mouseenter:"mouseover",mouseleave:"mouseout"}));function p(t,e,n){return t=d(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function d(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function g(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function v(t,e,n){var i=f.hasOwnProperty(t.type)?p:d;return function(r,o,s){var a,u=this.__on,l=i(e,o,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function y(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function m(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function _(){}function b(t){return null==t?_:function(){return this.querySelector(t)}}function x(){return[]}function w(t){return null==t?x:function(){return this.querySelectorAll(t)}}function k(t){return new Array(t.length)}function M(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var T="$";function C(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new M(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function S(t,e,n,i,r,o,s){var a,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l=T+s.call(u,u.__data__,a,e),l in c?r[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l=T+s.call(t,o[a],a,o)])?(i[a]=u,u.__data__=o[a],c[l]=null):n[a]=new M(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(r[a]=u)}function E(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function A(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function N(t){return t.trim().split(/^|\s+/)}function P(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=N(t.getAttribute("class")||"")}function D(t,e){for(var n=P(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function z(t,e){for(var n=P(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function j(){this.textContent=""}function L(){this.innerHTML=""}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function R(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function F(t,e,n){var i=A(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}O.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $=[null];function B(t,e){this._groups=t,this._parents=e}function W(){return new B([[document.documentElement]],$)}B.prototype=W.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),l[c]=s);return new B(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=w(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new B(i,r)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new B(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n,i=e?S:C,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,r),g=d.length,v=u[c]=new Array(g),y=a[c]=new Array(g);i(h,f,v,y,l[c]=new Array(p),d,e);for(var m,_,b=0,x=0;b<g;++b)if(m=v[b]){for(b>=x&&(x=b+1);!(_=y[x])&&++x<g;);m._next=_||null}}return(a=new B(a,r))._enter=u,a._exit=l,a},enter:function(){return new B(this._enter||this._groups.map(k),this._parents)},exit:function(){return new B(this._exit||this._groups.map(k),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new B(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=E);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],u=a.length,l=r[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new B(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){var i;return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):A(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+"");if(arguments.length<2){for(var i=P(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?D:z)(this,t)}}:e?function(t){return function(){D(this,t)}}:function(t){return function(){z(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(I)},lower:function(){return this.each(R)},append:function(t){var e="function"==typeof t?t:r(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:r(t),i=null==e?H:"function"==typeof e?e:b(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?v:g,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return F(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return F(this,t,e)}})(t,e))}},t.creator=r,t.local=s,t.matcher=h,t.mouse=function(t){var e=y();return e.changedTouches&&(e=e.changedTouches[0]),m(t,e)},t.namespace=i,t.namespaces=n,t.select=function(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],$)},t.selectAll=function(t){return"string"==typeof t?new B([document.querySelectorAll(t)],[document.documentElement]):new B([null==t?[]:t],$)},t.selection=W,t.selector=b,t.selectorAll=w,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=y().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return m(t,i);return null},t.touches=function(t,e){null==e&&(e=y().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=m(t,e[n]);return r},t.window=A,t.customEvent=function(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e,n){"use strict";function i(){n.event.stopImmediatePropagation()}var r=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},o=function(t){var e=t.document.documentElement,i=n.select(t).on("dragstart.drag",r,!0);"onselectstart"in e?i.on("selectstart.drag",r,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function s(t,e){var i=t.document.documentElement,o=n.select(t).on("dragstart.drag",null);e&&(o.on("click.drag",r,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var a=function(t){return function(){return t}};function u(t,e,n,i,r,o,s,a,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=l}function l(){return!n.event.button}function c(){return this.parentNode}function h(t){return null==t?{x:n.event.x,y:n.event.y}:t}u.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){var t,f,p=l,d=c,g=h,v={},y=e.dispatch("start","drag","end"),m=0;function _(t){t.on("mousedown.drag",b).on("touchstart.drag",k).on("touchmove.drag",M).on("touchend.drag touchcancel.drag",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(){if(!f&&p.apply(this,arguments)){var e=C("mouse",d.apply(this,arguments),n.mouse,this,arguments);e&&(n.select(n.event.view).on("mousemove.drag",x,!0).on("mouseup.drag",w,!0),o(n.event.view),i(),t=!1,e("start"))}}function x(){r(),t=!0,v.mouse("drag")}function w(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),s(n.event.view,t),r(),v.mouse("end")}function k(){if(p.apply(this,arguments)){var t,e,r=n.event.changedTouches,o=d.apply(this,arguments),s=r.length;for(t=0;t<s;++t)(e=C(r[t].identifier,o,n.touch,this,arguments))&&(i(),e("start"))}}function M(){var t,e,i=n.event.changedTouches,o=i.length;for(t=0;t<o;++t)(e=v[i[t].identifier])&&(r(),e("drag"))}function T(){var t,e,r=n.event.changedTouches,o=r.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),t=0;t<o;++t)(e=v[r[t].identifier])&&(i(),e("end"))}function C(t,e,i,r,o){var s,a,l,c=i(e,t),h=y.copy();if(n.customEvent(new u(_,"beforestart",s,t,m,c[0],c[1],0,0,h),function(){return null!=(n.event.subject=s=g.apply(r,o))&&(a=s.x-c[0]||0,l=s.y-c[1]||0,!0)}))return function f(p){var d,g=c;switch(p){case"start":v[t]=f,d=m++;break;case"end":delete v[t],--m;case"drag":c=i(e,t),d=m}n.customEvent(new u(_,p,s,t,d,c[0]+a,c[1]+l,c[0]-g[0],c[1]-g[1],h),h.apply,h,[p,r,o])}}return _.filter=function(t){return arguments.length?(p="function"==typeof t?t:a(!!t),_):p},_.container=function(t){return arguments.length?(d="function"==typeof t?t:a(t),_):d},_.subject=function(t){return arguments.length?(g="function"==typeof t?t:a(t),_):g},_.on=function(){var t=y.on.apply(y,arguments);return t===y?_:t},_},t.dragDisable=o,t.dragEnable=s,Object.defineProperty(t,"__esModule",{value:!0})})(e,n(40),n(38))},function(t,e,n){(function(t){"use strict";var e={value:function(){}};function n(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function r(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function o(t,n,i){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=e,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=i&&t.push({name:n,value:i}),t}i.prototype=n.prototype={constructor:i,on:function(t,e){var n,i,s=this._,a=(i=s,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=a[u]).type)s[n]=o(s[n],t.name,e);else if(null==e)for(n in s)s[n]=o(s[n],t.name,null);return this}for(;++u<l;)if((n=(t=a[u]).type)&&(n=r(s[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){(function(t,e){"use strict";var n=function(t){return function(){return t}},i=1e-12,r=Math.PI,o=r/2,s=2*r;function a(t){return t.innerRadius}function u(t){return t.outerRadius}function l(t){return t.startAngle}function c(t){return t.endAngle}function h(t){return t&&t.padAngle}function f(t){return t>=1?o:t<=-1?-o:Math.asin(t)}function p(t,e,n,i,r,o,s){var a=t-n,u=e-i,l=(s?o:-o)/Math.sqrt(a*a+u*u),c=l*u,h=-l*a,f=t+c,p=e+h,d=n+c,g=i+h,v=(f+d)/2,y=(p+g)/2,m=d-f,_=g-p,b=m*m+_*_,x=r-o,w=f*g-d*p,k=(_<0?-1:1)*Math.sqrt(Math.max(0,x*x*b-w*w)),M=(w*_-m*k)/b,T=(-w*m-_*k)/b,C=(w*_+m*k)/b,S=(-w*m+_*k)/b,E=M-v,A=T-y,N=C-v,P=S-y;return E*E+A*A>N*N+P*P&&(M=C,T=S),{cx:M,cy:T,x01:-c,y01:-h,x11:M*(r/x-1),y11:T*(r/x-1)}}function d(t){this._context=t}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var g=function(t){return new d(t)};function v(t){return t[0]}function y(t){return t[1]}var m=function(){var t=v,i=y,r=n(!0),o=null,s=g,a=null;function u(n){var u,l,c,h=n.length,f=!1;for(null==o&&(a=s(c=e.path())),u=0;u<=h;++u)!(u<h&&r(l=n[u],u,n))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,u,n),+i(l,u,n));if(c)return a=null,c+""||null}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),u):t},u.y=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),u):i},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:n(!!t),u):r},u.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),u):s},u.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),u):o},u},_=function(){var t=v,i=null,r=n(0),o=y,s=n(!0),a=null,u=g,l=null;function c(n){var c,h,f,p,d,g=n.length,v=!1,y=new Array(g),m=new Array(g);for(null==a&&(l=u(d=e.path())),c=0;c<=g;++c){if(!(c<g&&s(p=n[c],c,n))===v)if(v=!v)h=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=h;--f)l.point(y[f],m[f]);l.lineEnd(),l.areaEnd()}v&&(y[c]=+t(p,c,n),m[c]=+r(p,c,n),l.point(i?+i(p,c,n):y[c],o?+o(p,c,n):m[c]))}if(d)return l=null,d+""||null}function h(){return m().defined(s).curve(u).context(a)}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),i=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),c):t},c.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:n(+t),c):i},c.y=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o=null,c):r},c.y0=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),c):r},c.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:n(+t),c):o},c.lineX0=c.lineY0=function(){return h().x(t).y(r)},c.lineY1=function(){return h().x(t).y(o)},c.lineX1=function(){return h().x(i).y(r)},c.defined=function(t){return arguments.length?(s="function"==typeof t?t:n(!!t),c):s},c.curve=function(t){return arguments.length?(u=t,null!=a&&(l=u(a)),c):u},c.context=function(t){return arguments.length?(null==t?a=l=null:l=u(a=t),c):a},c},b=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},x=function(t){return t},w=M(g);function k(t){this._curve=t}function M(t){function e(e){return new k(t(e))}return e._curve=t,e}function T(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(M(t)):e()._curve},t}k.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var C={draw:function(t,e){var n=Math.sqrt(e/r);t.moveTo(n,0),t.arc(0,0,n,0,s)}},S={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},E=Math.sqrt(1/3),A=2*E,N={draw:function(t,e){var n=Math.sqrt(e/A),i=n*E;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},P=Math.sin(r/10)/Math.sin(7*r/10),O=Math.sin(s/10)*P,D=-Math.cos(s/10)*P,z={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=O*n,r=D*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=s*o/5,u=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-u*n),t.lineTo(u*i-l*r,l*i+u*r)}t.closePath()}},j={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},L=Math.sqrt(3),I={draw:function(t,e){var n=-Math.sqrt(e/(3*L));t.moveTo(0,2*n),t.lineTo(-L*n,-n),t.lineTo(L*n,-n),t.closePath()}},R=-.5,H=Math.sqrt(3)/2,q=1/Math.sqrt(12),F=3*(q/2+1),$={draw:function(t,e){var n=Math.sqrt(e/F),i=n/2,r=n*q,o=i,s=n*q+n,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(R*i-H*r,H*i+R*r),t.lineTo(R*o-H*s,H*o+R*s),t.lineTo(R*a-H*u,H*a+R*u),t.lineTo(R*i+H*r,R*r-H*i),t.lineTo(R*o+H*s,R*s-H*o),t.lineTo(R*a+H*u,R*u-H*a),t.closePath()}},B=[C,S,N,j,z,I,$],W=function(){};function U(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y(t){this._context=t}Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:U(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:U(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X(t){this._context=t}X.prototype={areaStart:W,areaEnd:W,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:U(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V(t){this._context=t}V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:U(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G(t,e){this._basis=new Y(t),this._beta=e}G.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var K=function t(e){function n(t){return 1===e?new Y(t):new G(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Q(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function J(t,e){this._context=t,this._k=(1-e)/6}J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Q(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Z=function t(e){function n(t){return new J(t,e)}return n.tension=function(e){return t(+e)},n}(0);function tt(t,e){this._context=t,this._k=(1-e)/6}tt.prototype={areaStart:W,areaEnd:W,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var et=function t(e){function n(t){return new tt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function nt(t,e){this._context=t,this._k=(1-e)/6}nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var it=function t(e){function n(t){return new nt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function rt(t,e,n){var r=t._x1,o=t._y1,s=t._x2,a=t._y2;if(t._l01_a>i){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>i){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,o,s,a,t._x2,t._y2)}function ot(t,e){this._context=t,this._alpha=e}ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:rt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var st=function t(e){function n(t){return e?new ot(t,e):new J(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function at(t,e){this._context=t,this._alpha=e}at.prototype={areaStart:W,areaEnd:W,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ut=function t(e){function n(t){return e?new at(t,e):new tt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function lt(t,e){this._context=t,this._alpha=e}lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ct=function t(e){function n(t){return e?new lt(t,e):new nt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function ht(t){this._context=t}ht.prototype={areaStart:W,areaEnd:W,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ft(t){return t<0?-1:1}function pt(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(ft(o)+ft(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function dt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gt(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function vt(t){this._context=t}function yt(t){this._context=new mt(t)}function mt(t){this._context=t}function _t(t){this._context=t}function bt(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gt(this,this._t0,dt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gt(this,dt(this,n=pt(this,t,e)),n);break;default:gt(this,this._t0,n=pt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(yt.prototype=Object.create(vt.prototype)).point=function(t,e){vt.prototype.point.call(this,e,t)},mt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=bt(t),r=bt(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xt(t,e){this._context=t,this._t=e}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var wt=Array.prototype.slice,kt=function(t,e){if((i=t.length)>1)for(var n,i,r=1,o=t[e[0]],s=o.length;r<i;++r){n=o,o=t[e[r]];for(var a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}},Mt=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Tt(t,e){return t[e]}var Ct=function(t){var e=t.map(St);return Mt(t).sort(function(t,n){return e[t]-e[n]})};function St(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}t.arc=function(){var t=a,d=u,g=n(0),v=null,y=l,m=c,_=h,b=null;function x(){var n,a,u=+t.apply(this,arguments),l=+d.apply(this,arguments),c=y.apply(this,arguments)-o,h=m.apply(this,arguments)-o,x=Math.abs(h-c),w=h>c;if(b||(b=n=e.path()),l<u&&(a=l,l=u,u=a),l>i)if(x>s-i)b.moveTo(l*Math.cos(c),l*Math.sin(c)),b.arc(0,0,l,c,h,!w),u>i&&(b.moveTo(u*Math.cos(h),u*Math.sin(h)),b.arc(0,0,u,h,c,w));else{var k,M,T=c,C=h,S=c,E=h,A=x,N=x,P=_.apply(this,arguments)/2,O=P>i&&(v?+v.apply(this,arguments):Math.sqrt(u*u+l*l)),D=Math.min(Math.abs(l-u)/2,+g.apply(this,arguments)),z=D,j=D;if(O>i){var L=f(O/u*Math.sin(P)),I=f(O/l*Math.sin(P));(A-=2*L)>i?(S+=L*=w?1:-1,E-=L):(A=0,S=E=(c+h)/2),(N-=2*I)>i?(T+=I*=w?1:-1,C-=I):(N=0,T=C=(c+h)/2)}var R=l*Math.cos(T),H=l*Math.sin(T),q=u*Math.cos(E),F=u*Math.sin(E);if(D>i){var $=l*Math.cos(C),B=l*Math.sin(C),W=u*Math.cos(S),U=u*Math.sin(S);if(x<r){var Y=A>i?function(t,e,n,i,r,o,s,a){var u=n-t,l=i-e,c=s-r,h=a-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}(R,H,W,U,$,B,q,F):[q,F],X=R-Y[0],V=H-Y[1],G=$-Y[0],K=B-Y[1],Q=1/Math.sin(Math.acos((X*G+V*K)/(Math.sqrt(X*X+V*V)*Math.sqrt(G*G+K*K)))/2),J=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);z=Math.min(D,(u-J)/(Q-1)),j=Math.min(D,(l-J)/(Q+1))}}N>i?j>i?(k=p(W,U,R,H,l,j,w),M=p($,B,q,F,l,j,w),b.moveTo(k.cx+k.x01,k.cy+k.y01),j<D?b.arc(k.cx,k.cy,j,Math.atan2(k.y01,k.x01),Math.atan2(M.y01,M.x01),!w):(b.arc(k.cx,k.cy,j,Math.atan2(k.y01,k.x01),Math.atan2(k.y11,k.x11),!w),b.arc(0,0,l,Math.atan2(k.cy+k.y11,k.cx+k.x11),Math.atan2(M.cy+M.y11,M.cx+M.x11),!w),b.arc(M.cx,M.cy,j,Math.atan2(M.y11,M.x11),Math.atan2(M.y01,M.x01),!w))):(b.moveTo(R,H),b.arc(0,0,l,T,C,!w)):b.moveTo(R,H),u>i&&A>i?z>i?(k=p(q,F,$,B,u,-z,w),M=p(R,H,W,U,u,-z,w),b.lineTo(k.cx+k.x01,k.cy+k.y01),z<D?b.arc(k.cx,k.cy,z,Math.atan2(k.y01,k.x01),Math.atan2(M.y01,M.x01),!w):(b.arc(k.cx,k.cy,z,Math.atan2(k.y01,k.x01),Math.atan2(k.y11,k.x11),!w),b.arc(0,0,u,Math.atan2(k.cy+k.y11,k.cx+k.x11),Math.atan2(M.cy+M.y11,M.cx+M.x11),w),b.arc(M.cx,M.cy,z,Math.atan2(M.y11,M.x11),Math.atan2(M.y01,M.x01),!w))):b.arc(0,0,u,E,S,w):b.lineTo(q,F)}else b.moveTo(0,0);if(b.closePath(),n)return b=null,n+""||null}return x.centroid=function(){var e=(+t.apply(this,arguments)+ +d.apply(this,arguments))/2,n=(+y.apply(this,arguments)+ +m.apply(this,arguments))/2-r/2;return[Math.cos(n)*e,Math.sin(n)*e]},x.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),x):t},x.outerRadius=function(t){return arguments.length?(d="function"==typeof t?t:n(+t),x):d},x.cornerRadius=function(t){return arguments.length?(g="function"==typeof t?t:n(+t),x):g},x.padRadius=function(t){return arguments.length?(v=null==t?null:"function"==typeof t?t:n(+t),x):v},x.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:n(+t),x):y},x.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:n(+t),x):m},x.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:n(+t),x):_},x.context=function(t){return arguments.length?(b=null==t?null:t,x):b},x},t.area=_,t.line=m,t.pie=function(){var t=x,e=b,i=null,r=n(0),o=n(s),a=n(0);function u(n){var u,l,c,h,f,p=n.length,d=0,g=new Array(p),v=new Array(p),y=+r.apply(this,arguments),m=Math.min(s,Math.max(-s,o.apply(this,arguments)-y)),_=Math.min(Math.abs(m)/p,a.apply(this,arguments)),b=_*(m<0?-1:1);for(u=0;u<p;++u)(f=v[g[u]=u]=+t(n[u],u,n))>0&&(d+=f);for(null!=e?g.sort(function(t,n){return e(v[t],v[n])}):null!=i&&g.sort(function(t,e){return i(n[t],n[e])}),u=0,c=d?(m-p*b)/d:0;u<p;++u,y=h)l=g[u],h=y+((f=v[l])>0?f*c:0)+b,v[l]={data:n[l],index:u,value:f,startAngle:y,endAngle:h,padAngle:_};return v}return u.value=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),u):t},u.sortValues=function(t){return arguments.length?(e=t,i=null,u):e},u.sort=function(t){return arguments.length?(i=t,e=null,u):i},u.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),u):r},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),u):a},u},t.radialArea=function(){var t=_().curve(w),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return T(n())},delete t.lineX0,t.lineEndAngle=function(){return T(i())},delete t.lineX1,t.lineInnerRadius=function(){return T(r())},delete t.lineY0,t.lineOuterRadius=function(){return T(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(M(t)):e()._curve},t},t.radialLine=function(){return T(m().curve(w))},t.symbol=function(){var t=n(C),i=n(64),r=null;function o(){var n;if(r||(r=n=e.path()),t.apply(this,arguments).draw(r,+i.apply(this,arguments)),n)return r=null,n+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:n(e),o):t},o.size=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o):i},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o},t.symbols=B,t.symbolCircle=C,t.symbolCross=S,t.symbolDiamond=N,t.symbolSquare=j,t.symbolStar=z,t.symbolTriangle=I,t.symbolWye=$,t.curveBasisClosed=function(t){return new X(t)},t.curveBasisOpen=function(t){return new V(t)},t.curveBasis=function(t){return new Y(t)},t.curveBundle=K,t.curveCardinalClosed=et,t.curveCardinalOpen=it,t.curveCardinal=Z,t.curveCatmullRomClosed=ut,t.curveCatmullRomOpen=ct,t.curveCatmullRom=st,t.curveLinearClosed=function(t){return new ht(t)},t.curveLinear=g,t.curveMonotoneX=function(t){return new vt(t)},t.curveMonotoneY=function(t){return new yt(t)},t.curveNatural=function(t){return new _t(t)},t.curveStep=function(t){return new xt(t,.5)},t.curveStepAfter=function(t){return new xt(t,1)},t.curveStepBefore=function(t){return new xt(t,0)},t.stack=function(){var t=n([]),e=Mt,i=kt,r=Tt;function o(n){var o,s,a=t.apply(this,arguments),u=n.length,l=a.length,c=new Array(l);for(o=0;o<l;++o){for(var h,f=a[o],p=c[o]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+r(n[d],f,d,n)],h.data=n[d];p.key=f}for(o=0,s=e(c);o<l;++o)c[s[o]].index=o;return i(c,s),c}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:n(wt.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?Mt:"function"==typeof t?t:n(wt.call(t)),o):e},o.offset=function(t){return arguments.length?(i=null==t?kt:t,o):i},o},t.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}kt(t,e)}},t.stackOffsetNone=kt,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}kt(t,e)}},t.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,u=0,l=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,p=0;p<a;++p){var d=t[e[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}u+=h,l+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=l/u)}n[s-1][1]+=n[s-1][0]=o,kt(t,e)}},t.stackOrderAscending=Ct,t.stackOrderDescending=function(t){return Ct(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(St),o=Mt(t).sort(function(t,e){return r[e]-r[t]}),s=0,a=0,u=[],l=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],u.push(n)):(a+=r[n],l.push(n));return l.reverse().concat(u)},t.stackOrderNone=Mt,t.stackOrderReverse=function(t){return Mt(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})})(e,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(a(n(4)),s(n(5))),o=(s(n(37)),a(n(43)));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=o.default.yearlyAverages;var e=r.timeParse("%Y");this.data.forEach(function(t){t.year=e(t.year),t.danceability=+t.danceability,t.valence=+t.valence,t.acousticness=+t.acousticness,t.energy=+t.energy,t.liveness=+t.liveness,t.speechiness=+t.speechiness,t.instrumentalness=+t.instrumentalness,t.duration_ms=+t.duration_ms}),o.default.lineChartBuilt=!1}return i(t,[{key:"buildMainGraph",value:function(){this.buildGraph(),this.addAxis(),this.initialiseLines(),this.addInitialLines(),this.removeLines(["liveness","instrumentalness","speechiness"])}},{key:"buildGraph",value:function(){var t=r.select("#line-chart");this.margin={top:40,right:40,bottom:40,left:40},this.width=600,this.height=400,this.x=r.scaleTime().range([0,this.width]),this.y=r.scaleLinear().range([this.height,0]),t.attr("width",900).attr("height",600),t.g=t.append("g").attr("class","line-chart__container").attr("height",this.height).attr("width",this.width).attr("transform","translate("+.1*t.attr("width")+", "+(t.attr("height")-this.height)/2+")");t.append("text").attr("x",t.attr("width")/2).attr("y",1.5*this.margin.top).attr("margin-bottom",this.margin.bottom).attr("text-anchor","middle").style("font-size","30px").text("Average Audio Features by Year");t.append("g").attr("class","line-chart__key").attr("transform","translate("+.8*t.attr("width")+", "+.4*this.height+")").append("text").text("Key").attr("text-decoration","underline")}},{key:"addAxis",value:function(){var t=this.x,e=this.y,n=r.select(".line-chart__container");n.append("text").attr("x",this.width/2+this.margin.left).attr("y",this.height+this.margin.bottom).attr("text-anchor","middle").style("font-size","16px").text("Years");t.domain(r.extent(this.data,function(t){return t.year})),e.domain([0,1]),n.append("g").attr("transform","translate(0,"+this.height+")").call(r.axisBottom(this.x)),n.append("g").call(r.axisLeft(this.y))}},{key:"initialiseLines",value:function(){var t=this;t.danceabilityLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.danceability)}),t.valenceLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.valence)}),t.acousticnessLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.acousticness)}),t.energyLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.energy)}),t.instrumentalLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.instrumentalness)}),t.speechyLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.speechiness)}),t.liveLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.liveness)}),t.durationLine=r.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.duration)})}},{key:"addInitialLines",value:function(){for(var t=o.default.features,e=[this.danceabilityLine,this.valenceLine,this.acousticnessLine,this.energyLine,this.liveLine,this.speechyLine,this.instrumentalLine],n=["#ff6a07","#27ae60","#9b59b6","#3498db","#e74c3c","#f1c40f","#1abc9c"],i=r.select(".line-chart__container"),s=r.select(".line-chart__key"),a=0;a<t.length;a++)i.append("path").data([this.data]).attr("class","line-chart__line, line-chart__"+t[a].toLowerCase()).style("stroke",n[a]).style("fill","none").style("stroke-width",2).attr("d",e[a]),s.append("line").attr("x1",5).attr("y1",20*a+20).attr("x2",15).attr("y2",20*a+20).attr("stroke-width",3).attr("stroke",n[a]).attr("class","line-chart__key, line-chart__"+t[a].toLowerCase()),s.append("text").text(t[a]).attr("x",20).attr("y",20*a+25).attr("class","line-chart__"+t[a].toLowerCase());o.default.lineChartBuilt=!0}},{key:"removeLines",value:function(t){var e=document.getElementById("line-chart");t.forEach(function(t){e.querySelectorAll(".line-chart__"+t).forEach(function(t){t.style.display="none"})})}},{key:"addLines",value:function(t){var e=document.getElementById("line-chart");t.forEach(function(t){e.querySelectorAll(".line-chart__"+t).forEach(function(t){t.style.display="initial"})})}},{key:"addCheckboxListeners",value:function(){var t=this;r.selectAll("input[type=checkbox]").on("click",function(){this.checked?t.addLines([this.value]):t.removeLines([this.value])})}}]),t}();e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={user_top_tracks:{},features:["Danceability","Valence","Acousticness","Energy","Liveness","Speechiness","Instrumentalness"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(43)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(45)),s=u(n(46)),a=(u(n(47)),u(n(4)));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.barChart=new s.default;var n=document.getElementById("personalisation-input--song1"),i=document.getElementById("personalisation-input--song2"),u=document.getElementById("personalisation-input--feature"),l=r.default.dataset,c=r.default.dataset;Object.keys(r.default.user_top_tracks).length>0&&(l=r.default.user_top_tracks),this.populateDropdown(l,n),this.populateDropdown(c,i),this.populateFeatureDropdown(r.default.features,u);var h=this;(0,a.default)(n).selectize({create:!1,sortField:"text",maxOptions:1500,onChange:function(){h.songSelected(l,n)}}),(0,a.default)(i).selectize({create:!1,sortField:"text",maxOptions:1500,onChange:function(){h.songSelected(c,i)}}),(0,a.default)(u).selectize({create:!1,sortField:"text",onChange:function(){h.selectFeature(u)}}),(0,a.default)("#personalisation-input").submit(function(t){t.preventDefault()}),document.getElementById("personalisation-input--submit").addEventListener("click",function(){console.log("click"),e.barChart.removeBars(),e.barChart.drawBars(),document.getElementsByClassName("personalisation-subtitle")[0].innerHTML="The graph below shows a comparison of\n      <span>"+o.capitalize(r.default["personalisation-song1"].title.toString())+"</span>\n      with <span>"+o.capitalize(r.default["personalisation-song2"].title.toString())+"</span>\n      by <span>"+r.default["personalisation-feature"]+"</span>"})}return i(t,[{key:"populateDropdown",value:function(t,e){Object.keys(t).forEach(function(n){var i=t[n],r=document.createElement("option");r.textContent=o.capitalize(i.title.toString())+" - "+o.capitalize(i.artist.toString()),r.value=i.spotify_id,e.appendChild(r)})}},{key:"searchForSong",value:function(t){for(var e=document.getElementById("personalisation-search--song"+t).value.toLowerCase(),n=document.getElementById("personalisation-input--song"+t).options,i=0;i<n.length;i++)0==n[i].value.indexOf(e)&&(n[i].selected=!0),""==document.getElementById("personalisation-input--song"+t).value&&(n[0].selected=!0)}},{key:"songSelected",value:function(t,e){var n=void 0;Object.keys(t).forEach(function(i){var r=t[i];r.spotify_id===e.value&&(n=r)});var i=e.id.substr(e.id.length-1);document.querySelector(".personalisation-subtitle--song"+i);r.default["personalisation-song"+i]=n}},{key:"selectFeature",value:function(t){r.default["personalisation-feature"]=t.value.toLowerCase()}},{key:"populateFeatureDropdown",value:function(t,e){r.default.features.forEach(function(t){var n=document.createElement("option");n.textContent=t,n.value=t,e.appendChild(n)})}},{key:"addTextNextToSelectize",value:function(){document.querySelectorAll(".selectize-input")}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.meanData=function(){var t=o.default.dataset,e={},n=new Set,i=0,r=["danceability","energy","valence","acousticness","speechiness","liveness","instrumentalness","duration_ms"],s=[];for(var a in t.forEach(function(t){n.add(t.year),t.danceability&&(i++,r.forEach(function(n){e[n]?e[n]+=t[n]:e[n]=t[n]}))}),e)e[a]=e[a]/i;n.forEach(function(e){var n=0,i={};t.forEach(function(t){t.year===e&&(i.year=e,n++,t.danceability&&(i.count=n,r.forEach(function(e){i[e]?i[e]+=t[e]:i[e]=t[e]})))}),r.forEach(function(t){i[t]=(i[t]/i.count).toFixed(3)}),s.push(i)}),o.default.yearlyAverages=s,o.default.overallAverages=e},e.capitalize=function(t){for(var e=t.toLowerCase().split(" "),n=0;n<e.length;n++)!e[n].charAt(0).match(/[a-z]/i)&&e[n].charAt(1).match(/[a-z]/i)?e[n]=e[n].charAt(0)+e[n].charAt(1).toUpperCase()+e[n].substring(2):e[n]=e[n].charAt(0).toUpperCase()+e[n].substring(1);return e.join(" ")},e.underscoreString=function(t){return t.replace(/ /g,"_")},e.cleanDataForBarChart=function(){var t=o.default["personalisation-song1"],e=o.default["personalisation-song2"];return[{title:t.title,artist:t.artist,features:{danceability:t.danceability,valence:t.valence,acousticness:t.acousticness,energy:t.energy,instrumentalness:t.instrumentalness,liveness:t.liveness,speechiness:t.speechiness}},{title:e.title,artist:e.artist,features:{danceability:e.danceability,valence:e.valence,acousticness:e.acousticness,energy:e.energy,instrumentalness:e.instrumentalness,liveness:e.liveness,speechiness:e.speechiness}}]};var i,r=n(43),o=(i=r)&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=l(n(5)),s=n(43),a=(i=s)&&i.__esModule?i:{default:i},u=l(n(45));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=o.select("#bar-chart"),this.margin={top:20,right:20,bottom:30,left:40},this.width=+this.svg.attr("width")-this.margin.left-this.margin.right,this.height=+this.svg.attr("height")-this.margin.top-this.margin.bottom,this.x=o.scaleBand().rangeRound([0,this.width]).padding(.1),this.y=o.scaleLinear().rangeRound([this.height,0]),this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")")}return r(t,[{key:"drawBars",value:function(){var t=u.cleanDataForBarChart();t.forEach(function(t){t.title=u.capitalize(t.title)});var e=this,n=e.y,i=e.x;console.log(a.default["personalisation-feature"]),t.forEach(function(r){i.domain(t.map(function(t){return t.title})),n.domain([0,1]),e.g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+e.height+")").call(o.axisBottom(i)),e.g.append("g").attr("class","axis axis--y").call(o.axisLeft(n).ticks(10,"%")).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text(u.capitalize(a.default["personalisation-feature"])).style("fill","#000"),e.g.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("fill","#ff6a07").attr("x",function(t){return i(t.title)}).attr("y",function(t){return n(t.features[""+a.default["personalisation-feature"]])}).attr("width",i.bandwidth()).attr("height",function(t){return e.height-n(t.features[""+a.default["personalisation-feature"]])})})}},{key:"removeBars",value:function(){var t=o.select("#bar-chart");[".bar","text",".tick"].forEach(function(e){t.selectAll(e).remove().exit().data(u.cleanDataForBarChart())})}}]),t}();e.default=c},function(t,e,n){var i,r,o,s,a,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i="function"==typeof(o=function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=r(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,s,u=[],l=t.split(/ +/);for(e=0,n=l.length;e<n;e++){if(i=o(l[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));u.push({string:l[e],regex:new RegExp(i,"i")})}return u},t.prototype.iterator=function(t,e){(s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,r,o,s;t=this.prepareSearch(t,e),r=t.tokens,n=t.options.fields,o=r.length,s=t.options.nesting;var a,u=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},l=(a=n.length)?1===a?function(t,e){return u(i(e,n[0],s),t)}:function(t,e){for(var r=0,o=0;r<a;r++)o+=u(i(e,n[r],s),t);return o/a}:function(){return 0};return o?1===o?function(t){return l(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<o;n++){if((e=l(r[n],t))<=0)return 0;i+=e}return i/o}:function(t){for(var e=0,n=0;e<o;e++)n+=l(r[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,o,s,a,u,l,c,h,f,p,d;if(d=!(t=(s=this).prepareSearch(t,n)).query&&n.sort_empty||n.sort,f=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},u=[],d)for(r=0,o=d.length;r<o;r++)(t.query||"$score"!==d[r].field)&&u.push(d[r]);if(t.query){for(p=!0,r=0,o=u.length;r<o;r++)if("$score"===u[r].field){p=!1;break}p&&u.unshift({field:"$score",direction:"desc"})}else for(r=0,o=u.length;r<o;r++)if("$score"===u[r].field){u.splice(r,1);break}for(h=[],r=0,o=u.length;r<o;r++)h.push("desc"===u[r].direction?-1:1);return(l=u.length)?1===l?(a=u[0].field,c=h[0],function(t,n){return c*e(f(a,t),f(a,n))}):function(t,n){var i,r,o;for(i=0;i<l;i++)if(o=u[i].field,r=h[i]*e(f(o,t),f(o,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"===(void 0===t?"undefined":u(t)))return t;var i=(e=n({},e)).fields,r=e.sort,o=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),r&&!s(r)&&(e.sort=[r]),o&&!s(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,o;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||this.getScoreFunction(i),t.length?this.iterator(this.items,function(t,r){n=o(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:r})}):this.iterator(this.items,function(t,e){i.items.push({score:1,id:e})}),(r=this.getSortFunction(i,e))&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")))>(e=l(String(e||"")))?1:e>t?-1:0},n=function(t,e){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,n,i,r="",o={};for(n in a)if(a.hasOwnProperty(n))for(r+=i=a[n].substring(2,a[n].length-1),t=0,e=i.length;t<e;t++)o[i.charAt(t)]=n;var s=new RegExp("["+r+"]","g");return function(t){return t.replace(s,function(t){return o[t]}).toLowerCase()}}();return t})?o.call(e,n,e,t):o,function(i,s){r="function"==typeof(o=s)?o.call(e,n,e,t):o}(0,function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?o.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,o.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(this.plugins.settings[r]=t[r],o.push(r));for(;o.length;)this.require(o.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,i=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(u,l){s=[n(4),i,r],void 0===(a="function"==typeof(o=l)?o.apply(e,s):o)||(t.exports=a)}(0,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function t(e){var i=0;if(3===e.nodeType){var r=e.data.search(n);if(r>=0&&e.data.length>0){var o=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(r),u=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(u),a.parentNode.replaceChild(s,a),i=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=t(e.childNodes[l]);return i};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),s=o?91:17,a=o?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(t){return void 0!==t},h=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},f=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p={before:function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},d=function(t,e,n){var i,r=t.trigger,o={};for(i in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return r.apply(t,arguments);o[n]=arguments},n.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(i)&&r.apply(t,o[i])},g=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},v=function(e){var n=null,i=function(i,r){var o,s,a,u,l,c,h,f;i=i||window.event||{},r=r||{},i.metaKey||i.altKey||(r.force||!1!==e.data("grow"))&&(o=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(a=(s=i.keyCode)>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(f=g(e[0])).length?o=o.substring(0,f.start)+o.substring(f.start+f.length):8===s&&f.start?o=o.substring(0,f.start-1)+o.substring(f.start+1):46===s&&void 0!==f.start&&(o=o.substring(0,f.start)+o.substring(f.start+1)):a&&(c=i.shiftKey,h=String.fromCharCode(i.keyCode),o+=h=c?h.toUpperCase():h.toLowerCase())),u=e.attr("placeholder"),!o&&u&&(o=u),(l=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)}(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r}(o,e)+4)!==n&&(n=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},y=function n(i,r){var o,s,a,u;(u=i[0]).selectize=this;var l,c,h,f=window.getComputedStyle&&window.getComputedStyle(u,null);if(a=(a=f?f.getPropertyValue("direction"):u.currentStyle&&u.currentStyle.direction)||i.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:r,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===u.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++n.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=r.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(h),h=window.setTimeout(function(){l.apply(t,e)},c)})}),this.sifter=new e(this.options,{diacritics:r.diacritics}),this.settings.options){for(o=0,s=this.settings.options.length;o<s;o++)this.registerOption(this.settings.options[o]);delete this.settings.options}if(this.settings.optgroups){for(o=0,s=this.settings.optgroups.length;o<s;o++)this.registerOptionGroup(this.settings.optgroups[o]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return r.mixin(y),void 0!==n?n.mixin(y):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(y.prototype,{setup:function(){var e,n,i,r,u,c,h,f,p,d,g,y,m,_,b=this,x=b.settings,w=b.eventNS,k=t(window),M=t(document),T=b.$input;if(h=b.settings.mode,f=T.attr("class")||"",e=t("<div>").addClass(x.wrapperClass).addClass(f).addClass(h),n=t("<div>").addClass(x.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",T.is(":disabled")?"-1":b.tabIndex),c=t(x.dropdownParent||e),r=t("<div>").addClass(x.dropdownClass).addClass(h).hide().appendTo(c),u=t("<div>").addClass(x.dropdownContentClass).appendTo(r),(d=T.attr("id"))&&(i.attr("id",d+"-selectized"),t("label[for='"+d+"']").attr("for",d+"-selectized")),b.settings.copyClassesToDropdown&&r.addClass(f),e.css({width:T[0].style.width}),b.plugins.names.length&&(p="plugin-"+b.plugins.names.join(" plugin-"),e.addClass(p),r.addClass(p)),(null===x.maxItems||x.maxItems>1)&&1===b.tagType&&T.attr("multiple","multiple"),b.settings.placeholder&&i.attr("placeholder",x.placeholder),!b.settings.splitOn&&b.settings.delimiter){var C=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}T.attr("autocorrect")&&i.attr("autocorrect",T.attr("autocorrect")),T.attr("autocapitalize")&&i.attr("autocapitalize",T.attr("autocapitalize")),b.$wrapper=e,b.$control=n,b.$control_input=i,b.$dropdown=r,b.$dropdown_content=u,r.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)}),r.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)}),y="mousedown",m="*:not(input)",_=function(){return b.onItemSelect.apply(b,arguments)},(g=n).on(y,m,function(t){for(var e=t.target;e&&e.parentNode!==g[0];)e=e.parentNode;return t.currentTarget=e,_.apply(this,[t])}),v(i),n.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),M.on("keydown"+w,function(t){b.isCmdDown=t[o?"metaKey":"ctrlKey"],b.isCtrlDown=t[o?"altKey":"ctrlKey"],b.isShiftDown=t.shiftKey}),M.on("keyup"+w,function(t){t.keyCode===a&&(b.isCtrlDown=!1),16===t.keyCode&&(b.isShiftDown=!1),t.keyCode===s&&(b.isCmdDown=!1)}),M.on("mousedown"+w,function(t){if(b.isFocused){if(t.target===b.$dropdown[0]||t.target.parentNode===b.$dropdown[0])return!1;b.$control.has(t.target).length||t.target===b.$control[0]||b.blur(t.target)}}),k.on(["scroll"+w,"resize"+w].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)}),k.on("mousemove"+w,function(){b.ignoreHover=!1}),this.revertSettings={$children:T.children().detach(),tabindex:T.attr("tabindex")},T.attr("tabindex",-1).hide().after(b.$wrapper),t.isArray(x.items)&&(b.setValue(x.items),delete x.items),l&&T.on("invalid"+w,function(t){t.preventDefault(),b.isInvalid=!0,b.refreshState()}),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,T.is(":disabled")&&b.disable(),b.on("change",this.onChange),T.data("selectize",b),T.addClass("selectized"),b.trigger("initialize"),!0===x.preload&&b.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.optgroupLabelField,i={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,n){return'<div class="option">'+n(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=t.extend({},i,this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),r=0,o=i.length;r<o;r++)n.createItem(i[r])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];if(this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var e=this.getAdjacentOption(this.$activeOption,1);e.length&&this.setActiveOption(e,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(o?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=t(e.currentTarget)).hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(n=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){d(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,o,s,a,u,l,c;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(c=this.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[c[0]]))>(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))&&(l=s,s=a,a=l),r=s;r<=a;r++)u=this.$control[0].childNodes[r],-1===this.$activeItems.indexOf(u)&&(t(u).addClass("active"),this.$activeItems.push(u));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(o,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,i){var r,o,s,a,u;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),!n&&c(n)||(r=this.$dropdown_content.height(),o=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,a=s=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,u=s-r+o,s+o>r+n?this.$dropdown_content.stop().animate({scrollTop:u},i?this.settings.scrollDuration:0):s<n&&this.$dropdown_content.stop().animate({scrollTop:a},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,o=this.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(r=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,i=this.sifter.search(e,t.extend(s,{score:r})),this.currentResults=i):i=t.extend(!0,{},this.currentResults),o.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==this.items.indexOf(h(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,o,s,a,u,l,c,f,p,d,g,v,y,m,_;void 0===e&&(e=!0);var b,x,w=this,k=t.trim(w.$control_input.val()),M=w.search(k),T=w.$dropdown_content,C=w.$activeOption&&h(w.$activeOption.attr("data-value"));for(s=M.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},u=[],n=0;n<s;n++)for(l=w.options[M.items[n].id],c=w.render("option",l),f=l[w.settings.optgroupField]||"",r=0,o=(p=t.isArray(f)?f:[f])&&p.length;r<o;r++)f=p[r],w.optgroups.hasOwnProperty(f)||(f=""),a.hasOwnProperty(f)||(a[f]=document.createDocumentFragment(),u.push(f)),a[f].appendChild(c);for(this.settings.lockOptgroupOrder&&u.sort(function(t,e){return(w.optgroups[t].$order||0)-(w.optgroups[e].$order||0)}),d=document.createDocumentFragment(),n=0,s=u.length;n<s;n++)f=u[n],w.optgroups.hasOwnProperty(f)&&a[f].childNodes.length?((g=document.createDocumentFragment()).appendChild(w.render("optgroup_header",w.optgroups[f])),g.appendChild(a[f]),d.appendChild(w.render("optgroup",t.extend({},w.optgroups[f],{html:(b=g,x=void 0,x=document.createElement("div"),x.appendChild(b.cloneNode(!0)),x.innerHTML),dom:g})))):d.appendChild(a[f]);if(T.html(d),w.settings.highlight&&M.query.length&&M.tokens.length)for(T.removeHighlight(),n=0,s=M.tokens.length;n<s;n++)i(T,M.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;n<s;n++)w.getOption(w.items[n]).addClass("selected");(v=w.canCreate(k))&&(T.prepend(w.render("option_create",{input:k})),_=t(T[0].childNodes[0])),w.hasOptions=M.items.length>0||v,w.hasOptions?(M.items.length>0?((m=C&&w.getOption(C))&&m.length?y=m:"single"===w.settings.mode&&w.items.length&&(y=w.getOption(w.items[0])),y&&y.length||(y=_&&!w.settings.addPrecedence?w.getAdjacentOption(_,1):T.find("[data-selectable]:first"))):y=_,w.setActiveOption(y),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var n,i,r;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)this.addOption(e[n]);else(r=this.registerOption(e))&&(this.userOptions[r]=!0,this.lastQuery=null,this.trigger("option_add",r,e))},registerOption:function(t){var e=h(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=h(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o,s,a,u,l;if(e=h(e),o=h(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=this.options[e].$order,o!==e&&(delete this.options[e],-1!==(s=this.items.indexOf(e))&&this.items.splice(s,1,o)),n.$order=n.$order||l,this.options[o]=n,a=this.renderCache.item,u=this.renderCache.option,a&&(delete a[e],delete a[o]),u&&(delete u[e],delete u[o]),-1!==this.items.indexOf(o)&&(i=this.getItem(e),r=t(this.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=h(t);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[t],i&&delete i[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(void 0!==(e=h(e))&&null!==e)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,o=i.length;r<o;r++)this.isPending=r<o-1,this.addItem(i[r],n)},addItem:function(e,n){d(this,n?[]:["change"],function(){var i,r,o,s,a,u=this.settings.mode;e=h(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===u&&this.clear(n),"multi"===u&&this.isFull()||(i=t(this.render("item",this.options[e])),a=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(i),(!this.isPending||!a&&this.isFull())&&this.refreshState(),this.isSetup&&(o=this.$dropdown_content.find("[data-selectable]"),this.isPending||(r=this.getOption(e),s=this.getAdjacentOption(r,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==u),s&&this.setActiveOption(this.getOption(s))),!o.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,i),this.updateOriginalInput({silent:n})))):"single"===u&&this.close()})},removeItem:function(e,n){var i,r,o;i=e instanceof t?e:this.getItem(e),e=h(i.attr("data-value")),-1!==(r=this.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(o=this.$activeItems.indexOf(i[0]),this.$activeItems.splice(o,1)),this.items.splice(r,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,n),r<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var s,a,l="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},c=(s=function(t){if(i.unlock(),!t||"object"!==(void 0===t?"undefined":u(t)))return o();var e=h(t[i.settings.valueField]);if("string"!=typeof e)return o();i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),o(t)},a=!1,function(){a||(a=!0,s.apply(this,arguments))}),f=l.apply(this,[e,c]);return void 0!==f&&c(f),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r;if(t=t||{},1===this.tagType){for(i=[],e=0,n=this.items.length;e<n;e++)r=this.options[this.items[e]][this.settings.labelField]||"",i.push('<option value="'+f(this.items[e])+'" selected="selected">'+f(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,o,s,a,u,l,c;if(r=e&&8===e.keyCode?-1:1,o=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(u=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),s=[],this.$activeItems.length){for(c=this.$control.children(".active:"+(r>0?"last":"first")),a=this.$control.children(":not(input)").index(c),r>0&&a++,n=0,i=this.$activeItems.length;n<i;n++)s.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(r<0&&0===o.start&&0===o.length?s.push(this.items[this.caretPos-1]):r>0&&o.start===this.$control_input.val().length&&s.push(this.items[this.caretPos]));if(!s.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[s]))return!1;for(void 0!==a&&this.setCaret(a);s.length;)this.removeItem(s.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),u&&(l=this.getOption(u)).length&&this.setActiveOption(l),!0},advanceSelection:function(t,e){var n,i,r,o,s;0!==t&&(this.rtl&&(t*=-1),n=t>0?"last":"first",i=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(o=this.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===o)&&!o&&this.advanceCaret(t,e)):(s=this.$control.children(".active:"+n)).length&&(r=this.$control.children(":not(input)").index(s),this.setActiveItem(null),this.setCaret(t>0?r+1:r)))},advanceCaret:function(t,e){var n,i;0!==t&&(n=t>0?"next":"prev",this.isShiftDown?(i=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(i),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){var n,i,r,o;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(n=0,i=(r=this.$control.children(":not(input)")).length;n<i;n++)o=t(r[n]).detach(),n<e?this.$control_input.before(o):this.$control.append(o);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,n){var i,r,o="",s=!1;return"option"!==e&&"item"!==e||(s=!!(i=h(n[this.settings.valueField]))),s&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(i))?this.renderCache[e][i]:(o=t(this.settings.render[e].apply(this,[n,f])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&(r=n[this.settings.optgroupValueField]||"",o.attr("data-group",r)),"option"!==e&&"item"!==e||o.attr("data-value",i||""),s&&(this.renderCache[e][i]=o[0]),o[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),y.count=0,y.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,o=i.labelField,s=i.valueField,a=i.optgroupField,u=i.optgroupLabelField,l=i.optgroupValueField;return this.each(function(){if(!this.selectize){var c=t(this),f=this.tagName.toLowerCase(),p=c.attr("placeholder")||c.attr("data-placeholder");p||i.allowEmptyOption||(p=c.children('option[value=""]').text());var d={placeholder:p,options:[],optgroups:[],items:[]};"select"===f?function(e,n){var c,f,p,d,g=n.options,v={},y=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},m=function(e,r){e=t(e);var u=h(e.val());if(u||i.allowEmptyOption)if(v.hasOwnProperty(u)){if(r){var l=v[u][a];l?t.isArray(l)?l.push(r):v[u][a]=[l,r]:v[u][a]=r}}else{var c=y(e)||{};c[o]=c[o]||e.text(),c[s]=c[s]||u,c[a]=c[a]||r,v[u]=c,g.push(c),e.is(":selected")&&n.items.push(u)}},_=function(e){var i,r,o,s,a;for((o=(e=t(e)).attr("label"))&&((s=y(e)||{})[u]=o,s[l]=o,n.optgroups.push(s)),i=0,r=(a=t("option",e)).length;i<r;i++)m(a[i],o)};for(n.maxItems=e.attr("multiple")?null:1,c=0,f=(d=e.children()).length;c<f;c++)"optgroup"===(p=d[c].tagName.toLowerCase())?_(d[c]):"option"===p&&m(d[c])}(c,d):function(e,n){var a,u,l,c,h=e.attr(r);if(h)for(n.options=JSON.parse(h),a=0,u=n.options.length;a<u;a++)n.items.push(n.options[a][s]);else{var f=t.trim(e.val()||"");if(!i.allowEmptyOption&&!f.length)return;for(a=0,u=(l=f.split(i.delimiter)).length;a<u;a++)(c={})[o]=l[a],c[s]=l[a],n.options.push(c);n.items=l}}(c,d),new y(c,t.extend(!0,{},n,d,e))}})},t.fn.selectize.defaults=y.defaults,t.fn.selectize.support={validity:l},y.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,i=this;i.lock=(n=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,r=[];n.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),i.setValue(r),i.setActiveItem(e)}})}}()}}),y.define("dropdown_header",function(e){var n,i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),y.define("optgroup_columns",function(e){var n,i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=(n=i.onKeyDown,function(t){var e,r,o,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?n.apply(this,arguments):(i.ignoreHover=!0,e=(s=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((r=(o=(s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]")).find("[data-selectable]")).eq(Math.min(o.length-1,e))).length&&this.setActiveOption(r)))});var r=function(){var n,r,o,s,a,u,l;if((r=(l=t("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(e.equalizeHeight){for(o=0,n=0;n<r;n++)o=Math.max(o,l.eq(n).height());l.css({height:o})}e.equalizeWidth&&(u=i.$dropdown_content.innerWidth()-function t(){var e,n=t.width,i=document;return void 0===n&&((e=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),n=t.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),n}(),s=Math.round(u/r),l.css({width:s}),r>1&&(a=u-s*(r-1),l.eq(r-1).css({width:a})))}};(e.equalizeHeight||e.equalizeWidth)&&(p.after(this,"positionDropdown",r),p.after(this,"refreshOptions",r))}),y.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);"single"!==this.settings.mode?function(e,n){var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+f(n.title)+'">'+n.label+"</a>";e.setup=(i=r.setup,function(){if(n.append){var s=r.settings.render.item;r.settings.render.item=function(t){return n=s.apply(e,arguments),i=o,r=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,r)+i+n.substring(r);var n,i,r}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!r.isLocked){var n=t(e.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}})})}(this,e):function(e,n){n.className="remove-single";var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+f(n.title)+'">'+n.label+"</a>";e.setup=(i=r.setup,function(){if(n.append){var s=t(r.$input.context).attr("id"),a=(t("#"+s),r.settings.render.item);r.settings.render.item=function(t){return a.apply(e,arguments)+o}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),r.isLocked||r.clear()})})}(this,e)}),y.define("restore_on_backspace",function(t){var e,n=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=n.onKeyDown,function(n){var i,r;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})}),y})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zoomAndPan=function(t,e,n,r){i.select("#"+t).transition().duration(1750).attr("transform","translate("+e+","+n+")scale("+r+")")},e.annotate=function(t,e,n,r,s,a){var l=o.underscoreString(e);if(document.getElementById("label_"+l)){var c=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}(i.select("#label_"+l+" .annotation-note").attr("transform")),h=c[0],f=c[1];h!=s||f!=a?(document.getElementById("label_"+l).remove(),u(t,e,n,r,s,a,l)):i.select("#label_"+l).style("display","block")}else u(t,e,n,r,s,a,l)},e.removeAllAnnotations=function(t){document.querySelectorAll("."+t+"--annotation-group").forEach(function(t){t.style.display="none"})},e.zoomReset=function(t){i.select("#"+t).transition().duration(1750).attr("transform","translate(0,0)scale(1)")},e.explore=function(t){console.log("explore called"),i.select("#"+t).call(i.zoom().scaleExtent([.8,10]).on("zoom",function(){i.select("#"+t).attr("transform",i.event.transform)}))},e.disableExplore=function(t){console.log("explore called"),i.select("#"+t).call(i.zoom().scaleExtent([.8,10]))};a(n(4));var i=s(n(5)),r=s(n(37)),o=(a(n(43)),s(n(45)));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,o,s,a,u){r.annotationLabel;var l=[{note:{title:e},x:n,y:o,dx:s,dy:a,connector:{end:"arrow"}}],c=r.annotation().editMode(!1).type(r.annotationLabel).annotations(l);i.select("#"+t).append("g").attr("class",t+"--annotation-group").attr("id","label_"+u).style("font-size","10px").call(c)}},function(t,e){"use strict";var n,i,r,o,s,a,u,l=(n="https://api.spotify.com/v1",i=null,r=null,o=function(){var t=Array.prototype.slice.call(arguments),e=t[0],n=t.slice(1);return e=e||{},n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},s=function(t,e){var n=new XMLHttpRequest,o=function(r,o){var s=t.type||"GET";if(n.open(s,function(t,e){var n="";for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];n+=encodeURIComponent(i)+"="+encodeURIComponent(r)+"&"}return n.length>0&&(t=t+"?"+(n=n.substring(0,n.length-1))),t}(t.url,t.params)),i&&n.setRequestHeader("Authorization","Bearer "+i),t.contentType&&n.setRequestHeader("Content-Type",t.contentType),n.onreadystatechange=function(){if(4===n.readyState){var t=null;try{t=n.responseText?JSON.parse(n.responseText):""}catch(t){console.error(t)}n.status>=200&&n.status<300?function(t){r&&r(t),e&&e(null,t)}(t):(o&&o(n),e&&e(n,null))}},"GET"===s)n.send(null);else{var a=null;t.postData&&(a="image/jpeg"===t.contentType?t.postData:JSON.stringify(t.postData)),n.send(a)}};return e?(o(),null):function(t,e){var n;if(null!==r){var i=r.defer();t(function(t){i.resolve(t)},function(t){i.reject(t)}),n=i.promise}else window.Promise&&(n=new window.Promise(t));return n?new function(t,e){return t.abort=e,t}(n,e):null}(o,function(){n.abort()})},a=function(t,e,n,i){var r={},a=null;return"object"==typeof e?(r=e,a=n):"function"==typeof e&&(a=e),"GET"!==(t.type||"GET")&&t.postData&&!i?t.postData=o(t.postData,r):t.params=o(t.params,r),s(t,a)},((u=function(){}).prototype={constructor:l}).getGeneric=function(t,e){return a({url:t},e)},u.prototype.getMe=function(t,e){return a({url:n+"/me"},t,e)},u.prototype.getMySavedTracks=function(t,e){return a({url:n+"/me/tracks"},t,e)},u.prototype.addToMySavedTracks=function(t,e,i){return a({url:n+"/me/tracks",type:"PUT",postData:t},e,i)},u.prototype.removeFromMySavedTracks=function(t,e,i){return a({url:n+"/me/tracks",type:"DELETE",postData:t},e,i)},u.prototype.containsMySavedTracks=function(t,e,i){var r={url:n+"/me/tracks/contains",params:{ids:t.join(",")}};return a(r,e,i)},u.prototype.getMySavedAlbums=function(t,e){return a({url:n+"/me/albums"},t,e)},u.prototype.addToMySavedAlbums=function(t,e,i){return a({url:n+"/me/albums",type:"PUT",postData:t},e,i)},u.prototype.removeFromMySavedAlbums=function(t,e,i){return a({url:n+"/me/albums",type:"DELETE",postData:t},e,i)},u.prototype.containsMySavedAlbums=function(t,e,i){var r={url:n+"/me/albums/contains",params:{ids:t.join(",")}};return a(r,e,i)},u.prototype.getMyTopArtists=function(t,e){return a({url:n+"/me/top/artists"},t,e)},u.prototype.getMyTopTracks=function(t,e){return a({url:n+"/me/top/tracks"},t,e)},u.prototype.getMyRecentlyPlayedTracks=function(t,e){return a({url:n+"/me/player/recently-played"},t,e)},u.prototype.followUsers=function(t,e){var i={url:n+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return a(i,e)},u.prototype.followArtists=function(t,e){var i={url:n+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return a(i,e)},u.prototype.followPlaylist=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/followers",type:"PUT",postData:{}};return a(o,i,r)},u.prototype.unfollowUsers=function(t,e){var i={url:n+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return a(i,e)},u.prototype.unfollowArtists=function(t,e){var i={url:n+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return a(i,e)},u.prototype.unfollowPlaylist=function(t,e,i){var r={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/followers",type:"DELETE"};return a(r,i)},u.prototype.isFollowingUsers=function(t,e){var i={url:n+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return a(i,e)},u.prototype.isFollowingArtists=function(t,e){var i={url:n+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return a(i,e)},u.prototype.areFollowingPlaylist=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/followers/contains",type:"GET",params:{ids:i.join(",")}};return a(o,r)},u.prototype.getFollowedArtists=function(t,e){return a({url:n+"/me/following",type:"GET",params:{type:"artist"}},t,e)},u.prototype.getUser=function(t,e,i){var r={url:n+"/users/"+encodeURIComponent(t)};return a(r,e,i)},u.prototype.getUserPlaylists=function(t,e,i){var r;return"string"==typeof t?r={url:n+"/users/"+encodeURIComponent(t)+"/playlists"}:(r={url:n+"/me/playlists"},i=e,e=t),a(r,e,i)},u.prototype.getPlaylist=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e};return a(o,i,r)},u.prototype.getPlaylistTracks=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks"};return a(o,i,r)},u.prototype.createPlaylist=function(t,e,i){var r={url:n+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:e};return a(r,e,i)},u.prototype.changePlaylistDetails=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e,type:"PUT",postData:i};return a(o,i,r)},u.prototype.addTracksToPlaylist=function(t,e,i,r,o){var s={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"POST",postData:{uris:i}};return a(s,r,o,!0)},u.prototype.replaceTracksInPlaylist=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"PUT",postData:{uris:i}};return a(o,{},r)},u.prototype.reorderTracksInPlaylist=function(t,e,i,r,o,s){var u={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"PUT",postData:{range_start:i,insert_before:r}};return a(u,o,s)},u.prototype.removeTracksFromPlaylist=function(t,e,i,r){var o=i.map(function(t){return"string"==typeof t?{uri:t}:t}),s={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:o}};return a(s,{},r)},u.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,e,i,r,o){var s=i.map(function(t){return"string"==typeof t?{uri:t}:t}),u={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:s,snapshot_id:r}};return a(u,{},o)},u.prototype.removeTracksFromPlaylistInPositions=function(t,e,i,r,o){var s={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/tracks",type:"DELETE",postData:{positions:i,snapshot_id:r}};return a(s,{},o)},u.prototype.uploadCustomPlaylistCoverImage=function(t,e,i,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists/"+e+"/images",type:"PUT",postData:i.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return a(o,{},r)},u.prototype.getAlbum=function(t,e,i){return a({url:n+"/albums/"+t},e,i)},u.prototype.getAlbumTracks=function(t,e,i){return a({url:n+"/albums/"+t+"/tracks"},e,i)},u.prototype.getAlbums=function(t,e,i){var r={url:n+"/albums/",params:{ids:t.join(",")}};return a(r,e,i)},u.prototype.getTrack=function(t,e,i){var r={};return r.url=n+"/tracks/"+t,a(r,e,i)},u.prototype.getTracks=function(t,e,i){var r={url:n+"/tracks/",params:{ids:t.join(",")}};return a(r,e,i)},u.prototype.getArtist=function(t,e,i){return a({url:n+"/artists/"+t},e,i)},u.prototype.getArtists=function(t,e,i){var r={url:n+"/artists/",params:{ids:t.join(",")}};return a(r,e,i)},u.prototype.getArtistAlbums=function(t,e,i){return a({url:n+"/artists/"+t+"/albums"},e,i)},u.prototype.getArtistTopTracks=function(t,e,i,r){return a({url:n+"/artists/"+t+"/top-tracks",params:{country:e}},i,r)},u.prototype.getArtistRelatedArtists=function(t,e,i){return a({url:n+"/artists/"+t+"/related-artists"},e,i)},u.prototype.getFeaturedPlaylists=function(t,e){return a({url:n+"/browse/featured-playlists"},t,e)},u.prototype.getNewReleases=function(t,e){return a({url:n+"/browse/new-releases"},t,e)},u.prototype.getCategories=function(t,e){return a({url:n+"/browse/categories"},t,e)},u.prototype.getCategory=function(t,e,i){return a({url:n+"/browse/categories/"+t},e,i)},u.prototype.getCategoryPlaylists=function(t,e,i){return a({url:n+"/browse/categories/"+t+"/playlists"},e,i)},u.prototype.search=function(t,e,i,r){var o={url:n+"/search/",params:{q:t,type:e.join(",")}};return a(o,i,r)},u.prototype.searchAlbums=function(t,e,n){return this.search(t,["album"],e,n)},u.prototype.searchArtists=function(t,e,n){return this.search(t,["artist"],e,n)},u.prototype.searchTracks=function(t,e,n){return this.search(t,["track"],e,n)},u.prototype.searchPlaylists=function(t,e,n){return this.search(t,["playlist"],e,n)},u.prototype.getAudioFeaturesForTrack=function(t,e){var i={};return i.url=n+"/audio-features/"+t,a(i,{},e)},u.prototype.getAudioFeaturesForTracks=function(t,e){return a({url:n+"/audio-features",params:{ids:t}},{},e)},u.prototype.getAudioAnalysisForTrack=function(t,e){var i={};return i.url=n+"/audio-analysis/"+t,a(i,{},e)},u.prototype.getRecommendations=function(t,e){return a({url:n+"/recommendations"},t,e)},u.prototype.getAvailableGenreSeeds=function(t){return a({url:n+"/recommendations/available-genre-seeds"},{},t)},u.prototype.getMyDevices=function(t){return a({url:n+"/me/player/devices"},{},t)},u.prototype.getMyCurrentPlaybackState=function(t,e){return a({url:n+"/me/player"},t,e)},u.prototype.getMyCurrentPlayingTrack=function(t,e){return a({url:n+"/me/player/currently-playing"},t,e)},u.prototype.transferMyPlayback=function(t,e,i){var r=e||{};return r.device_ids=t,a({type:"PUT",url:n+"/me/player",postData:r},e,i)},u.prototype.play=function(t,e){var i="device_id"in t?{device_id:t.device_id}:null,r={};return["context_uri","uris","offset"].forEach(function(e){e in t&&(r[e]=t[e])}),a({type:"PUT",url:n+"/me/player/play",params:i,postData:r},"function"==typeof t?t:{},e)},u.prototype.pause=function(t,e){var i="device_id"in t?{device_id:t.device_id}:null;return a({type:"PUT",url:n+"/me/player/pause",params:i},t,e)},u.prototype.skipToNext=function(t,e){var i="device_id"in t?{device_id:t.device_id}:null;return a({type:"POST",url:n+"/me/player/next",params:i},t,e)},u.prototype.skipToPrevious=function(t,e){var i="device_id"in t?{device_id:t.device_id}:null;return a({type:"POST",url:n+"/me/player/previous",params:i},t,e)},u.prototype.seek=function(t,e,i){var r={position_ms:t};return"device_id"in e&&(r.device_id=e.device_id),a({type:"PUT",url:n+"/me/player/seek",params:r},e,i)},u.prototype.setRepeat=function(t,e,i){var r={state:t};return"device_id"in e&&(r.device_id=e.device_id),a({type:"PUT",url:n+"/me/player/repeat",params:r},e,i)},u.prototype.setVolume=function(t,e,i){var r={volume_percent:t};return"device_id"in e&&(r.device_id=e.device_id),a({type:"PUT",url:n+"/me/player/volume",params:r},e,i)},u.prototype.setShuffle=function(t,e,i){var r={state:t};return"device_id"in e&&(r.device_id=e.device_id),a({type:"PUT",url:n+"/me/player/shuffle",params:r},e,i)},u.prototype.getAccessToken=function(){return i},u.prototype.setAccessToken=function(t){i=t},u.prototype.setPromiseImplementation=function(t){var e=!1;try{var n=new t(function(t){t()});"function"==typeof n.then&&"function"==typeof n.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");r=t},u);"object"==typeof t&&"object"==typeof t.exports&&(t.exports=l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=document.querySelectorAll(".playable-track"),e=o.default.dataset;o.default.songPlaying=!1,o.default.currentSong=null,t.forEach(function(t){var n=t.dataset.id;e.forEach(function(e){e.spotify_id===n&&t.setAttribute("data-url",e.preview_url)}),t.addEventListener("click",s,!1)})};var i,r=n(43),o=(i=r)&&i.__esModule?i:{default:i};function s(){var t=new Audio(this.dataset.url),e="./assets/img/sound_on.svg",n="./assets/img/sound_off.svg";if(null!==o.default.currentSong){var i=o.default.currentSong;i.pause(),document.querySelector("[data-url='"+i.getAttribute("src")+"']").style.backgroundImage="url("+e+")",o.default.currentSong=t,o.default.songPlaying&&t.getAttribute("src")===i.getAttribute("src")?function(t,e,n){t.pause(),o.default.songPlaying=!1,e.style.backgroundImage="url("+n+")"}(t,this,e):a(t,this,n)}else o.default.currentSong=t,a(t,this,n)}function a(t,e,n){t.play(),o.default.songPlaying=!0,e.style.backgroundImage="url("+n+")"}},function(t,e,n){var i,r,o,s;s=function(t){return t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),u=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(u>=0?"+":"")+u,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog},r=[n(4),n(52),n(62),n(63),n(70),n(72),n(61),n(75),n(69),n(67),n(73),n(74),n(55),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button},r=[n(4),n(53),n(56),n(61),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var u=r[i]("widget");t.data(u[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(u[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var r={};return t.each(n,function(o){var s=i.options.classes[o]||"";s=t.trim(s.replace(e,"")),r[o]=(s+" "+n[o]).replace(/\s+/g," ")}),r},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}})},r=[n(4),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},u=e.split(".")[0],l=u+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[u]=t[u]||{},r=t[u][e],o=t[u][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:u,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),u=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(u=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):u=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.on(l,c,a):n.on(l,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"},r=[n(4)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio},r=[n(4),n(57),n(58),n(60),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}},r=[n(4),n(59),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))}},r=[n(4),n(55),n(57)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(u=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,u,l,c,h,f,p,d=i.options,g=d.snapTolerance,v=n.offset.left,y=v+i.helperProportions.width,m=n.offset.top,_=m+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=(u=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,h=(c=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,y<u-g||v>l+g||_<c-g||m>h+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==d.snapMode&&(r=Math.abs(c-_)<=g,o=Math.abs(h-m)<=g,s=Math.abs(u-y)<=g,a=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),p=r||o||s||a,"outer"!==d.snapMode&&(r=Math.abs(c-m)<=g,o=Math.abs(h-_)<=g,s=Math.abs(u-v)<=g,a=Math.abs(l-y)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable},r=[n(4),n(63),n(65),n(66),n(69),n(67),n(68),n(55),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},r=[n(4),n(64),n(55),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,u,l=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,u=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(s,{top:u,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),i&&l&&(t.left=a-e.maxWidth),s&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,u={width:n.size.width-a,height:n.size.height-s},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,u=t(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;f&&(u.containerElement=t(f),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,s=u._hasScroll(f,"left")?f.scrollWidth:o,a=u._hasScroll(f)?f.scrollHeight:r,u.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,u=s.containerOffset,l=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,p=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=u),l.left<(s._helper?u.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-u.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?u.left:0),l.top<(s._helper?u.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-u.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?u.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-u.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-u.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),u=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,u="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,h=Math.round((r.width-o.width)/l)*l,f=Math.round((r.height-o.height)/c)*c,p=o.width+h,d=o.height+f,g=i.maxWidth&&i.maxWidth<p,v=i.maxHeight&&i.maxHeight<d,y=i.minWidth&&i.minWidth>p,m=i.minHeight&&i.minHeight>d;i.grid=u,y&&(p+=l),m&&(d+=c),g&&(p-=l),v&&(d-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.left=s.left-h):((d-c<=0||p-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),d-c>0?(n.size.height=d,n.position.top=s.top-f):(d=c-e.height,n.size.height=d,n.position.top=s.top+o.height-d),p-l>0?(n.size.width=p,n.position.left=s.left-h):(p=l-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}}),t.ui.resizable},r=[n(4),n(63),n(71),n(66),n(55),n(54)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.ui.focusable=function(e,n){var i,r,o,s,a,u=e.nodeName.toLowerCase();return"area"===u?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&((o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(s=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(s=!a.disabled):s="a"===u&&e.href||n,s&&t(e).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}})},r=[n(4),n(55),n(72)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var e},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o,s;s=function(t){return function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,u=/%$/,l=t.fn.position;function c(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:!i&&!r?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return l.apply(this,arguments);e=t.extend({},e);var u,f,p,d,g,v,y,m,_=t(e.of),b=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(b),w=(e.collision||"flip").split(" "),k={};return v=9===(m=(y=_)[0]).nodeType?{width:y.width(),height:y.height(),offset:{top:0,left:0}}:t.isWindow(m)?{width:y.width(),height:y.height(),offset:{top:y.scrollTop(),left:y.scrollLeft()}}:m.preventDefault?{width:0,height:0,offset:{top:m.pageY,left:m.pageX}}:{width:y.outerWidth(),height:y.outerHeight(),offset:y.offset()},_[0].preventDefault&&(e.at="left top"),f=v.width,p=v.height,d=v.offset,g=t.extend({},d),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=s.exec(i[0]),n=s.exec(i[1]),k[this]=[t?t[0]:0,n?n[0]:0],e[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?g.left+=f:"center"===e.at[0]&&(g.left+=f/2),"bottom"===e.at[1]?g.top+=p:"center"===e.at[1]&&(g.top+=p/2),u=c(k.at,f,p),g.left+=u[0],g.top+=u[1],this.each(function(){var r,o,s=t(this),a=s.outerWidth(),l=s.outerHeight(),v=h(this,"marginLeft"),y=h(this,"marginTop"),m=a+v+h(this,"marginRight")+x.width,M=l+y+h(this,"marginBottom")+x.height,T=t.extend({},g),C=c(k.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?T.left-=a:"center"===e.my[0]&&(T.left-=a/2),"bottom"===e.my[1]?T.top-=l:"center"===e.my[1]&&(T.top-=l/2),T.left+=C[0],T.top+=C[1],r={marginLeft:v,marginTop:y},t.each(["left","top"],function(n,i){t.ui.position[w[n]]&&t.ui.position[w[n]][i](T,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:r,collisionWidth:m,collisionHeight:M,offset:[u[0]+C[0],u[1]+C[1]],my:e.my,at:e.at,within:b,elem:s})}),e.using&&(o=function(t){var r=d.left-T.left,o=r+f-a,u=d.top-T.top,c=u+p-l,h={target:{element:_,left:d.left,top:d.top,width:f,height:p},element:{element:s,left:T.left,top:T.top,width:a,height:l},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":u>0?"bottom":"middle"};f<a&&i(r+o)<f&&(h.horizontal="center"),p<l&&i(u+c)<p&&(h.vertical="middle"),n(i(r),i(o))>n(i(u),i(c))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),s.offset(t.extend(T,{using:o}))})},t.ui.position={fit:{left:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,u=o-a,l=a+e.collisionWidth-s-o;e.collisionWidth>s?u>0&&l<=0?(i=t.left+u+e.collisionWidth-s-o,t.left+=u-i):t.left=l>0&&u<=0?o:u>l?o+s-e.collisionWidth:o:u>0?t.left+=u:l>0?t.left-=l:t.left=n(t.left-a,t.left)},top:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,u=o-a,l=a+e.collisionHeight-s-o;e.collisionHeight>s?u>0&&l<=0?(i=t.top+u+e.collisionHeight-s-o,t.top+=u-i):t.top=l>0&&u<=0?o:u>l?o+s-e.collisionHeight:o:u>0?t.top+=u:l>0?t.top-=l:t.top=n(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,h=l+e.collisionWidth-a-u,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];c<0?((n=t.left+f+p+d+e.collisionWidth-a-s)<0||n<i(c))&&(t.left+=f+p+d):h>0&&((r=t.left-e.collisionPosition.marginLeft+f+p+d-u)>0||i(r)<h)&&(t.left+=f+p+d)},top:function(t,e){var n,r,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,h=l+e.collisionHeight-a-u,f="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];c<0?((r=t.top+f+p+d+e.collisionHeight-a-s)<0||r<i(c))&&(t.top+=f+p+d):h>0&&((n=t.top-e.collisionPosition.marginTop+f+p+d-u)>0||i(n)<h)&&(t.top+=f+p+d)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position},r=[n(4),n(55)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)}]);